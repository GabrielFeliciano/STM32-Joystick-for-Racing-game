ARM GAS  /tmp/cclMhJ2a.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 2
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"system_stm32f10x.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.SystemInit,"ax",%progbits
  16              		.align	1
  17              		.p2align 2,,3
  18              		.global	SystemInit
  19              		.arch armv7-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu softvfp
  25              	SystemInit:
  26              	.LFB29:
  27              		.file 1 "../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c"
   1:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /**
   2:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   ******************************************************************************
   3:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @file    system_stm32f10x.c
   4:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @author  MCD Application Team
   5:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @version V3.5.0
   6:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @date    11-March-2011
   7:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @brief   CMSIS Cortex-M3 Device Peripheral Access Layer System Source File.
   8:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * 
   9:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * 1.  This file provides two functions and one global variable to be called from 
  10:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *     user application:
  11:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *      - SystemInit(): Setups the system clock (System clock source, PLL Multiplier
  12:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *                      factors, AHB/APBx prescalers and Flash settings). 
  13:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *                      This function is called at startup just after reset and 
  14:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *                      before branch to main program. This call is made inside
  15:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *                      the "startup_stm32f10x_xx.s" file.
  16:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *
  17:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *      - SystemCoreClock variable: Contains the core clock (HCLK), it can be used
  18:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *                                  by the user application to setup the SysTick 
  19:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *                                  timer or configure other parameters.
  20:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *                                     
  21:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *      - SystemCoreClockUpdate(): Updates the variable SystemCoreClock and must
  22:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *                                 be called whenever the core clock is changed
  23:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *                                 during program execution.
  24:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *
  25:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * 2. After each device reset the HSI (8 MHz) is used as system clock source.
  26:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *    Then SystemInit() function is called, in "startup_stm32f10x_xx.s" file, to
  27:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *    configure the system clock before to branch to main program.
  28:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *
  29:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * 3. If the system clock source selected by user fails to startup, the SystemInit()
  30:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *    function will do nothing and HSI still used as system clock source. User can 
  31:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *    add some code to deal with this issue inside the SetSysClock() function.
ARM GAS  /tmp/cclMhJ2a.s 			page 2


  32:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *
  33:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * 4. The default value of HSE crystal is set to 8 MHz (or 25 MHz, depedning on
  34:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *    the product used), refer to "HSE_VALUE" define in "stm32f10x.h" file. 
  35:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *    When HSE is used as system clock source, directly or through PLL, and you
  36:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *    are using different crystal you have to adapt the HSE value to your own
  37:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *    configuration.
  38:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *        
  39:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   ******************************************************************************
  40:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @attention
  41:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *
  42:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  43:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  44:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
  45:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  46:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  47:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  48:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *
  49:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * <h2><center>&copy; COPYRIGHT 2011 STMicroelectronics</center></h2>
  50:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   ******************************************************************************
  51:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
  52:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  53:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /** @addtogroup CMSIS
  54:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @{
  55:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
  56:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  57:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /** @addtogroup stm32f10x_system
  58:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @{
  59:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */  
  60:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
  61:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /** @addtogroup STM32F10x_System_Private_Includes
  62:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @{
  63:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
  64:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  65:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #include "stm32f10x.h"
  66:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  67:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /**
  68:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @}
  69:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
  70:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  71:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /** @addtogroup STM32F10x_System_Private_TypesDefinitions
  72:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @{
  73:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
  74:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  75:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /**
  76:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @}
  77:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
  78:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  79:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /** @addtogroup STM32F10x_System_Private_Defines
  80:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @{
  81:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
  82:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  83:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /*!< Uncomment the line corresponding to the desired System clock (SYSCLK)
  84:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****    frequency (after reset the HSI is used as SYSCLK source)
  85:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****    
  86:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****    IMPORTANT NOTE:
  87:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****    ============== 
  88:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****    1. After each device reset the HSI is used as System clock source.
ARM GAS  /tmp/cclMhJ2a.s 			page 3


  89:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  90:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****    2. Please make sure that the selected System clock doesn't exceed your device's
  91:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       maximum frequency.
  92:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       
  93:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****    3. If none of the define below is enabled, the HSI is used as System clock
  94:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     source.
  95:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  96:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****    4. The System clock configuration functions provided within this file assume that:
  97:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         - For Low, Medium and High density Value line devices an external 8MHz 
  98:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****           crystal is used to drive the System clock.
  99:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         - For Low, Medium and High density devices an external 8MHz crystal is
 100:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****           used to drive the System clock.
 101:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         - For Connectivity line devices an external 25MHz crystal is used to drive
 102:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****           the System clock.
 103:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****      If you are using different crystal you have to adapt those functions accordingly.
 104:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     */
 105:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
 106:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #if defined (STM32F10X_LD_VL) || (defined STM32F10X_MD_VL) || (defined STM32F10X_HD_VL)
 107:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /* #define SYSCLK_FREQ_HSE    HSE_VALUE */
 108:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  #define SYSCLK_FREQ_24MHz  24000000
 109:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #else
 110:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /* #define SYSCLK_FREQ_HSE    HSE_VALUE */
 111:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /* #define SYSCLK_FREQ_24MHz  24000000 */ 
 112:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /* #define SYSCLK_FREQ_36MHz  36000000 */
 113:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /* #define SYSCLK_FREQ_48MHz  48000000 */
 114:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /* #define SYSCLK_FREQ_56MHz  56000000 */
 115:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #define SYSCLK_FREQ_72MHz  72000000
 116:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif
 117:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 118:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /*!< Uncomment the following line if you need to use external SRAM mounted
 119:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****      on STM3210E-EVAL board (STM32 High density and XL-density devices) or on 
 120:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****      STM32100E-EVAL board (STM32 High-density value line devices) as data memory */ 
 121:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #if defined (STM32F10X_HD) || (defined STM32F10X_XL) || (defined STM32F10X_HD_VL)
 122:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /* #define DATA_IN_ExtSRAM */
 123:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif
 124:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 125:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /*!< Uncomment the following line if you need to relocate your vector Table in
 126:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****      Internal SRAM. */ 
 127:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /* #define VECT_TAB_SRAM */
 128:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #define VECT_TAB_OFFSET  0x0 /*!< Vector Table base offset field. 
 129:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****                                   This value must be a multiple of 0x200. */
 130:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 131:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 132:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /**
 133:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @}
 134:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
 135:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 136:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /** @addtogroup STM32F10x_System_Private_Macros
 137:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @{
 138:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
 139:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 140:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /**
 141:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @}
 142:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
 143:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 144:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /** @addtogroup STM32F10x_System_Private_Variables
 145:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @{
ARM GAS  /tmp/cclMhJ2a.s 			page 4


 146:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
 147:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 148:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /*******************************************************************************
 149:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** *  Clock Definitions
 150:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** *******************************************************************************/
 151:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #ifdef SYSCLK_FREQ_HSE
 152:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   uint32_t SystemCoreClock         = SYSCLK_FREQ_HSE;        /*!< System Clock Frequency (Core Cloc
 153:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_24MHz
 154:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   uint32_t SystemCoreClock         = SYSCLK_FREQ_24MHz;        /*!< System Clock Frequency (Core Cl
 155:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_36MHz
 156:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   uint32_t SystemCoreClock         = SYSCLK_FREQ_36MHz;        /*!< System Clock Frequency (Core Cl
 157:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_48MHz
 158:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   uint32_t SystemCoreClock         = SYSCLK_FREQ_48MHz;        /*!< System Clock Frequency (Core Cl
 159:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_56MHz
 160:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   uint32_t SystemCoreClock         = SYSCLK_FREQ_56MHz;        /*!< System Clock Frequency (Core Cl
 161:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_72MHz
 162:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   uint32_t SystemCoreClock         = SYSCLK_FREQ_72MHz;        /*!< System Clock Frequency (Core Cl
 163:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #else /*!< HSI Selected as System Clock source */
 164:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   uint32_t SystemCoreClock         = HSI_VALUE;        /*!< System Clock Frequency (Core Clock) */
 165:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif
 166:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 167:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** __I uint8_t AHBPrescTable[16] = {0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 3, 4, 6, 7, 8, 9};
 168:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /**
 169:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @}
 170:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
 171:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 172:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /** @addtogroup STM32F10x_System_Private_FunctionPrototypes
 173:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @{
 174:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
 175:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 176:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** static void SetSysClock(void);
 177:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 178:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #ifdef SYSCLK_FREQ_HSE
 179:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   static void SetSysClockToHSE(void);
 180:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_24MHz
 181:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   static void SetSysClockTo24(void);
 182:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_36MHz
 183:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   static void SetSysClockTo36(void);
 184:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_48MHz
 185:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   static void SetSysClockTo48(void);
 186:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_56MHz
 187:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   static void SetSysClockTo56(void);  
 188:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_72MHz
 189:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   static void SetSysClockTo72(void);
 190:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif
 191:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 192:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #ifdef DATA_IN_ExtSRAM
 193:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   static void SystemInit_ExtMemCtl(void); 
 194:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif /* DATA_IN_ExtSRAM */
 195:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 196:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /**
 197:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @}
 198:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
 199:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 200:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /** @addtogroup STM32F10x_System_Private_Functions
 201:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @{
 202:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
ARM GAS  /tmp/cclMhJ2a.s 			page 5


 203:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 204:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /**
 205:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @brief  Setup the microcontroller system
 206:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         Initialize the Embedded Flash Interface, the PLL and update the 
 207:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         SystemCoreClock variable.
 208:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @note   This function should be used only after reset.
 209:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @param  None
 210:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @retval None
 211:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
 212:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** void SystemInit (void)
 213:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** {
  28              		.loc 1 213 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 214:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Reset the RCC clock configuration to the default reset state(for debug purpose) */
 215:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Set HSION bit */
 216:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->CR |= (uint32_t)0x00000001;
  33              		.loc 1 216 3 view .LVU1
 213:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Reset the RCC clock configuration to the default reset state(for debug purpose) */
  34              		.loc 1 213 1 is_stmt 0 view .LVU2
  35 0000 30B4     		push	{r4, r5}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 4, -8
  39              		.cfi_offset 5, -4
  40              	.LBB8:
  41              	.LBB9:
  42              	.LBB10:
 217:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 218:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Reset SW, HPRE, PPRE1, PPRE2, ADCPRE and MCO bits */
 219:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #ifndef STM32F10X_CL
 220:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->CFGR &= (uint32_t)0xF8FF0000;
 221:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #else
 222:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->CFGR &= (uint32_t)0xF0FF0000;
 223:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif /* STM32F10X_CL */   
 224:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 225:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Reset HSEON, CSSON and PLLON bits */
 226:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->CR &= (uint32_t)0xFEF6FFFF;
 227:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 228:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Reset HSEBYP bit */
 229:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->CR &= (uint32_t)0xFFFBFFFF;
 230:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 231:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Reset PLLSRC, PLLXTPRE, PLLMUL and USBPRE/OTGFSPRE bits */
 232:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->CFGR &= (uint32_t)0xFF80FFFF;
 233:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 234:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #ifdef STM32F10X_CL
 235:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Reset PLL2ON and PLL3ON bits */
 236:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->CR &= (uint32_t)0xEBFFFFFF;
 237:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 238:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Disable all interrupts and clear pending bits  */
 239:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->CIR = 0x00FF0000;
 240:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 241:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Reset CFGR2 register */
 242:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->CFGR2 = 0x00000000;
 243:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined (STM32F10X_LD_VL) || defined (STM32F10X_MD_VL) || (defined STM32F10X_HD_VL)
ARM GAS  /tmp/cclMhJ2a.s 			page 6


 244:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Disable all interrupts and clear pending bits  */
 245:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->CIR = 0x009F0000;
 246:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 247:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Reset CFGR2 register */
 248:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->CFGR2 = 0x00000000;      
 249:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #else
 250:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Disable all interrupts and clear pending bits  */
 251:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->CIR = 0x009F0000;
 252:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif /* STM32F10X_CL */
 253:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
 254:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #if defined (STM32F10X_HD) || (defined STM32F10X_XL) || (defined STM32F10X_HD_VL)
 255:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   #ifdef DATA_IN_ExtSRAM
 256:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     SystemInit_ExtMemCtl(); 
 257:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   #endif /* DATA_IN_ExtSRAM */
 258:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif 
 259:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 260:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Configure the System clock frequency, HCLK, PCLK2 and PCLK1 prescalers */
 261:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Configure the Flash Latency cycles and enable prefetch buffer */
 262:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   SetSysClock();
 263:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 264:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #ifdef VECT_TAB_SRAM
 265:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   SCB->VTOR = SRAM_BASE | VECT_TAB_OFFSET; /* Vector Table Relocation in Internal SRAM. */
 266:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #else
 267:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   SCB->VTOR = FLASH_BASE | VECT_TAB_OFFSET; /* Vector Table Relocation in Internal FLASH. */
 268:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif 
 269:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** }
 270:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 271:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /**
 272:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @brief  Update SystemCoreClock variable according to Clock Register Values.
 273:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         The SystemCoreClock variable contains the core clock (HCLK), it can
 274:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         be used by the user application to setup the SysTick timer or configure
 275:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         other parameters.
 276:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *           
 277:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @note   Each time the core clock (HCLK) changes, this function must be called
 278:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         to update SystemCoreClock variable value. Otherwise, any configuration
 279:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         based on this variable will be incorrect.         
 280:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *     
 281:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @note   - The system frequency computed by this function is not the real 
 282:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *           frequency in the chip. It is calculated based on the predefined 
 283:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *           constant and the selected clock source:
 284:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *             
 285:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *           - If SYSCLK source is HSI, SystemCoreClock will contain the HSI_VALUE(*)
 286:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *                                              
 287:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *           - If SYSCLK source is HSE, SystemCoreClock will contain the HSE_VALUE(**)
 288:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *                          
 289:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *           - If SYSCLK source is PLL, SystemCoreClock will contain the HSE_VALUE(**) 
 290:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *             or HSI_VALUE(*) multiplied by the PLL factors.
 291:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         
 292:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         (*) HSI_VALUE is a constant defined in stm32f1xx.h file (default value
 293:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *             8 MHz) but the real value may vary depending on the variations
 294:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *             in voltage and temperature.   
 295:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *    
 296:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         (**) HSE_VALUE is a constant defined in stm32f1xx.h file (default value
 297:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *              8 MHz or 25 MHz, depedning on the product used), user has to ensure
 298:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *              that HSE_VALUE is same as the real frequency of the crystal used.
 299:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *              Otherwise, this function may have wrong result.
 300:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *                
ARM GAS  /tmp/cclMhJ2a.s 			page 7


 301:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         - The result of this function could be not correct when using fractional
 302:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *           value for HSE crystal.
 303:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @param  None
 304:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @retval None
 305:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
 306:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** void SystemCoreClockUpdate (void)
 307:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** {
 308:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   uint32_t tmp = 0, pllmull = 0, pllsource = 0;
 309:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 310:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #ifdef  STM32F10X_CL
 311:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   uint32_t prediv1source = 0, prediv1factor = 0, prediv2factor = 0, pll2mull = 0;
 312:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif /* STM32F10X_CL */
 313:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 314:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #if defined (STM32F10X_LD_VL) || defined (STM32F10X_MD_VL) || (defined STM32F10X_HD_VL)
 315:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   uint32_t prediv1factor = 0;
 316:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif /* STM32F10X_LD_VL or STM32F10X_MD_VL or STM32F10X_HD_VL */
 317:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
 318:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Get SYSCLK source -------------------------------------------------------*/
 319:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   tmp = RCC->CFGR & RCC_CFGR_SWS;
 320:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 321:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   switch (tmp)
 322:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 323:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     case 0x00:  /* HSI used as system clock */
 324:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       SystemCoreClock = HSI_VALUE;
 325:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       break;
 326:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     case 0x04:  /* HSE used as system clock */
 327:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       SystemCoreClock = HSE_VALUE;
 328:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       break;
 329:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     case 0x08:  /* PLL used as system clock */
 330:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 331:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       /* Get PLL clock source and multiplication factor ----------------------*/
 332:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       pllmull = RCC->CFGR & RCC_CFGR_PLLMULL;
 333:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       pllsource = RCC->CFGR & RCC_CFGR_PLLSRC;
 334:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       
 335:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #ifndef STM32F10X_CL      
 336:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       pllmull = ( pllmull >> 18) + 2;
 337:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       
 338:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       if (pllsource == 0x00)
 339:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       {
 340:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         /* HSI oscillator clock divided by 2 selected as PLL clock entry */
 341:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         SystemCoreClock = (HSI_VALUE >> 1) * pllmull;
 342:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       }
 343:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       else
 344:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       {
 345:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  #if defined (STM32F10X_LD_VL) || defined (STM32F10X_MD_VL) || (defined STM32F10X_HD_VL)
 346:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****        prediv1factor = (RCC->CFGR2 & RCC_CFGR2_PREDIV1) + 1;
 347:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****        /* HSE oscillator clock selected as PREDIV1 clock entry */
 348:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****        SystemCoreClock = (HSE_VALUE / prediv1factor) * pllmull; 
 349:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  #else
 350:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         /* HSE selected as PLL clock entry */
 351:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         if ((RCC->CFGR & RCC_CFGR_PLLXTPRE) != (uint32_t)RESET)
 352:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         {/* HSE oscillator clock divided by 2 */
 353:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****           SystemCoreClock = (HSE_VALUE >> 1) * pllmull;
 354:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         }
 355:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         else
 356:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         {
 357:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****           SystemCoreClock = HSE_VALUE * pllmull;
ARM GAS  /tmp/cclMhJ2a.s 			page 8


 358:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         }
 359:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  #endif
 360:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       }
 361:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #else
 362:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       pllmull = pllmull >> 18;
 363:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       
 364:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       if (pllmull != 0x0D)
 365:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       {
 366:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****          pllmull += 2;
 367:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       }
 368:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       else
 369:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       { /* PLL multiplication factor = PLL input clock * 6.5 */
 370:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         pllmull = 13 / 2; 
 371:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       }
 372:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****             
 373:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       if (pllsource == 0x00)
 374:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       {
 375:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         /* HSI oscillator clock divided by 2 selected as PLL clock entry */
 376:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         SystemCoreClock = (HSI_VALUE >> 1) * pllmull;
 377:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       }
 378:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       else
 379:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       {/* PREDIV1 selected as PLL clock entry */
 380:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         
 381:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         /* Get PREDIV1 clock source and division factor */
 382:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         prediv1source = RCC->CFGR2 & RCC_CFGR2_PREDIV1SRC;
 383:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         prediv1factor = (RCC->CFGR2 & RCC_CFGR2_PREDIV1) + 1;
 384:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         
 385:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         if (prediv1source == 0)
 386:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         { 
 387:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****           /* HSE oscillator clock selected as PREDIV1 clock entry */
 388:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****           SystemCoreClock = (HSE_VALUE / prediv1factor) * pllmull;          
 389:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         }
 390:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         else
 391:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         {/* PLL2 clock selected as PREDIV1 clock entry */
 392:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****           
 393:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****           /* Get PREDIV2 division factor and PLL2 multiplication factor */
 394:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****           prediv2factor = ((RCC->CFGR2 & RCC_CFGR2_PREDIV2) >> 4) + 1;
 395:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****           pll2mull = ((RCC->CFGR2 & RCC_CFGR2_PLL2MUL) >> 8 ) + 2; 
 396:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****           SystemCoreClock = (((HSE_VALUE / prediv2factor) * pll2mull) / prediv1factor) * pllmull;  
 397:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         }
 398:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       }
 399:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif /* STM32F10X_CL */ 
 400:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       break;
 401:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 402:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     default:
 403:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       SystemCoreClock = HSI_VALUE;
 404:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       break;
 405:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }
 406:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 407:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Compute HCLK clock frequency ----------------*/
 408:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Get HCLK prescaler */
 409:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   tmp = AHBPrescTable[((RCC->CFGR & RCC_CFGR_HPRE) >> 4)];
 410:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* HCLK clock frequency */
 411:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   SystemCoreClock >>= tmp;  
 412:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** }
 413:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 414:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /**
ARM GAS  /tmp/cclMhJ2a.s 			page 9


 415:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @brief  Configures the System clock frequency, HCLK, PCLK2 and PCLK1 prescalers.
 416:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @param  None
 417:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @retval None
 418:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
 419:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** static void SetSysClock(void)
 420:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** {
 421:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #ifdef SYSCLK_FREQ_HSE
 422:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   SetSysClockToHSE();
 423:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_24MHz
 424:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   SetSysClockTo24();
 425:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_36MHz
 426:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   SetSysClockTo36();
 427:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_48MHz
 428:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   SetSysClockTo48();
 429:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_56MHz
 430:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   SetSysClockTo56();  
 431:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_72MHz
 432:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   SetSysClockTo72();
 433:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif
 434:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  
 435:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  /* If none of the define above is enabled, the HSI is used as System clock
 436:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     source (default after reset) */ 
 437:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** }
 438:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 439:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /**
 440:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @brief  Setup the external memory controller. Called in startup_stm32f10x.s 
 441:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *          before jump to __main
 442:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @param  None
 443:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @retval None
 444:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */ 
 445:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #ifdef DATA_IN_ExtSRAM
 446:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /**
 447:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @brief  Setup the external memory controller. 
 448:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         Called in startup_stm32f10x_xx.s/.c before jump to main.
 449:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * 	      This function configures the external SRAM mounted on STM3210E-EVAL
 450:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         board (STM32 High density devices). This SRAM will be used as program
 451:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         data memory (including heap and stack).
 452:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @param  None
 453:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @retval None
 454:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */ 
 455:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** void SystemInit_ExtMemCtl(void) 
 456:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** {
 457:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /*!< FSMC Bank1 NOR/SRAM3 is used for the STM3210E-EVAL, if another Bank is 
 458:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   required, then adjust the Register Addresses */
 459:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 460:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Enable FSMC clock */
 461:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->AHBENR = 0x00000114;
 462:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 463:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Enable GPIOD, GPIOE, GPIOF and GPIOG clocks */  
 464:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->APB2ENR = 0x000001E0;
 465:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 466:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /* ---------------  SRAM Data lines, NOE and NWE configuration ---------------*/
 467:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /*----------------  SRAM Address lines configuration -------------------------*/
 468:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /*----------------  NOE and NWE configuration --------------------------------*/  
 469:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /*----------------  NE3 configuration ----------------------------------------*/
 470:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /*----------------  NBL0, NBL1 configuration ---------------------------------*/
 471:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
ARM GAS  /tmp/cclMhJ2a.s 			page 10


 472:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   GPIOD->CRL = 0x44BB44BB;  
 473:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   GPIOD->CRH = 0xBBBBBBBB;
 474:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 475:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   GPIOE->CRL = 0xB44444BB;  
 476:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   GPIOE->CRH = 0xBBBBBBBB;
 477:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 478:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   GPIOF->CRL = 0x44BBBBBB;  
 479:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   GPIOF->CRH = 0xBBBB4444;
 480:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 481:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   GPIOG->CRL = 0x44BBBBBB;  
 482:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   GPIOG->CRH = 0x44444B44;
 483:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****    
 484:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /*----------------  FSMC Configuration ---------------------------------------*/  
 485:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /*----------------  Enable FSMC Bank1_SRAM Bank ------------------------------*/
 486:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 487:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   FSMC_Bank1->BTCR[4] = 0x00001011;
 488:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   FSMC_Bank1->BTCR[5] = 0x00000200;
 489:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** }
 490:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif /* DATA_IN_ExtSRAM */
 491:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 492:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #ifdef SYSCLK_FREQ_HSE
 493:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /**
 494:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @brief  Selects HSE as System clock source and configure HCLK, PCLK2
 495:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         and PCLK1 prescalers.
 496:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @note   This function should be used only after reset.
 497:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @param  None
 498:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @retval None
 499:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
 500:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** static void SetSysClockToHSE(void)
 501:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** {
 502:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   __IO uint32_t StartUpCounter = 0, HSEStatus = 0;
 503:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 504:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* SYSCLK, HCLK, PCLK2 and PCLK1 configuration ---------------------------*/    
 505:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Enable HSE */    
 506:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->CR |= ((uint32_t)RCC_CR_HSEON);
 507:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  
 508:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Wait till HSE is ready and if Time out is reached exit */
 509:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   do
 510:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 511:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     HSEStatus = RCC->CR & RCC_CR_HSERDY;
 512:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     StartUpCounter++;  
 513:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   } while((HSEStatus == 0) && (StartUpCounter != HSE_STARTUP_TIMEOUT));
 514:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 515:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   if ((RCC->CR & RCC_CR_HSERDY) != RESET)
 516:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 517:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     HSEStatus = (uint32_t)0x01;
 518:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }
 519:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   else
 520:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 521:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     HSEStatus = (uint32_t)0x00;
 522:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }  
 523:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 524:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   if (HSEStatus == (uint32_t)0x01)
 525:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 526:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 527:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #if !defined STM32F10X_LD_VL && !defined STM32F10X_MD_VL && !defined STM32F10X_HD_VL
 528:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Enable Prefetch Buffer */
ARM GAS  /tmp/cclMhJ2a.s 			page 11


 529:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR |= FLASH_ACR_PRFTBE;
 530:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 531:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Flash 0 wait state */
 532:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR &= (uint32_t)((uint32_t)~FLASH_ACR_LATENCY);
 533:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 534:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #ifndef STM32F10X_CL
 535:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR |= (uint32_t)FLASH_ACR_LATENCY_0;
 536:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #else
 537:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     if (HSE_VALUE <= 24000000)
 538:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 	{
 539:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       FLASH->ACR |= (uint32_t)FLASH_ACR_LATENCY_0;
 540:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 	}
 541:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 	else
 542:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 	{
 543:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       FLASH->ACR |= (uint32_t)FLASH_ACR_LATENCY_1;
 544:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 	}
 545:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif /* STM32F10X_CL */
 546:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif
 547:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  
 548:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* HCLK = SYSCLK */
 549:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_HPRE_DIV1;
 550:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       
 551:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PCLK2 = HCLK */
 552:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_PPRE2_DIV1;
 553:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
 554:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PCLK1 = HCLK */
 555:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_PPRE1_DIV1;
 556:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
 557:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Select HSE as system clock source */
 558:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR &= (uint32_t)((uint32_t)~(RCC_CFGR_SW));
 559:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_SW_HSE;    
 560:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 561:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Wait till HSE is used as system clock source */
 562:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     while ((RCC->CFGR & (uint32_t)RCC_CFGR_SWS) != (uint32_t)0x04)
 563:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 564:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     }
 565:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }
 566:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   else
 567:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   { /* If HSE fails to start-up, the application will have wrong clock 
 568:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****          configuration. User can add here some code to deal with this error */
 569:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }  
 570:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** }
 571:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_24MHz
 572:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /**
 573:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @brief  Sets System clock frequency to 24MHz and configure HCLK, PCLK2 
 574:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         and PCLK1 prescalers.
 575:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @note   This function should be used only after reset.
 576:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @param  None
 577:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @retval None
 578:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
 579:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** static void SetSysClockTo24(void)
 580:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** {
 581:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   __IO uint32_t StartUpCounter = 0, HSEStatus = 0;
 582:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 583:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* SYSCLK, HCLK, PCLK2 and PCLK1 configuration ---------------------------*/    
 584:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Enable HSE */    
 585:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->CR |= ((uint32_t)RCC_CR_HSEON);
ARM GAS  /tmp/cclMhJ2a.s 			page 12


 586:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  
 587:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Wait till HSE is ready and if Time out is reached exit */
 588:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   do
 589:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 590:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     HSEStatus = RCC->CR & RCC_CR_HSERDY;
 591:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     StartUpCounter++;  
 592:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   } while((HSEStatus == 0) && (StartUpCounter != HSE_STARTUP_TIMEOUT));
 593:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 594:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   if ((RCC->CR & RCC_CR_HSERDY) != RESET)
 595:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 596:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     HSEStatus = (uint32_t)0x01;
 597:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }
 598:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   else
 599:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 600:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     HSEStatus = (uint32_t)0x00;
 601:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }  
 602:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 603:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   if (HSEStatus == (uint32_t)0x01)
 604:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 605:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #if !defined STM32F10X_LD_VL && !defined STM32F10X_MD_VL && !defined STM32F10X_HD_VL 
 606:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Enable Prefetch Buffer */
 607:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR |= FLASH_ACR_PRFTBE;
 608:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 609:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Flash 0 wait state */
 610:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR &= (uint32_t)((uint32_t)~FLASH_ACR_LATENCY);
 611:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR |= (uint32_t)FLASH_ACR_LATENCY_0;    
 612:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif
 613:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  
 614:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* HCLK = SYSCLK */
 615:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_HPRE_DIV1;
 616:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       
 617:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PCLK2 = HCLK */
 618:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_PPRE2_DIV1;
 619:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
 620:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PCLK1 = HCLK */
 621:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_PPRE1_DIV1;
 622:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
 623:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #ifdef STM32F10X_CL
 624:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Configure PLLs ------------------------------------------------------*/
 625:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PLL configuration: PLLCLK = PREDIV1 * 6 = 24 MHz */ 
 626:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR &= (uint32_t)~(RCC_CFGR_PLLXTPRE | RCC_CFGR_PLLSRC | RCC_CFGR_PLLMULL);
 627:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)(RCC_CFGR_PLLXTPRE_PREDIV1 | RCC_CFGR_PLLSRC_PREDIV1 | 
 628:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****                             RCC_CFGR_PLLMULL6); 
 629:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 630:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PLL2 configuration: PLL2CLK = (HSE / 5) * 8 = 40 MHz */
 631:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PREDIV1 configuration: PREDIV1CLK = PLL2 / 10 = 4 MHz */       
 632:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR2 &= (uint32_t)~(RCC_CFGR2_PREDIV2 | RCC_CFGR2_PLL2MUL |
 633:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****                               RCC_CFGR2_PREDIV1 | RCC_CFGR2_PREDIV1SRC);
 634:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR2 |= (uint32_t)(RCC_CFGR2_PREDIV2_DIV5 | RCC_CFGR2_PLL2MUL8 |
 635:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****                              RCC_CFGR2_PREDIV1SRC_PLL2 | RCC_CFGR2_PREDIV1_DIV10);
 636:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 637:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Enable PLL2 */
 638:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CR |= RCC_CR_PLL2ON;
 639:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Wait till PLL2 is ready */
 640:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     while((RCC->CR & RCC_CR_PLL2RDY) == 0)
 641:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 642:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     }   
ARM GAS  /tmp/cclMhJ2a.s 			page 13


 643:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined (STM32F10X_LD_VL) || defined (STM32F10X_MD_VL) || defined (STM32F10X_HD_VL)
 644:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /*  PLL configuration:  = (HSE / 2) * 6 = 24 MHz */
 645:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR &= (uint32_t)((uint32_t)~(RCC_CFGR_PLLSRC | RCC_CFGR_PLLXTPRE | RCC_CFGR_PLLMULL));
 646:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)(RCC_CFGR_PLLSRC_PREDIV1 | RCC_CFGR_PLLXTPRE_PREDIV1_Div2 | RCC_CFGR_PLL
 647:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #else    
 648:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /*  PLL configuration:  = (HSE / 2) * 6 = 24 MHz */
 649:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR &= (uint32_t)((uint32_t)~(RCC_CFGR_PLLSRC | RCC_CFGR_PLLXTPRE | RCC_CFGR_PLLMULL));
 650:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)(RCC_CFGR_PLLSRC_HSE | RCC_CFGR_PLLXTPRE_HSE_Div2 | RCC_CFGR_PLLMULL6);
 651:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif /* STM32F10X_CL */
 652:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 653:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Enable PLL */
 654:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CR |= RCC_CR_PLLON;
 655:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 656:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Wait till PLL is ready */
 657:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     while((RCC->CR & RCC_CR_PLLRDY) == 0)
 658:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 659:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     }
 660:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 661:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Select PLL as system clock source */
 662:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR &= (uint32_t)((uint32_t)~(RCC_CFGR_SW));
 663:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_SW_PLL;    
 664:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 665:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Wait till PLL is used as system clock source */
 666:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     while ((RCC->CFGR & (uint32_t)RCC_CFGR_SWS) != (uint32_t)0x08)
 667:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 668:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     }
 669:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }
 670:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   else
 671:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   { /* If HSE fails to start-up, the application will have wrong clock 
 672:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****          configuration. User can add here some code to deal with this error */
 673:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   } 
 674:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** }
 675:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_36MHz
 676:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /**
 677:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @brief  Sets System clock frequency to 36MHz and configure HCLK, PCLK2 
 678:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         and PCLK1 prescalers. 
 679:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @note   This function should be used only after reset.
 680:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @param  None
 681:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @retval None
 682:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
 683:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** static void SetSysClockTo36(void)
 684:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** {
 685:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   __IO uint32_t StartUpCounter = 0, HSEStatus = 0;
 686:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 687:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* SYSCLK, HCLK, PCLK2 and PCLK1 configuration ---------------------------*/    
 688:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Enable HSE */    
 689:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->CR |= ((uint32_t)RCC_CR_HSEON);
 690:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  
 691:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Wait till HSE is ready and if Time out is reached exit */
 692:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   do
 693:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 694:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     HSEStatus = RCC->CR & RCC_CR_HSERDY;
 695:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     StartUpCounter++;  
 696:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   } while((HSEStatus == 0) && (StartUpCounter != HSE_STARTUP_TIMEOUT));
 697:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 698:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   if ((RCC->CR & RCC_CR_HSERDY) != RESET)
 699:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
ARM GAS  /tmp/cclMhJ2a.s 			page 14


 700:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     HSEStatus = (uint32_t)0x01;
 701:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }
 702:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   else
 703:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 704:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     HSEStatus = (uint32_t)0x00;
 705:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }  
 706:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 707:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   if (HSEStatus == (uint32_t)0x01)
 708:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 709:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Enable Prefetch Buffer */
 710:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR |= FLASH_ACR_PRFTBE;
 711:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 712:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Flash 1 wait state */
 713:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR &= (uint32_t)((uint32_t)~FLASH_ACR_LATENCY);
 714:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR |= (uint32_t)FLASH_ACR_LATENCY_1;    
 715:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  
 716:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* HCLK = SYSCLK */
 717:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_HPRE_DIV1;
 718:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       
 719:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PCLK2 = HCLK */
 720:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_PPRE2_DIV1;
 721:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
 722:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PCLK1 = HCLK */
 723:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_PPRE1_DIV1;
 724:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
 725:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #ifdef STM32F10X_CL
 726:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Configure PLLs ------------------------------------------------------*/
 727:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
 728:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PLL configuration: PLLCLK = PREDIV1 * 9 = 36 MHz */ 
 729:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR &= (uint32_t)~(RCC_CFGR_PLLXTPRE | RCC_CFGR_PLLSRC | RCC_CFGR_PLLMULL);
 730:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)(RCC_CFGR_PLLXTPRE_PREDIV1 | RCC_CFGR_PLLSRC_PREDIV1 | 
 731:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****                             RCC_CFGR_PLLMULL9); 
 732:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 733:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 	/*!< PLL2 configuration: PLL2CLK = (HSE / 5) * 8 = 40 MHz */
 734:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PREDIV1 configuration: PREDIV1CLK = PLL2 / 10 = 4 MHz */
 735:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         
 736:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR2 &= (uint32_t)~(RCC_CFGR2_PREDIV2 | RCC_CFGR2_PLL2MUL |
 737:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****                               RCC_CFGR2_PREDIV1 | RCC_CFGR2_PREDIV1SRC);
 738:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR2 |= (uint32_t)(RCC_CFGR2_PREDIV2_DIV5 | RCC_CFGR2_PLL2MUL8 |
 739:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****                              RCC_CFGR2_PREDIV1SRC_PLL2 | RCC_CFGR2_PREDIV1_DIV10);
 740:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 741:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Enable PLL2 */
 742:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CR |= RCC_CR_PLL2ON;
 743:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Wait till PLL2 is ready */
 744:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     while((RCC->CR & RCC_CR_PLL2RDY) == 0)
 745:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 746:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     }
 747:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
 748:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #else    
 749:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /*  PLL configuration: PLLCLK = (HSE / 2) * 9 = 36 MHz */
 750:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR &= (uint32_t)((uint32_t)~(RCC_CFGR_PLLSRC | RCC_CFGR_PLLXTPRE | RCC_CFGR_PLLMULL));
 751:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)(RCC_CFGR_PLLSRC_HSE | RCC_CFGR_PLLXTPRE_HSE_Div2 | RCC_CFGR_PLLMULL9);
 752:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif /* STM32F10X_CL */
 753:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 754:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Enable PLL */
 755:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CR |= RCC_CR_PLLON;
 756:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
ARM GAS  /tmp/cclMhJ2a.s 			page 15


 757:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Wait till PLL is ready */
 758:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     while((RCC->CR & RCC_CR_PLLRDY) == 0)
 759:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 760:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     }
 761:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 762:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Select PLL as system clock source */
 763:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR &= (uint32_t)((uint32_t)~(RCC_CFGR_SW));
 764:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_SW_PLL;    
 765:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 766:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Wait till PLL is used as system clock source */
 767:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     while ((RCC->CFGR & (uint32_t)RCC_CFGR_SWS) != (uint32_t)0x08)
 768:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 769:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     }
 770:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }
 771:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   else
 772:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   { /* If HSE fails to start-up, the application will have wrong clock 
 773:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****          configuration. User can add here some code to deal with this error */
 774:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   } 
 775:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** }
 776:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_48MHz
 777:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /**
 778:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @brief  Sets System clock frequency to 48MHz and configure HCLK, PCLK2 
 779:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         and PCLK1 prescalers. 
 780:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @note   This function should be used only after reset.
 781:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @param  None
 782:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @retval None
 783:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
 784:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** static void SetSysClockTo48(void)
 785:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** {
 786:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   __IO uint32_t StartUpCounter = 0, HSEStatus = 0;
 787:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 788:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* SYSCLK, HCLK, PCLK2 and PCLK1 configuration ---------------------------*/    
 789:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Enable HSE */    
 790:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->CR |= ((uint32_t)RCC_CR_HSEON);
 791:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  
 792:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Wait till HSE is ready and if Time out is reached exit */
 793:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   do
 794:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 795:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     HSEStatus = RCC->CR & RCC_CR_HSERDY;
 796:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     StartUpCounter++;  
 797:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   } while((HSEStatus == 0) && (StartUpCounter != HSE_STARTUP_TIMEOUT));
 798:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 799:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   if ((RCC->CR & RCC_CR_HSERDY) != RESET)
 800:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 801:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     HSEStatus = (uint32_t)0x01;
 802:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }
 803:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   else
 804:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 805:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     HSEStatus = (uint32_t)0x00;
 806:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }  
 807:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 808:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   if (HSEStatus == (uint32_t)0x01)
 809:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 810:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Enable Prefetch Buffer */
 811:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR |= FLASH_ACR_PRFTBE;
 812:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 813:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Flash 1 wait state */
ARM GAS  /tmp/cclMhJ2a.s 			page 16


 814:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR &= (uint32_t)((uint32_t)~FLASH_ACR_LATENCY);
 815:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR |= (uint32_t)FLASH_ACR_LATENCY_1;    
 816:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  
 817:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* HCLK = SYSCLK */
 818:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_HPRE_DIV1;
 819:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       
 820:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PCLK2 = HCLK */
 821:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_PPRE2_DIV1;
 822:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
 823:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PCLK1 = HCLK */
 824:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_PPRE1_DIV2;
 825:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
 826:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #ifdef STM32F10X_CL
 827:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Configure PLLs ------------------------------------------------------*/
 828:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PLL2 configuration: PLL2CLK = (HSE / 5) * 8 = 40 MHz */
 829:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PREDIV1 configuration: PREDIV1CLK = PLL2 / 5 = 8 MHz */
 830:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         
 831:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR2 &= (uint32_t)~(RCC_CFGR2_PREDIV2 | RCC_CFGR2_PLL2MUL |
 832:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****                               RCC_CFGR2_PREDIV1 | RCC_CFGR2_PREDIV1SRC);
 833:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR2 |= (uint32_t)(RCC_CFGR2_PREDIV2_DIV5 | RCC_CFGR2_PLL2MUL8 |
 834:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****                              RCC_CFGR2_PREDIV1SRC_PLL2 | RCC_CFGR2_PREDIV1_DIV5);
 835:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 836:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Enable PLL2 */
 837:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CR |= RCC_CR_PLL2ON;
 838:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Wait till PLL2 is ready */
 839:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     while((RCC->CR & RCC_CR_PLL2RDY) == 0)
 840:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 841:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     }
 842:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
 843:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****    
 844:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PLL configuration: PLLCLK = PREDIV1 * 6 = 48 MHz */ 
 845:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR &= (uint32_t)~(RCC_CFGR_PLLXTPRE | RCC_CFGR_PLLSRC | RCC_CFGR_PLLMULL);
 846:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)(RCC_CFGR_PLLXTPRE_PREDIV1 | RCC_CFGR_PLLSRC_PREDIV1 | 
 847:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****                             RCC_CFGR_PLLMULL6); 
 848:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #else    
 849:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /*  PLL configuration: PLLCLK = HSE * 6 = 48 MHz */
 850:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR &= (uint32_t)((uint32_t)~(RCC_CFGR_PLLSRC | RCC_CFGR_PLLXTPRE | RCC_CFGR_PLLMULL));
 851:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)(RCC_CFGR_PLLSRC_HSE | RCC_CFGR_PLLMULL6);
 852:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif /* STM32F10X_CL */
 853:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 854:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Enable PLL */
 855:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CR |= RCC_CR_PLLON;
 856:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 857:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Wait till PLL is ready */
 858:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     while((RCC->CR & RCC_CR_PLLRDY) == 0)
 859:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 860:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     }
 861:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 862:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Select PLL as system clock source */
 863:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR &= (uint32_t)((uint32_t)~(RCC_CFGR_SW));
 864:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_SW_PLL;    
 865:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 866:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Wait till PLL is used as system clock source */
 867:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     while ((RCC->CFGR & (uint32_t)RCC_CFGR_SWS) != (uint32_t)0x08)
 868:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 869:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     }
 870:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }
ARM GAS  /tmp/cclMhJ2a.s 			page 17


 871:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   else
 872:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   { /* If HSE fails to start-up, the application will have wrong clock 
 873:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****          configuration. User can add here some code to deal with this error */
 874:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   } 
 875:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** }
 876:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 877:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_56MHz
 878:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /**
 879:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @brief  Sets System clock frequency to 56MHz and configure HCLK, PCLK2 
 880:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         and PCLK1 prescalers. 
 881:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @note   This function should be used only after reset.
 882:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @param  None
 883:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @retval None
 884:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
 885:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** static void SetSysClockTo56(void)
 886:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** {
 887:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   __IO uint32_t StartUpCounter = 0, HSEStatus = 0;
 888:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 889:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* SYSCLK, HCLK, PCLK2 and PCLK1 configuration ---------------------------*/   
 890:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Enable HSE */    
 891:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->CR |= ((uint32_t)RCC_CR_HSEON);
 892:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  
 893:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Wait till HSE is ready and if Time out is reached exit */
 894:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   do
 895:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 896:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     HSEStatus = RCC->CR & RCC_CR_HSERDY;
 897:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     StartUpCounter++;  
 898:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   } while((HSEStatus == 0) && (StartUpCounter != HSE_STARTUP_TIMEOUT));
 899:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 900:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   if ((RCC->CR & RCC_CR_HSERDY) != RESET)
 901:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 902:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     HSEStatus = (uint32_t)0x01;
 903:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }
 904:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   else
 905:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 906:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     HSEStatus = (uint32_t)0x00;
 907:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }  
 908:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 909:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   if (HSEStatus == (uint32_t)0x01)
 910:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 911:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Enable Prefetch Buffer */
 912:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR |= FLASH_ACR_PRFTBE;
 913:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 914:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Flash 2 wait state */
 915:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR &= (uint32_t)((uint32_t)~FLASH_ACR_LATENCY);
 916:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR |= (uint32_t)FLASH_ACR_LATENCY_2;    
 917:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  
 918:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* HCLK = SYSCLK */
 919:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_HPRE_DIV1;
 920:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       
 921:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PCLK2 = HCLK */
 922:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_PPRE2_DIV1;
 923:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
 924:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PCLK1 = HCLK */
 925:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_PPRE1_DIV2;
 926:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 927:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #ifdef STM32F10X_CL
ARM GAS  /tmp/cclMhJ2a.s 			page 18


 928:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Configure PLLs ------------------------------------------------------*/
 929:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PLL2 configuration: PLL2CLK = (HSE / 5) * 8 = 40 MHz */
 930:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PREDIV1 configuration: PREDIV1CLK = PLL2 / 5 = 8 MHz */
 931:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         
 932:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR2 &= (uint32_t)~(RCC_CFGR2_PREDIV2 | RCC_CFGR2_PLL2MUL |
 933:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****                               RCC_CFGR2_PREDIV1 | RCC_CFGR2_PREDIV1SRC);
 934:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR2 |= (uint32_t)(RCC_CFGR2_PREDIV2_DIV5 | RCC_CFGR2_PLL2MUL8 |
 935:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****                              RCC_CFGR2_PREDIV1SRC_PLL2 | RCC_CFGR2_PREDIV1_DIV5);
 936:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 937:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Enable PLL2 */
 938:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CR |= RCC_CR_PLL2ON;
 939:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Wait till PLL2 is ready */
 940:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     while((RCC->CR & RCC_CR_PLL2RDY) == 0)
 941:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 942:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     }
 943:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
 944:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****    
 945:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PLL configuration: PLLCLK = PREDIV1 * 7 = 56 MHz */ 
 946:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR &= (uint32_t)~(RCC_CFGR_PLLXTPRE | RCC_CFGR_PLLSRC | RCC_CFGR_PLLMULL);
 947:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)(RCC_CFGR_PLLXTPRE_PREDIV1 | RCC_CFGR_PLLSRC_PREDIV1 | 
 948:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****                             RCC_CFGR_PLLMULL7); 
 949:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #else     
 950:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PLL configuration: PLLCLK = HSE * 7 = 56 MHz */
 951:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR &= (uint32_t)((uint32_t)~(RCC_CFGR_PLLSRC | RCC_CFGR_PLLXTPRE | RCC_CFGR_PLLMULL));
 952:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)(RCC_CFGR_PLLSRC_HSE | RCC_CFGR_PLLMULL7);
 953:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 954:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif /* STM32F10X_CL */
 955:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 956:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Enable PLL */
 957:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CR |= RCC_CR_PLLON;
 958:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 959:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Wait till PLL is ready */
 960:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     while((RCC->CR & RCC_CR_PLLRDY) == 0)
 961:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 962:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     }
 963:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 964:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Select PLL as system clock source */
 965:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR &= (uint32_t)((uint32_t)~(RCC_CFGR_SW));
 966:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_SW_PLL;    
 967:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 968:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Wait till PLL is used as system clock source */
 969:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     while ((RCC->CFGR & (uint32_t)RCC_CFGR_SWS) != (uint32_t)0x08)
 970:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 971:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     }
 972:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }
 973:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   else
 974:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   { /* If HSE fails to start-up, the application will have wrong clock 
 975:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****          configuration. User can add here some code to deal with this error */
 976:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   } 
 977:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** }
 978:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 979:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #elif defined SYSCLK_FREQ_72MHz
 980:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** /**
 981:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @brief  Sets System clock frequency to 72MHz and configure HCLK, PCLK2 
 982:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   *         and PCLK1 prescalers. 
 983:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @note   This function should be used only after reset.
 984:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @param  None
ARM GAS  /tmp/cclMhJ2a.s 			page 19


 985:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   * @retval None
 986:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   */
 987:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** static void SetSysClockTo72(void)
 988:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** {
 989:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   __IO uint32_t StartUpCounter = 0, HSEStatus = 0;
  43              		.loc 1 989 17 view .LVU3
  44 0002 0024     		movs	r4, #0
  45              	.LBE10:
  46              	.LBE9:
  47              	.LBE8:
 251:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif /* STM32F10X_CL */
  48              		.loc 1 251 12 view .LVU4
  49 0004 4FF41F05 		mov	r5, #10420224
 216:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  50              		.loc 1 216 11 view .LVU5
  51 0008 3A4B     		ldr	r3, .L17
 220:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #else
  52              		.loc 1 220 13 view .LVU6
  53 000a 3B4A     		ldr	r2, .L17+4
 216:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  54              		.loc 1 216 11 view .LVU7
  55 000c 1968     		ldr	r1, [r3]
 213:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Reset the RCC clock configuration to the default reset state(for debug purpose) */
  56              		.loc 1 213 1 view .LVU8
  57 000e 82B0     		sub	sp, sp, #8
  58              	.LCFI1:
  59              		.cfi_def_cfa_offset 16
 216:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  60              		.loc 1 216 11 view .LVU9
  61 0010 41F00101 		orr	r1, r1, #1
  62 0014 1960     		str	r1, [r3]
 220:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #else
  63              		.loc 1 220 3 is_stmt 1 view .LVU10
 220:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #else
  64              		.loc 1 220 13 is_stmt 0 view .LVU11
  65 0016 5968     		ldr	r1, [r3, #4]
  66              	.LBB17:
  67              	.LBB14:
  68              	.LBB11:
 990:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 991:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* SYSCLK, HCLK, PCLK2 and PCLK1 configuration ---------------------------*/    
 992:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Enable HSE */    
 993:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   RCC->CR |= ((uint32_t)RCC_CR_HSEON);
 994:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  
 995:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* Wait till HSE is ready and if Time out is reached exit */
 996:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   do
 997:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 998:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     HSEStatus = RCC->CR & RCC_CR_HSERDY;
  69              		.loc 1 998 20 view .LVU12
  70 0018 1846     		mov	r0, r3
  71              	.LBE11:
  72              	.LBE14:
  73              	.LBE17:
 220:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #else
  74              		.loc 1 220 13 view .LVU13
  75 001a 0A40     		ands	r2, r2, r1
  76 001c 5A60     		str	r2, [r3, #4]
ARM GAS  /tmp/cclMhJ2a.s 			page 20


 226:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  77              		.loc 1 226 3 is_stmt 1 view .LVU14
 226:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  78              		.loc 1 226 11 is_stmt 0 view .LVU15
  79 001e 1A68     		ldr	r2, [r3]
  80 0020 22F08472 		bic	r2, r2, #17301504
  81 0024 22F48032 		bic	r2, r2, #65536
  82 0028 1A60     		str	r2, [r3]
 229:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  83              		.loc 1 229 3 is_stmt 1 view .LVU16
 229:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  84              		.loc 1 229 11 is_stmt 0 view .LVU17
  85 002a 1A68     		ldr	r2, [r3]
  86 002c 22F48022 		bic	r2, r2, #262144
  87 0030 1A60     		str	r2, [r3]
 232:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  88              		.loc 1 232 3 is_stmt 1 view .LVU18
 232:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  89              		.loc 1 232 13 is_stmt 0 view .LVU19
  90 0032 5A68     		ldr	r2, [r3, #4]
  91 0034 22F4FE02 		bic	r2, r2, #8323072
  92 0038 5A60     		str	r2, [r3, #4]
 251:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif /* STM32F10X_CL */
  93              		.loc 1 251 3 is_stmt 1 view .LVU20
 251:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif /* STM32F10X_CL */
  94              		.loc 1 251 12 is_stmt 0 view .LVU21
  95 003a 9D60     		str	r5, [r3, #8]
 262:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
  96              		.loc 1 262 3 is_stmt 1 view .LVU22
  97              	.LBB18:
  98              	.LBI8:
 419:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** {
  99              		.loc 1 419 13 view .LVU23
 100              	.LBE18:
 432:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif
 101              		.loc 1 432 3 view .LVU24
 102              	.LBB19:
 103              	.LBB15:
 104              	.LBI9:
 987:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** {
 105              		.loc 1 987 13 view .LVU25
 106              	.LBB12:
 989:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 107              		.loc 1 989 3 view .LVU26
 989:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 108              		.loc 1 989 17 is_stmt 0 view .LVU27
 109 003c 0094     		str	r4, [sp]
 989:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 110              		.loc 1 989 37 view .LVU28
 111 003e 0194     		str	r4, [sp, #4]
 993:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  
 112              		.loc 1 993 3 is_stmt 1 view .LVU29
 993:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  
 113              		.loc 1 993 11 is_stmt 0 view .LVU30
 114 0040 1A68     		ldr	r2, [r3]
 115 0042 42F48032 		orr	r2, r2, #65536
 116 0046 1A60     		str	r2, [r3]
ARM GAS  /tmp/cclMhJ2a.s 			page 21


 117 0048 03E0     		b	.L3
 118              	.L15:
 999:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     StartUpCounter++;  
1000:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   } while((HSEStatus == 0) && (StartUpCounter != HSE_STARTUP_TIMEOUT));
 119              		.loc 1 1000 47 view .LVU31
 120 004a 009B     		ldr	r3, [sp]
 121              		.loc 1 1000 28 view .LVU32
 122 004c B3F5A06F 		cmp	r3, #1280
 123 0050 09D0     		beq	.L2
 124              	.L3:
 996:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 125              		.loc 1 996 3 is_stmt 1 view .LVU33
 998:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     StartUpCounter++;  
 126              		.loc 1 998 5 view .LVU34
 998:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     StartUpCounter++;  
 127              		.loc 1 998 20 is_stmt 0 view .LVU35
 128 0052 0368     		ldr	r3, [r0]
 998:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     StartUpCounter++;  
 129              		.loc 1 998 25 view .LVU36
 130 0054 03F40033 		and	r3, r3, #131072
 998:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     StartUpCounter++;  
 131              		.loc 1 998 15 view .LVU37
 132 0058 0193     		str	r3, [sp, #4]
 999:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     StartUpCounter++;  
 133              		.loc 1 999 5 is_stmt 1 view .LVU38
 999:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     StartUpCounter++;  
 134              		.loc 1 999 19 is_stmt 0 view .LVU39
 135 005a 009B     		ldr	r3, [sp]
 136 005c 0133     		adds	r3, r3, #1
 137 005e 0093     		str	r3, [sp]
 138              		.loc 1 1000 10 is_stmt 1 view .LVU40
 139              		.loc 1 1000 22 is_stmt 0 view .LVU41
 140 0060 019B     		ldr	r3, [sp, #4]
 141              		.loc 1 1000 3 view .LVU42
 142 0062 002B     		cmp	r3, #0
 143 0064 F1D0     		beq	.L15
 144              	.L2:
1001:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
1002:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   if ((RCC->CR & RCC_CR_HSERDY) != RESET)
 145              		.loc 1 1002 3 is_stmt 1 view .LVU43
 146              		.loc 1 1002 11 is_stmt 0 view .LVU44
 147 0066 234B     		ldr	r3, .L17
 148 0068 1B68     		ldr	r3, [r3]
 149              		.loc 1 1002 6 view .LVU45
 150 006a 13F40033 		ands	r3, r3, #131072
1003:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
1004:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     HSEStatus = (uint32_t)0x01;
 151              		.loc 1 1004 5 is_stmt 1 view .LVU46
 152              		.loc 1 1004 15 is_stmt 0 view .LVU47
 153 006e 18BF     		it	ne
 154 0070 0123     		movne	r3, #1
1005:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }
1006:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   else
1007:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
1008:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     HSEStatus = (uint32_t)0x00;
 155              		.loc 1 1008 5 is_stmt 1 view .LVU48
 156              		.loc 1 1008 15 is_stmt 0 view .LVU49
ARM GAS  /tmp/cclMhJ2a.s 			page 22


 157 0072 0193     		str	r3, [sp, #4]
1009:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }  
1010:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
1011:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   if (HSEStatus == (uint32_t)0x01)
 158              		.loc 1 1011 3 is_stmt 1 view .LVU50
 159              		.loc 1 1011 17 is_stmt 0 view .LVU51
 160 0074 019B     		ldr	r3, [sp, #4]
 161              		.loc 1 1011 6 view .LVU52
 162 0076 012B     		cmp	r3, #1
 163 0078 06D0     		beq	.L16
 164              	.L6:
1012:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
1013:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Enable Prefetch Buffer */
1014:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR |= FLASH_ACR_PRFTBE;
1015:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
1016:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Flash 2 wait state */
1017:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR &= (uint32_t)((uint32_t)~FLASH_ACR_LATENCY);
1018:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR |= (uint32_t)FLASH_ACR_LATENCY_2;    
1019:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
1020:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****  
1021:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* HCLK = SYSCLK */
1022:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_HPRE_DIV1;
1023:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       
1024:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PCLK2 = HCLK */
1025:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_PPRE2_DIV1;
1026:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
1027:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PCLK1 = HCLK */
1028:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_PPRE1_DIV2;
1029:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
1030:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #ifdef STM32F10X_CL
1031:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Configure PLLs ------------------------------------------------------*/
1032:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PLL2 configuration: PLL2CLK = (HSE / 5) * 8 = 40 MHz */
1033:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PREDIV1 configuration: PREDIV1CLK = PLL2 / 5 = 8 MHz */
1034:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         
1035:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR2 &= (uint32_t)~(RCC_CFGR2_PREDIV2 | RCC_CFGR2_PLL2MUL |
1036:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****                               RCC_CFGR2_PREDIV1 | RCC_CFGR2_PREDIV1SRC);
1037:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR2 |= (uint32_t)(RCC_CFGR2_PREDIV2_DIV5 | RCC_CFGR2_PLL2MUL8 |
1038:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****                              RCC_CFGR2_PREDIV1SRC_PLL2 | RCC_CFGR2_PREDIV1_DIV5);
1039:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
1040:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Enable PLL2 */
1041:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CR |= RCC_CR_PLL2ON;
1042:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Wait till PLL2 is ready */
1043:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     while((RCC->CR & RCC_CR_PLL2RDY) == 0)
1044:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
1045:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     }
1046:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
1047:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****    
1048:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* PLL configuration: PLLCLK = PREDIV1 * 9 = 72 MHz */ 
1049:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR &= (uint32_t)~(RCC_CFGR_PLLXTPRE | RCC_CFGR_PLLSRC | RCC_CFGR_PLLMULL);
1050:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)(RCC_CFGR_PLLXTPRE_PREDIV1 | RCC_CFGR_PLLSRC_PREDIV1 | 
1051:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****                             RCC_CFGR_PLLMULL9); 
1052:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #else    
1053:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /*  PLL configuration: PLLCLK = HSE * 9 = 72 MHz */
1054:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR &= (uint32_t)((uint32_t)~(RCC_CFGR_PLLSRC | RCC_CFGR_PLLXTPRE |
1055:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****                                         RCC_CFGR_PLLMULL));
1056:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)(RCC_CFGR_PLLSRC_HSE | RCC_CFGR_PLLMULL9);
1057:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif /* STM32F10X_CL */
ARM GAS  /tmp/cclMhJ2a.s 			page 23


1058:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
1059:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Enable PLL */
1060:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CR |= RCC_CR_PLLON;
1061:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
1062:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Wait till PLL is ready */
1063:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     while((RCC->CR & RCC_CR_PLLRDY) == 0)
1064:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
1065:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     }
1066:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
1067:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Select PLL as system clock source */
1068:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR &= (uint32_t)((uint32_t)~(RCC_CFGR_SW));
1069:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_SW_PLL;    
1070:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
1071:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     /* Wait till PLL is used as system clock source */
1072:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     while ((RCC->CFGR & (uint32_t)RCC_CFGR_SWS) != (uint32_t)0x08)
1073:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
1074:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     }
1075:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }
1076:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   else
1077:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   { /* If HSE fails to start-up, the application will have wrong clock 
1078:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****          configuration. User can add here some code to deal with this error */
1079:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }
 165              		.loc 1 1079 3 is_stmt 1 view .LVU53
 166              	.LBE12:
 167              	.LBE15:
 168              	.LBE19:
 267:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif 
 169              		.loc 1 267 3 view .LVU54
 267:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif 
 170              		.loc 1 267 13 is_stmt 0 view .LVU55
 171 007a 4FF00062 		mov	r2, #134217728
 172 007e 1F4B     		ldr	r3, .L17+8
 173 0080 9A60     		str	r2, [r3, #8]
 269:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 174              		.loc 1 269 1 view .LVU56
 175 0082 02B0     		add	sp, sp, #8
 176              	.LCFI2:
 177              		.cfi_remember_state
 178              		.cfi_def_cfa_offset 8
 179              		@ sp needed
 180 0084 30BC     		pop	{r4, r5}
 181              	.LCFI3:
 182              		.cfi_restore 5
 183              		.cfi_restore 4
 184              		.cfi_def_cfa_offset 0
 185 0086 7047     		bx	lr
 186              	.L16:
 187              	.LCFI4:
 188              		.cfi_restore_state
 189              	.LBB20:
 190              	.LBB16:
 191              	.LBB13:
1014:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 192              		.loc 1 1014 5 is_stmt 1 view .LVU57
1014:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 193              		.loc 1 1014 16 is_stmt 0 view .LVU58
 194 0088 1D49     		ldr	r1, .L17+12
ARM GAS  /tmp/cclMhJ2a.s 			page 24


1022:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       
 195              		.loc 1 1022 15 view .LVU59
 196 008a 1A4B     		ldr	r3, .L17
1014:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 197              		.loc 1 1014 16 view .LVU60
 198 008c 0868     		ldr	r0, [r1]
1063:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 199              		.loc 1 1063 15 view .LVU61
 200 008e 1A46     		mov	r2, r3
1014:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 201              		.loc 1 1014 16 view .LVU62
 202 0090 40F01000 		orr	r0, r0, #16
 203 0094 0860     		str	r0, [r1]
1017:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR |= (uint32_t)FLASH_ACR_LATENCY_2;    
 204              		.loc 1 1017 5 is_stmt 1 view .LVU63
1017:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     FLASH->ACR |= (uint32_t)FLASH_ACR_LATENCY_2;    
 205              		.loc 1 1017 16 is_stmt 0 view .LVU64
 206 0096 0868     		ldr	r0, [r1]
 207 0098 20F00300 		bic	r0, r0, #3
 208 009c 0860     		str	r0, [r1]
1018:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 209              		.loc 1 1018 5 is_stmt 1 view .LVU65
1018:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 210              		.loc 1 1018 16 is_stmt 0 view .LVU66
 211 009e 0868     		ldr	r0, [r1]
 212 00a0 40F00200 		orr	r0, r0, #2
 213 00a4 0860     		str	r0, [r1]
1022:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       
 214              		.loc 1 1022 5 is_stmt 1 view .LVU67
1022:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       
 215              		.loc 1 1022 15 is_stmt 0 view .LVU68
 216 00a6 5968     		ldr	r1, [r3, #4]
 217 00a8 5960     		str	r1, [r3, #4]
1025:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
 218              		.loc 1 1025 5 is_stmt 1 view .LVU69
1025:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
 219              		.loc 1 1025 15 is_stmt 0 view .LVU70
 220 00aa 5968     		ldr	r1, [r3, #4]
 221 00ac 5960     		str	r1, [r3, #4]
1028:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 222              		.loc 1 1028 5 is_stmt 1 view .LVU71
1028:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 223              		.loc 1 1028 15 is_stmt 0 view .LVU72
 224 00ae 5968     		ldr	r1, [r3, #4]
 225 00b0 41F48061 		orr	r1, r1, #1024
 226 00b4 5960     		str	r1, [r3, #4]
1054:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****                                         RCC_CFGR_PLLMULL));
 227              		.loc 1 1054 5 is_stmt 1 view .LVU73
1054:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****                                         RCC_CFGR_PLLMULL));
 228              		.loc 1 1054 15 is_stmt 0 view .LVU74
 229 00b6 5968     		ldr	r1, [r3, #4]
 230 00b8 21F47C11 		bic	r1, r1, #4128768
 231 00bc 5960     		str	r1, [r3, #4]
1056:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif /* STM32F10X_CL */
 232              		.loc 1 1056 5 is_stmt 1 view .LVU75
1056:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** #endif /* STM32F10X_CL */
 233              		.loc 1 1056 15 is_stmt 0 view .LVU76
ARM GAS  /tmp/cclMhJ2a.s 			page 25


 234 00be 5968     		ldr	r1, [r3, #4]
 235 00c0 41F4E811 		orr	r1, r1, #1900544
 236 00c4 5960     		str	r1, [r3, #4]
1060:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 237              		.loc 1 1060 5 is_stmt 1 view .LVU77
1060:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 238              		.loc 1 1060 13 is_stmt 0 view .LVU78
 239 00c6 1968     		ldr	r1, [r3]
 240 00c8 41F08071 		orr	r1, r1, #16777216
 241 00cc 1960     		str	r1, [r3]
1063:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 242              		.loc 1 1063 5 is_stmt 1 view .LVU79
 243              	.L7:
1065:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     
 244              		.loc 1 1065 5 view .LVU80
1063:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 245              		.loc 1 1063 10 view .LVU81
1063:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 246              		.loc 1 1063 15 is_stmt 0 view .LVU82
 247 00ce 1368     		ldr	r3, [r2]
1063:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 248              		.loc 1 1063 10 view .LVU83
 249 00d0 9B01     		lsls	r3, r3, #6
 250 00d2 FCD5     		bpl	.L7
1068:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_SW_PLL;    
 251              		.loc 1 1068 5 is_stmt 1 view .LVU84
1068:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_SW_PLL;    
 252              		.loc 1 1068 15 is_stmt 0 view .LVU85
 253 00d4 5368     		ldr	r3, [r2, #4]
1072:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 254              		.loc 1 1072 16 view .LVU86
 255 00d6 0749     		ldr	r1, .L17
1068:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     RCC->CFGR |= (uint32_t)RCC_CFGR_SW_PLL;    
 256              		.loc 1 1068 15 view .LVU87
 257 00d8 23F00303 		bic	r3, r3, #3
 258 00dc 5360     		str	r3, [r2, #4]
1069:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 259              		.loc 1 1069 5 is_stmt 1 view .LVU88
1069:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 260              		.loc 1 1069 15 is_stmt 0 view .LVU89
 261 00de 5368     		ldr	r3, [r2, #4]
 262 00e0 43F00203 		orr	r3, r3, #2
 263 00e4 5360     		str	r3, [r2, #4]
1072:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 264              		.loc 1 1072 5 is_stmt 1 view .LVU90
 265              	.L8:
1074:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   }
 266              		.loc 1 1074 5 view .LVU91
1072:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 267              		.loc 1 1072 11 view .LVU92
1072:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 268              		.loc 1 1072 16 is_stmt 0 view .LVU93
 269 00e6 4B68     		ldr	r3, [r1, #4]
1072:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
 270              		.loc 1 1072 23 view .LVU94
 271 00e8 03F00C03 		and	r3, r3, #12
1072:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****     {
ARM GAS  /tmp/cclMhJ2a.s 			page 26


 272              		.loc 1 1072 11 view .LVU95
 273 00ec 082B     		cmp	r3, #8
 274 00ee FAD1     		bne	.L8
 275 00f0 C3E7     		b	.L6
 276              	.L18:
 277 00f2 00BF     		.align	2
 278              	.L17:
 279 00f4 00100240 		.word	1073876992
 280 00f8 0000FFF8 		.word	-117506048
 281 00fc 00ED00E0 		.word	-536810240
 282 0100 00200240 		.word	1073881088
 283              	.LBE13:
 284              	.LBE16:
 285              	.LBE20:
 286              		.cfi_endproc
 287              	.LFE29:
 289              		.section	.text.SystemCoreClockUpdate,"ax",%progbits
 290              		.align	1
 291              		.p2align 2,,3
 292              		.global	SystemCoreClockUpdate
 293              		.syntax unified
 294              		.thumb
 295              		.thumb_func
 296              		.fpu softvfp
 298              	SystemCoreClockUpdate:
 299              	.LFB30:
 307:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   uint32_t tmp = 0, pllmull = 0, pllsource = 0;
 300              		.loc 1 307 1 is_stmt 1 view -0
 301              		.cfi_startproc
 302              		@ args = 0, pretend = 0, frame = 0
 303              		@ frame_needed = 0, uses_anonymous_args = 0
 304              		@ link register save eliminated.
 308:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 305              		.loc 1 308 3 view .LVU97
 306              	.LVL0:
 319:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 307              		.loc 1 319 3 view .LVU98
 319:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 308              		.loc 1 319 12 is_stmt 0 view .LVU99
 309 0000 114A     		ldr	r2, .L26
 310 0002 5368     		ldr	r3, [r2, #4]
 311              	.LVL1:
 321:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 312              		.loc 1 321 3 is_stmt 1 view .LVU100
 319:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   
 313              		.loc 1 319 7 is_stmt 0 view .LVU101
 314 0004 03F00C03 		and	r3, r3, #12
 315              	.LVL2:
 321:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   {
 316              		.loc 1 321 3 view .LVU102
 317 0008 082B     		cmp	r3, #8
 318 000a 0AD0     		beq	.L25
 319 000c 0F4B     		ldr	r3, .L26+4
 320              	.LVL3:
 321              	.L20:
 409:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* HCLK clock frequency */
 322              		.loc 1 409 3 is_stmt 1 view .LVU103
ARM GAS  /tmp/cclMhJ2a.s 			page 27


 409:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* HCLK clock frequency */
 323              		.loc 1 409 28 is_stmt 0 view .LVU104
 324 000e 0E4A     		ldr	r2, .L26
 409:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* HCLK clock frequency */
 325              		.loc 1 409 22 view .LVU105
 326 0010 0F48     		ldr	r0, .L26+8
 409:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* HCLK clock frequency */
 327              		.loc 1 409 28 view .LVU106
 328 0012 5268     		ldr	r2, [r2, #4]
 411:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** }
 329              		.loc 1 411 19 view .LVU107
 330 0014 0F49     		ldr	r1, .L26+12
 409:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* HCLK clock frequency */
 331              		.loc 1 409 52 view .LVU108
 332 0016 C2F30312 		ubfx	r2, r2, #4, #4
 409:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****   /* HCLK clock frequency */
 333              		.loc 1 409 22 view .LVU109
 334 001a 825C     		ldrb	r2, [r0, r2]	@ zero_extendqisi2
 335              	.LVL4:
 411:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** }
 336              		.loc 1 411 3 is_stmt 1 view .LVU110
 411:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** }
 337              		.loc 1 411 19 is_stmt 0 view .LVU111
 338 001c D340     		lsrs	r3, r3, r2
 339 001e 0B60     		str	r3, [r1]
 412:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c **** 
 340              		.loc 1 412 1 view .LVU112
 341 0020 7047     		bx	lr
 342              	.LVL5:
 343              	.L25:
 332:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       pllsource = RCC->CFGR & RCC_CFGR_PLLSRC;
 344              		.loc 1 332 7 is_stmt 1 view .LVU113
 332:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       pllsource = RCC->CFGR & RCC_CFGR_PLLSRC;
 345              		.loc 1 332 20 is_stmt 0 view .LVU114
 346 0022 5368     		ldr	r3, [r2, #4]
 347              	.LVL6:
 333:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       
 348              		.loc 1 333 7 is_stmt 1 view .LVU115
 333:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       
 349              		.loc 1 333 22 is_stmt 0 view .LVU116
 350 0024 5168     		ldr	r1, [r2, #4]
 351              	.LVL7:
 336:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       
 352              		.loc 1 336 7 is_stmt 1 view .LVU117
 336:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       
 353              		.loc 1 336 27 is_stmt 0 view .LVU118
 354 0026 C3F38343 		ubfx	r3, r3, #18, #4
 355              	.LVL8:
 338:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       {
 356              		.loc 1 338 10 view .LVU119
 357 002a C903     		lsls	r1, r1, #15
 358              	.LVL9:
 336:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       
 359              		.loc 1 336 15 view .LVU120
 360 002c 03F10203 		add	r3, r3, #2
 361              	.LVL10:
 338:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       {
ARM GAS  /tmp/cclMhJ2a.s 			page 28


 362              		.loc 1 338 7 is_stmt 1 view .LVU121
 338:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****       {
 363              		.loc 1 338 10 is_stmt 0 view .LVU122
 364 0030 06D5     		bpl	.L24
 351:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         {/* HSE oscillator clock divided by 2 */
 365              		.loc 1 351 9 is_stmt 1 view .LVU123
 351:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         {/* HSE oscillator clock divided by 2 */
 366              		.loc 1 351 17 is_stmt 0 view .LVU124
 367 0032 5268     		ldr	r2, [r2, #4]
 351:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         {/* HSE oscillator clock divided by 2 */
 368              		.loc 1 351 12 view .LVU125
 369 0034 9203     		lsls	r2, r2, #14
 370 0036 03D4     		bmi	.L24
 357:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         }
 371              		.loc 1 357 11 is_stmt 1 view .LVU126
 357:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         }
 372              		.loc 1 357 39 is_stmt 0 view .LVU127
 373 0038 044A     		ldr	r2, .L26+4
 374 003a 02FB03F3 		mul	r3, r2, r3
 375              	.LVL11:
 357:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         }
 376              		.loc 1 357 39 view .LVU128
 377 003e E6E7     		b	.L20
 378              	.LVL12:
 379              	.L24:
 353:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         }
 380              		.loc 1 353 11 is_stmt 1 view .LVU129
 353:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         }
 381              		.loc 1 353 46 is_stmt 0 view .LVU130
 382 0040 054A     		ldr	r2, .L26+16
 383 0042 02FB03F3 		mul	r3, r2, r3
 384              	.LVL13:
 353:../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.c ****         }
 385              		.loc 1 353 46 view .LVU131
 386 0046 E2E7     		b	.L20
 387              	.L27:
 388              		.align	2
 389              	.L26:
 390 0048 00100240 		.word	1073876992
 391 004c 00127A00 		.word	8000000
 392 0050 00000000 		.word	.LANCHOR0
 393 0054 00000000 		.word	.LANCHOR1
 394 0058 00093D00 		.word	4000000
 395              		.cfi_endproc
 396              	.LFE30:
 398              		.global	AHBPrescTable
 399              		.global	SystemCoreClock
 400              		.section	.data.AHBPrescTable,"aw"
 401              		.align	2
 402              		.set	.LANCHOR0,. + 0
 405              	AHBPrescTable:
 406 0000 00000000 		.ascii	"\000\000\000\000\000\000\000\000\001\002\003\004\006"
 406      00000000 
 406      01020304 
 406      06
 407 000d 070809   		.ascii	"\007\010\011"
 408              		.section	.data.SystemCoreClock,"aw"
ARM GAS  /tmp/cclMhJ2a.s 			page 29


 409              		.align	2
 410              		.set	.LANCHOR1,. + 0
 413              	SystemCoreClock:
 414 0000 00A24A04 		.word	72000000
 415              		.text
 416              	.Letext0:
 417              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 418              		.file 3 "../Drivers/CMSIS/CM3/CoreSupport/core_cm3.h"
 419              		.file 4 "../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.h"
 420              		.file 5 "../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/stm32f10x.h"
ARM GAS  /tmp/cclMhJ2a.s 			page 30


DEFINED SYMBOLS
                            *ABS*:0000000000000000 system_stm32f10x.c
     /tmp/cclMhJ2a.s:16     .text.SystemInit:0000000000000000 $t
     /tmp/cclMhJ2a.s:25     .text.SystemInit:0000000000000000 SystemInit
     /tmp/cclMhJ2a.s:279    .text.SystemInit:00000000000000f4 $d
     /tmp/cclMhJ2a.s:290    .text.SystemCoreClockUpdate:0000000000000000 $t
     /tmp/cclMhJ2a.s:298    .text.SystemCoreClockUpdate:0000000000000000 SystemCoreClockUpdate
     /tmp/cclMhJ2a.s:390    .text.SystemCoreClockUpdate:0000000000000048 $d
     /tmp/cclMhJ2a.s:405    .data.AHBPrescTable:0000000000000000 AHBPrescTable
     /tmp/cclMhJ2a.s:413    .data.SystemCoreClock:0000000000000000 SystemCoreClock
     /tmp/cclMhJ2a.s:401    .data.AHBPrescTable:0000000000000000 $d
     /tmp/cclMhJ2a.s:409    .data.SystemCoreClock:0000000000000000 $d

NO UNDEFINED SYMBOLS
