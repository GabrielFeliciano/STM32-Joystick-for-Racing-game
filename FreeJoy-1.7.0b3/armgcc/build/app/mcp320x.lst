ARM GAS  /tmp/ccAkYILZ.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 2
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"mcp320x.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.MCP320x_GetData,"ax",%progbits
  16              		.align	1
  17              		.p2align 2,,3
  18              		.global	MCP320x_GetData
  19              		.arch armv7-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu softvfp
  25              	MCP320x_GetData:
  26              	.LVL0:
  27              	.LFB29:
  28              		.file 1 "../application/Src/mcp320x.c"
   1:../application/Src/mcp320x.c **** /**
   2:../application/Src/mcp320x.c ****   ******************************************************************************
   3:../application/Src/mcp320x.c ****   * @file           : mcp320x.c
   4:../application/Src/mcp320x.c ****   * @brief          : MCP320x ADC driver implementation
   5:../application/Src/mcp320x.c **** 			
   6:../application/Src/mcp320x.c **** 		FreeJoy software for game device controllers
   7:../application/Src/mcp320x.c ****     Copyright (C) 2020  Yury Vostrenkov (yuvostrenkov@gmail.com)
   8:../application/Src/mcp320x.c **** 
   9:../application/Src/mcp320x.c ****     This program is free software: you can redistribute it and/or modify
  10:../application/Src/mcp320x.c ****     it under the terms of the GNU General Public License as published by
  11:../application/Src/mcp320x.c ****     the Free Software Foundation, either version 3 of the License, or
  12:../application/Src/mcp320x.c ****     (at your option) any later version.
  13:../application/Src/mcp320x.c **** 
  14:../application/Src/mcp320x.c ****     This program is distributed in the hope that it will be useful,
  15:../application/Src/mcp320x.c ****     but WITHOUT ANY WARRANTY; without even the implied warranty of
  16:../application/Src/mcp320x.c ****     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  17:../application/Src/mcp320x.c ****     GNU General Public License for more details.
  18:../application/Src/mcp320x.c **** 
  19:../application/Src/mcp320x.c ****     You should have received a copy of the GNU General Public License
  20:../application/Src/mcp320x.c ****     along with this program.  If not, see <https://www.gnu.org/licenses/>.
  21:../application/Src/mcp320x.c **** 		
  22:../application/Src/mcp320x.c ****   ******************************************************************************
  23:../application/Src/mcp320x.c ****   */
  24:../application/Src/mcp320x.c **** 
  25:../application/Src/mcp320x.c **** #include "mcp320x.h"
  26:../application/Src/mcp320x.c **** 
  27:../application/Src/mcp320x.c **** uint16_t MCP320x_GetData(sensor_t * sensor, uint8_t channel)
  28:../application/Src/mcp320x.c **** {
  29              		.loc 1 28 1 view -0
  30              		.cfi_startproc
ARM GAS  /tmp/ccAkYILZ.s 			page 2


  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  29:../application/Src/mcp320x.c **** 	uint16_t ret;
  34              		.loc 1 29 2 view .LVU1
  30:../application/Src/mcp320x.c **** 	
  31:../application/Src/mcp320x.c **** 	if (sensor->type == MCP3201)
  35              		.loc 1 31 2 view .LVU2
  36              		.loc 1 31 5 is_stmt 0 view .LVU3
  37 0000 037B     		ldrb	r3, [r0, #12]	@ zero_extendqisi2
  38 0002 022B     		cmp	r3, #2
  39 0004 09D0     		beq	.L5
  32:../application/Src/mcp320x.c **** 	{
  33:../application/Src/mcp320x.c **** 		ret = ((sensor->data[1] & 0x1F)<<7) | (sensor->data[2]>>1);
  34:../application/Src/mcp320x.c **** 	}
  35:../application/Src/mcp320x.c **** 	else
  36:../application/Src/mcp320x.c **** 	{
  37:../application/Src/mcp320x.c **** 		ret = (sensor->data[1 + 3*channel] & 0x0F)<<8 | sensor->data[2 + 3*channel];
  40              		.loc 1 37 3 is_stmt 1 view .LVU4
  41              		.loc 1 37 28 is_stmt 0 view .LVU5
  42 0006 01EB4101 		add	r1, r1, r1, lsl #1
  43              	.LVL1:
  44              		.loc 1 37 22 view .LVU6
  45 000a 0844     		add	r0, r0, r1
  46              	.LVL2:
  47              		.loc 1 37 45 view .LVU7
  48 000c C37B     		ldrb	r3, [r0, #15]	@ zero_extendqisi2
  49              		.loc 1 37 63 view .LVU8
  50 000e 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
  51              		.loc 1 37 45 view .LVU9
  52 0010 1B02     		lsls	r3, r3, #8
  53 0012 03F47063 		and	r3, r3, #3840
  54              		.loc 1 37 7 view .LVU10
  55 0016 1843     		orrs	r0, r0, r3
  56              	.LVL3:
  38:../application/Src/mcp320x.c **** 	}
  39:../application/Src/mcp320x.c **** 	return ret;
  57              		.loc 1 39 2 is_stmt 1 view .LVU11
  40:../application/Src/mcp320x.c **** }
  58              		.loc 1 40 1 is_stmt 0 view .LVU12
  59 0018 7047     		bx	lr
  60              	.LVL4:
  61              	.L5:
  33:../application/Src/mcp320x.c **** 	}
  62              		.loc 1 33 3 is_stmt 1 view .LVU13
  33:../application/Src/mcp320x.c **** 	}
  63              		.loc 1 33 34 is_stmt 0 view .LVU14
  64 001a C37B     		ldrb	r3, [r0, #15]	@ zero_extendqisi2
  33:../application/Src/mcp320x.c **** 	}
  65              		.loc 1 33 39 view .LVU15
  66 001c 027C     		ldrb	r2, [r0, #16]	@ zero_extendqisi2
  33:../application/Src/mcp320x.c **** 	}
  67              		.loc 1 33 34 view .LVU16
  68 001e D801     		lsls	r0, r3, #7
  69              	.LVL5:
  33:../application/Src/mcp320x.c **** 	}
  70              		.loc 1 33 34 view .LVU17
ARM GAS  /tmp/ccAkYILZ.s 			page 3


  71 0020 00F47860 		and	r0, r0, #3968
  33:../application/Src/mcp320x.c **** 	}
  72              		.loc 1 33 7 view .LVU18
  73 0024 40EA5200 		orr	r0, r0, r2, lsr #1
  74              	.LVL6:
  33:../application/Src/mcp320x.c **** 	}
  75              		.loc 1 33 7 view .LVU19
  76 0028 7047     		bx	lr
  77              		.cfi_endproc
  78              	.LFE29:
  80 002a 00BF     		.section	.text.MCP320x_StartDMA,"ax",%progbits
  81              		.align	1
  82              		.p2align 2,,3
  83              		.global	MCP320x_StartDMA
  84              		.syntax unified
  85              		.thumb
  86              		.thumb_func
  87              		.fpu softvfp
  89              	MCP320x_StartDMA:
  90              	.LVL7:
  91              	.LFB30:
  41:../application/Src/mcp320x.c **** 
  42:../application/Src/mcp320x.c **** void MCP320x_StartDMA(sensor_t * sensor, uint8_t channel)
  43:../application/Src/mcp320x.c **** {	
  92              		.loc 1 43 1 is_stmt 1 view -0
  93              		.cfi_startproc
  94              		@ args = 0, pretend = 0, frame = 8
  95              		@ frame_needed = 0, uses_anonymous_args = 0
  44:../application/Src/mcp320x.c **** 	uint8_t tmp_buf[3];
  96              		.loc 1 44 2 view .LVU21
  45:../application/Src/mcp320x.c **** 	
  46:../application/Src/mcp320x.c **** 	sensor->rx_complete = 0;
  97              		.loc 1 46 2 view .LVU22
  47:../application/Src/mcp320x.c **** 	sensor->tx_complete = 1;
  98              		.loc 1 47 2 view .LVU23
  43:../application/Src/mcp320x.c **** 	uint8_t tmp_buf[3];
  99              		.loc 1 43 1 is_stmt 0 view .LVU24
 100 0000 70B5     		push	{r4, r5, r6, lr}
 101              	.LCFI0:
 102              		.cfi_def_cfa_offset 16
 103              		.cfi_offset 4, -16
 104              		.cfi_offset 5, -12
 105              		.cfi_offset 6, -8
 106              		.cfi_offset 14, -4
  46:../application/Src/mcp320x.c **** 	sensor->tx_complete = 1;
 107              		.loc 1 46 22 view .LVU25
 108 0002 4FF48072 		mov	r2, #256
  43:../application/Src/mcp320x.c **** 	uint8_t tmp_buf[3];
 109              		.loc 1 43 1 view .LVU26
 110 0006 0C46     		mov	r4, r1
  48:../application/Src/mcp320x.c **** 	sensor->curr_channel = channel;
  49:../application/Src/mcp320x.c **** 	
  50:../application/Src/mcp320x.c **** 	// CS low
  51:../application/Src/mcp320x.c **** 	pin_config[sensor->source].port->ODR &= ~pin_config[sensor->source].pin;
 111              		.loc 1 51 28 view .LVU27
 112 0008 244B     		ldr	r3, .L16
 113              		.loc 1 51 19 view .LVU28
ARM GAS  /tmp/ccAkYILZ.s 			page 4


 114 000a 90F90B10 		ldrsb	r1, [r0, #11]
 115              	.LVL8:
  48:../application/Src/mcp320x.c **** 	sensor->curr_channel = channel;
 116              		.loc 1 48 23 view .LVU29
 117 000e 8472     		strb	r4, [r0, #10]
  46:../application/Src/mcp320x.c **** 	sensor->tx_complete = 1;
 118              		.loc 1 46 22 view .LVU30
 119 0010 0281     		strh	r2, [r0, #8]	@ movhi
  48:../application/Src/mcp320x.c **** 	sensor->curr_channel = channel;
 120              		.loc 1 48 2 is_stmt 1 view .LVU31
 121              		.loc 1 51 2 view .LVU32
 122              		.loc 1 51 28 is_stmt 0 view .LVU33
 123 0012 53F83120 		ldr	r2, [r3, r1, lsl #3]
 124              		.loc 1 51 69 view .LVU34
 125 0016 03EBC103 		add	r3, r3, r1, lsl #3
 126 001a 9988     		ldrh	r1, [r3, #4]
 127              		.loc 1 51 39 view .LVU35
 128 001c D368     		ldr	r3, [r2, #12]
  43:../application/Src/mcp320x.c **** 	uint8_t tmp_buf[3];
 129              		.loc 1 43 1 view .LVU36
 130 001e 82B0     		sub	sp, sp, #8
 131              	.LCFI1:
 132              		.cfi_def_cfa_offset 24
 133              		.loc 1 51 39 view .LVU37
 134 0020 23EA0103 		bic	r3, r3, r1
 135 0024 D360     		str	r3, [r2, #12]
  52:../application/Src/mcp320x.c **** 
  53:../application/Src/mcp320x.c **** 	
  54:../application/Src/mcp320x.c **** 	if (sensor->type == MCP3201)
 136              		.loc 1 54 2 is_stmt 1 view .LVU38
 137              		.loc 1 54 12 is_stmt 0 view .LVU39
 138 0026 037B     		ldrb	r3, [r0, #12]	@ zero_extendqisi2
 139              		.loc 1 54 5 view .LVU40
 140 0028 022B     		cmp	r3, #2
 141 002a 1AD0     		beq	.L13
  55:../application/Src/mcp320x.c **** 	{		
  56:../application/Src/mcp320x.c **** 		SPI_FullDuplex_TransmitReceive(&tmp_buf[0],&sensor->data[1], 2, MCP32xx_SPI_MODE);
  57:../application/Src/mcp320x.c **** 	}
  58:../application/Src/mcp320x.c **** 	else if (sensor->type == MCP3202)
 142              		.loc 1 58 7 is_stmt 1 view .LVU41
 143              		.loc 1 58 10 is_stmt 0 view .LVU42
 144 002c 032B     		cmp	r3, #3
 145 002e 04D0     		beq	.L14
  59:../application/Src/mcp320x.c **** 	{
  60:../application/Src/mcp320x.c **** 		tmp_buf[0] = 0x01;
  61:../application/Src/mcp320x.c **** 		tmp_buf[1] = (channel == 1) ? 0xE0 : 0xA0;
  62:../application/Src/mcp320x.c **** 		SPI_FullDuplex_TransmitReceive(&tmp_buf[0],&sensor->data[3*channel], 3, MCP32xx_SPI_MODE);
  63:../application/Src/mcp320x.c **** 	}
  64:../application/Src/mcp320x.c **** 	else if (sensor->type == MCP3204 || sensor->type == MCP3208)
 146              		.loc 1 64 7 is_stmt 1 view .LVU43
 147              		.loc 1 64 10 is_stmt 0 view .LVU44
 148 0030 043B     		subs	r3, r3, #4
 149 0032 012B     		cmp	r3, #1
 150 0034 1ED9     		bls	.L15
  65:../application/Src/mcp320x.c **** 	{		
  66:../application/Src/mcp320x.c **** 		tmp_buf[0] = 0x06 | ((channel & 0x04) >> 2);
  67:../application/Src/mcp320x.c **** 		tmp_buf[1] = (channel & 0x03)<<6;
ARM GAS  /tmp/ccAkYILZ.s 			page 5


  68:../application/Src/mcp320x.c **** 		SPI_FullDuplex_TransmitReceive(&tmp_buf[0],&sensor->data[3*channel], 3, MCP32xx_SPI_MODE);
  69:../application/Src/mcp320x.c **** 	}
  70:../application/Src/mcp320x.c **** }
 151              		.loc 1 70 1 view .LVU45
 152 0036 02B0     		add	sp, sp, #8
 153              	.LCFI2:
 154              		.cfi_remember_state
 155              		.cfi_def_cfa_offset 16
 156              		@ sp needed
 157 0038 70BD     		pop	{r4, r5, r6, pc}
 158              	.L14:
 159              	.LCFI3:
 160              		.cfi_restore_state
  60:../application/Src/mcp320x.c **** 		tmp_buf[1] = (channel == 1) ? 0xE0 : 0xA0;
 161              		.loc 1 60 3 is_stmt 1 view .LVU46
  61:../application/Src/mcp320x.c **** 		SPI_FullDuplex_TransmitReceive(&tmp_buf[0],&sensor->data[3*channel], 3, MCP32xx_SPI_MODE);
 162              		.loc 1 61 14 is_stmt 0 view .LVU47
 163 003a 012C     		cmp	r4, #1
 164 003c 0CBF     		ite	eq
 165 003e E026     		moveq	r6, #224
 166 0040 A026     		movne	r6, #160
  60:../application/Src/mcp320x.c **** 		tmp_buf[1] = (channel == 1) ? 0xE0 : 0xA0;
 167              		.loc 1 60 14 view .LVU48
 168 0042 0125     		movs	r5, #1
  62:../application/Src/mcp320x.c **** 	}
 169              		.loc 1 62 61 view .LVU49
 170 0044 04EB4404 		add	r4, r4, r4, lsl #1
  62:../application/Src/mcp320x.c **** 	}
 171              		.loc 1 62 3 view .LVU50
 172 0048 04F10E01 		add	r1, r4, #14
 173 004c 0144     		add	r1, r1, r0
 174 004e 1A46     		mov	r2, r3
 175 0050 01A8     		add	r0, sp, #4
 176              	.LVL9:
  61:../application/Src/mcp320x.c **** 		SPI_FullDuplex_TransmitReceive(&tmp_buf[0],&sensor->data[3*channel], 3, MCP32xx_SPI_MODE);
 177              		.loc 1 61 14 view .LVU51
 178 0052 8DF80560 		strb	r6, [sp, #5]
  60:../application/Src/mcp320x.c **** 		tmp_buf[1] = (channel == 1) ? 0xE0 : 0xA0;
 179              		.loc 1 60 14 view .LVU52
 180 0056 8DF80450 		strb	r5, [sp, #4]
  61:../application/Src/mcp320x.c **** 		SPI_FullDuplex_TransmitReceive(&tmp_buf[0],&sensor->data[3*channel], 3, MCP32xx_SPI_MODE);
 181              		.loc 1 61 3 is_stmt 1 view .LVU53
  62:../application/Src/mcp320x.c **** 	}
 182              		.loc 1 62 3 view .LVU54
 183 005a FFF7FEFF 		bl	SPI_FullDuplex_TransmitReceive
 184              	.LVL10:
 185              		.loc 1 70 1 is_stmt 0 view .LVU55
 186 005e 02B0     		add	sp, sp, #8
 187              	.LCFI4:
 188              		.cfi_remember_state
 189              		.cfi_def_cfa_offset 16
 190              		@ sp needed
 191 0060 70BD     		pop	{r4, r5, r6, pc}
 192              	.LVL11:
 193              	.L13:
 194              	.LCFI5:
 195              		.cfi_restore_state
ARM GAS  /tmp/ccAkYILZ.s 			page 6


  56:../application/Src/mcp320x.c **** 	}
 196              		.loc 1 56 3 is_stmt 1 view .LVU56
 197 0062 1A46     		mov	r2, r3
 198 0064 00F10F01 		add	r1, r0, #15
 199 0068 0323     		movs	r3, #3
 200 006a 01A8     		add	r0, sp, #4
 201              	.LVL12:
  56:../application/Src/mcp320x.c **** 	}
 202              		.loc 1 56 3 is_stmt 0 view .LVU57
 203 006c FFF7FEFF 		bl	SPI_FullDuplex_TransmitReceive
 204              	.LVL13:
 205              		.loc 1 70 1 view .LVU58
 206 0070 02B0     		add	sp, sp, #8
 207              	.LCFI6:
 208              		.cfi_remember_state
 209              		.cfi_def_cfa_offset 16
 210              		@ sp needed
 211 0072 70BD     		pop	{r4, r5, r6, pc}
 212              	.LVL14:
 213              	.L15:
 214              	.LCFI7:
 215              		.cfi_restore_state
  66:../application/Src/mcp320x.c **** 		tmp_buf[1] = (channel & 0x03)<<6;
 216              		.loc 1 66 3 is_stmt 1 view .LVU59
  68:../application/Src/mcp320x.c **** 	}
 217              		.loc 1 68 3 is_stmt 0 view .LVU60
 218 0074 0323     		movs	r3, #3
  68:../application/Src/mcp320x.c **** 	}
 219              		.loc 1 68 61 view .LVU61
 220 0076 04EB4401 		add	r1, r4, r4, lsl #1
  66:../application/Src/mcp320x.c **** 		tmp_buf[1] = (channel & 0x03)<<6;
 221              		.loc 1 66 41 view .LVU62
 222 007a C4F38005 		ubfx	r5, r4, #2, #1
  68:../application/Src/mcp320x.c **** 	}
 223              		.loc 1 68 3 view .LVU63
 224 007e 0E31     		adds	r1, r1, #14
 225 0080 0144     		add	r1, r1, r0
 226 0082 1A46     		mov	r2, r3
  66:../application/Src/mcp320x.c **** 		tmp_buf[1] = (channel & 0x03)<<6;
 227              		.loc 1 66 21 view .LVU64
 228 0084 45F00605 		orr	r5, r5, #6
  67:../application/Src/mcp320x.c **** 		SPI_FullDuplex_TransmitReceive(&tmp_buf[0],&sensor->data[3*channel], 3, MCP32xx_SPI_MODE);
 229              		.loc 1 67 32 view .LVU65
 230 0088 A401     		lsls	r4, r4, #6
  68:../application/Src/mcp320x.c **** 	}
 231              		.loc 1 68 3 view .LVU66
 232 008a 01A8     		add	r0, sp, #4
 233              	.LVL15:
  66:../application/Src/mcp320x.c **** 		tmp_buf[1] = (channel & 0x03)<<6;
 234              		.loc 1 66 14 view .LVU67
 235 008c 8DF80450 		strb	r5, [sp, #4]
  67:../application/Src/mcp320x.c **** 		SPI_FullDuplex_TransmitReceive(&tmp_buf[0],&sensor->data[3*channel], 3, MCP32xx_SPI_MODE);
 236              		.loc 1 67 3 is_stmt 1 view .LVU68
  67:../application/Src/mcp320x.c **** 		SPI_FullDuplex_TransmitReceive(&tmp_buf[0],&sensor->data[3*channel], 3, MCP32xx_SPI_MODE);
 237              		.loc 1 67 14 is_stmt 0 view .LVU69
 238 0090 8DF80540 		strb	r4, [sp, #5]
  68:../application/Src/mcp320x.c **** 	}
ARM GAS  /tmp/ccAkYILZ.s 			page 7


 239              		.loc 1 68 3 is_stmt 1 view .LVU70
 240 0094 FFF7FEFF 		bl	SPI_FullDuplex_TransmitReceive
 241              	.LVL16:
 242              		.loc 1 70 1 is_stmt 0 view .LVU71
 243 0098 02B0     		add	sp, sp, #8
 244              	.LCFI8:
 245              		.cfi_def_cfa_offset 16
 246              		@ sp needed
 247 009a 70BD     		pop	{r4, r5, r6, pc}
 248              	.L17:
 249              		.align	2
 250              	.L16:
 251 009c 00000000 		.word	pin_config
 252              		.cfi_endproc
 253              	.LFE30:
 255              		.section	.text.MCP320x_StopDMA,"ax",%progbits
 256              		.align	1
 257              		.p2align 2,,3
 258              		.global	MCP320x_StopDMA
 259              		.syntax unified
 260              		.thumb
 261              		.thumb_func
 262              		.fpu softvfp
 264              	MCP320x_StopDMA:
 265              	.LVL17:
 266              	.LFB31:
  71:../application/Src/mcp320x.c **** 
  72:../application/Src/mcp320x.c **** void MCP320x_StopDMA(sensor_t * sensor)
  73:../application/Src/mcp320x.c **** {	
 267              		.loc 1 73 1 is_stmt 1 view -0
 268              		.cfi_startproc
 269              		@ args = 0, pretend = 0, frame = 0
 270              		@ frame_needed = 0, uses_anonymous_args = 0
  74:../application/Src/mcp320x.c **** 	DMA_Cmd(DMA1_Channel2, DISABLE);
 271              		.loc 1 74 2 view .LVU73
  73:../application/Src/mcp320x.c **** 	DMA_Cmd(DMA1_Channel2, DISABLE);
 272              		.loc 1 73 1 is_stmt 0 view .LVU74
 273 0000 10B5     		push	{r4, lr}
 274              	.LCFI9:
 275              		.cfi_def_cfa_offset 8
 276              		.cfi_offset 4, -8
 277              		.cfi_offset 14, -4
  73:../application/Src/mcp320x.c **** 	DMA_Cmd(DMA1_Channel2, DISABLE);
 278              		.loc 1 73 1 view .LVU75
 279 0002 0446     		mov	r4, r0
 280              		.loc 1 74 2 view .LVU76
 281 0004 0021     		movs	r1, #0
 282 0006 0948     		ldr	r0, .L20
 283              	.LVL18:
 284              		.loc 1 74 2 view .LVU77
 285 0008 FFF7FEFF 		bl	DMA_Cmd
 286              	.LVL19:
  75:../application/Src/mcp320x.c **** 	// CS high
  76:../application/Src/mcp320x.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 287              		.loc 1 76 2 is_stmt 1 view .LVU78
  77:../application/Src/mcp320x.c **** 	sensor->rx_complete = 1;
 288              		.loc 1 77 22 is_stmt 0 view .LVU79
ARM GAS  /tmp/ccAkYILZ.s 			page 8


 289 000c 40F20110 		movw	r0, #257
  76:../application/Src/mcp320x.c **** 	sensor->rx_complete = 1;
 290              		.loc 1 76 19 view .LVU80
 291 0010 94F90B10 		ldrsb	r1, [r4, #11]
  76:../application/Src/mcp320x.c **** 	sensor->rx_complete = 1;
 292              		.loc 1 76 28 view .LVU81
 293 0014 064B     		ldr	r3, .L20+4
 294 0016 53F83120 		ldr	r2, [r3, r1, lsl #3]
  76:../application/Src/mcp320x.c **** 	sensor->rx_complete = 1;
 295              		.loc 1 76 68 view .LVU82
 296 001a 03EBC103 		add	r3, r3, r1, lsl #3
 297 001e 9B88     		ldrh	r3, [r3, #4]
  76:../application/Src/mcp320x.c **** 	sensor->rx_complete = 1;
 298              		.loc 1 76 39 view .LVU83
 299 0020 D168     		ldr	r1, [r2, #12]
 300 0022 0B43     		orrs	r3, r3, r1
 301 0024 D360     		str	r3, [r2, #12]
 302              		.loc 1 77 2 is_stmt 1 view .LVU84
  78:../application/Src/mcp320x.c **** 	sensor->tx_complete = 1;
 303              		.loc 1 78 2 view .LVU85
  77:../application/Src/mcp320x.c **** 	sensor->rx_complete = 1;
 304              		.loc 1 77 22 is_stmt 0 view .LVU86
 305 0026 2081     		strh	r0, [r4, #8]	@ movhi
  79:../application/Src/mcp320x.c **** }
 306              		.loc 1 79 1 view .LVU87
 307 0028 10BD     		pop	{r4, pc}
 308              	.LVL20:
 309              	.L21:
 310              		.loc 1 79 1 view .LVU88
 311 002a 00BF     		.align	2
 312              	.L20:
 313 002c 1C000240 		.word	1073872924
 314 0030 00000000 		.word	pin_config
 315              		.cfi_endproc
 316              	.LFE31:
 318              		.text
 319              	.Letext0:
 320              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 321              		.file 3 "../application/Inc/common_types.h"
 322              		.file 4 "../Drivers/CMSIS/CM3/CoreSupport/core_cm3.h"
 323              		.file 5 "../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.h"
 324              		.file 6 "../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/stm32f10x.h"
 325              		.file 7 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 326              		.file 8 "/usr/include/newlib/sys/_types.h"
 327              		.file 9 "/usr/include/newlib/sys/reent.h"
 328              		.file 10 "/usr/include/newlib/sys/lock.h"
 329              		.file 11 "../application/Inc/periphery.h"
 330              		.file 12 "../Drivers/STM32F10x_StdPeriph_Driver/inc/stm32f10x_dma.h"
 331              		.file 13 "../application/Inc/spi.h"
ARM GAS  /tmp/ccAkYILZ.s 			page 9


DEFINED SYMBOLS
                            *ABS*:0000000000000000 mcp320x.c
     /tmp/ccAkYILZ.s:16     .text.MCP320x_GetData:0000000000000000 $t
     /tmp/ccAkYILZ.s:25     .text.MCP320x_GetData:0000000000000000 MCP320x_GetData
     /tmp/ccAkYILZ.s:81     .text.MCP320x_StartDMA:0000000000000000 $t
     /tmp/ccAkYILZ.s:89     .text.MCP320x_StartDMA:0000000000000000 MCP320x_StartDMA
     /tmp/ccAkYILZ.s:251    .text.MCP320x_StartDMA:000000000000009c $d
     /tmp/ccAkYILZ.s:256    .text.MCP320x_StopDMA:0000000000000000 $t
     /tmp/ccAkYILZ.s:264    .text.MCP320x_StopDMA:0000000000000000 MCP320x_StopDMA
     /tmp/ccAkYILZ.s:313    .text.MCP320x_StopDMA:000000000000002c $d

UNDEFINED SYMBOLS
SPI_FullDuplex_TransmitReceive
pin_config
DMA_Cmd
