ARM GAS  /tmp/ccZIeaUh.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 2
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"stm32f10x_spi.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.SPI_I2S_DeInit,"ax",%progbits
  16              		.align	1
  17              		.p2align 2,,3
  18              		.global	SPI_I2S_DeInit
  19              		.arch armv7-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu softvfp
  25              	SPI_I2S_DeInit:
  26              	.LVL0:
  27              	.LFB29:
  28              		.file 1 "../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c"
   1:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
   2:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   ******************************************************************************
   3:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @file    stm32f10x_spi.c
   4:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @author  MCD Application Team
   5:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @version V3.5.0
   6:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @date    11-March-2011
   7:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief   This file provides all the SPI firmware functions.
   8:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   ******************************************************************************
   9:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @attention
  10:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *
  11:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  12:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  13:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
  14:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  15:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  16:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  17:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *
  18:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * <h2><center>&copy; COPYRIGHT 2011 STMicroelectronics</center></h2>
  19:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   ******************************************************************************
  20:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  21:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  22:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* Includes ------------------------------------------------------------------*/
  23:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #include "stm32f10x_spi.h"
  24:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #include "stm32f10x_rcc.h"
  25:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  26:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @addtogroup STM32F10x_StdPeriph_Driver
  27:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
  28:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  29:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  30:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI 
ARM GAS  /tmp/ccZIeaUh.s 			page 2


  31:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief SPI driver modules
  32:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
  33:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */ 
  34:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  35:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI_Private_TypesDefinitions
  36:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
  37:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  38:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  39:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
  40:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @}
  41:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */ 
  42:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  43:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  44:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI_Private_Defines
  45:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
  46:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  47:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  48:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* SPI SPE mask */
  49:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR1_SPE_Set          ((uint16_t)0x0040)
  50:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR1_SPE_Reset        ((uint16_t)0xFFBF)
  51:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  52:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* I2S I2SE mask */
  53:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2SCFGR_I2SE_Set     ((uint16_t)0x0400)
  54:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2SCFGR_I2SE_Reset   ((uint16_t)0xFBFF)
  55:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  56:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* SPI CRCNext mask */
  57:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR1_CRCNext_Set      ((uint16_t)0x1000)
  58:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  59:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* SPI CRCEN mask */
  60:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR1_CRCEN_Set        ((uint16_t)0x2000)
  61:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR1_CRCEN_Reset      ((uint16_t)0xDFFF)
  62:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  63:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* SPI SSOE mask */
  64:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR2_SSOE_Set         ((uint16_t)0x0004)
  65:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR2_SSOE_Reset       ((uint16_t)0xFFFB)
  66:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  67:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* SPI registers Masks */
  68:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR1_CLEAR_Mask       ((uint16_t)0x3040)
  69:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2SCFGR_CLEAR_Mask   ((uint16_t)0xF040)
  70:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  71:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* SPI or I2S mode selection masks */
  72:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define SPI_Mode_Select      ((uint16_t)0xF7FF)
  73:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2S_Mode_Select      ((uint16_t)0x0800) 
  74:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  75:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* I2S clock source selection masks */
  76:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2S2_CLOCK_SRC       ((uint32_t)(0x00020000))
  77:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2S3_CLOCK_SRC       ((uint32_t)(0x00040000))
  78:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2S_MUL_MASK         ((uint32_t)(0x0000F000))
  79:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2S_DIV_MASK         ((uint32_t)(0x000000F0))
  80:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  81:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
  82:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @}
  83:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  84:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  85:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI_Private_Macros
  86:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
  87:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
ARM GAS  /tmp/ccZIeaUh.s 			page 3


  88:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  89:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
  90:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @}
  91:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  92:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  93:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI_Private_Variables
  94:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
  95:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  96:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  97:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
  98:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @}
  99:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 100:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 101:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI_Private_FunctionPrototypes
 102:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
 103:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 104:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 105:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 106:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @}
 107:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 108:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 109:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI_Private_Functions
 110:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
 111:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 112:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 113:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 114:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Deinitializes the SPIx peripheral registers to their default
 115:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         reset values (Affects also the I2Ss).
 116:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 117:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 118:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 119:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_I2S_DeInit(SPI_TypeDef* SPIx)
 120:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
  29              		.loc 1 120 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
 121:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 122:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
  33              		.loc 1 122 3 view .LVU1
 123:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 124:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (SPIx == SPI1)
  34              		.loc 1 124 3 view .LVU2
 120:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
  35              		.loc 1 120 1 is_stmt 0 view .LVU3
  36 0000 08B5     		push	{r3, lr}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 8
  39              		.cfi_offset 3, -8
  40              		.cfi_offset 14, -4
  41              		.loc 1 124 6 view .LVU4
  42 0002 174B     		ldr	r3, .L10
  43 0004 9842     		cmp	r0, r3
  44 0006 06D0     		beq	.L7
 125:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 126:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable SPI1 reset state */
 127:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI1, ENABLE);
ARM GAS  /tmp/ccZIeaUh.s 			page 4


 128:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Release SPI1 from reset state */
 129:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI1, DISABLE);
 130:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 131:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else if (SPIx == SPI2)
  45              		.loc 1 131 8 is_stmt 1 view .LVU5
  46              		.loc 1 131 11 is_stmt 0 view .LVU6
  47 0008 164B     		ldr	r3, .L10+4
  48 000a 9842     		cmp	r0, r3
  49 000c 0FD0     		beq	.L8
 132:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 133:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable SPI2 reset state */
 134:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI2, ENABLE);
 135:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Release SPI2 from reset state */
 136:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI2, DISABLE);
 137:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 138:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 139:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 140:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     if (SPIx == SPI3)
  50              		.loc 1 140 5 is_stmt 1 view .LVU7
  51              		.loc 1 140 8 is_stmt 0 view .LVU8
  52 000e 164B     		ldr	r3, .L10+8
  53 0010 9842     		cmp	r0, r3
  54 0012 18D0     		beq	.L9
 141:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 142:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Enable SPI3 reset state */
 143:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, ENABLE);
 144:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Release SPI3 from reset state */
 145:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, DISABLE);
 146:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 147:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 148:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
  55              		.loc 1 148 1 view .LVU9
  56 0014 08BD     		pop	{r3, pc}
  57              	.L7:
 127:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Release SPI1 from reset state */
  58              		.loc 1 127 5 is_stmt 1 view .LVU10
  59 0016 0121     		movs	r1, #1
  60 0018 4FF48050 		mov	r0, #4096
  61              	.LVL1:
 127:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Release SPI1 from reset state */
  62              		.loc 1 127 5 is_stmt 0 view .LVU11
  63 001c FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
  64              	.LVL2:
 129:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
  65              		.loc 1 129 5 is_stmt 1 view .LVU12
  66              		.loc 1 148 1 is_stmt 0 view .LVU13
  67 0020 BDE80840 		pop	{r3, lr}
  68              	.LCFI1:
  69              		.cfi_remember_state
  70              		.cfi_restore 14
  71              		.cfi_restore 3
  72              		.cfi_def_cfa_offset 0
 129:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
  73              		.loc 1 129 5 view .LVU14
  74 0024 0021     		movs	r1, #0
  75 0026 4FF48050 		mov	r0, #4096
  76 002a FFF7FEBF 		b	RCC_APB2PeriphResetCmd
ARM GAS  /tmp/ccZIeaUh.s 			page 5


  77              	.LVL3:
  78              	.L8:
  79              	.LCFI2:
  80              		.cfi_restore_state
 134:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Release SPI2 from reset state */
  81              		.loc 1 134 5 is_stmt 1 view .LVU15
  82 002e 0121     		movs	r1, #1
  83 0030 4FF48040 		mov	r0, #16384
  84              	.LVL4:
 134:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Release SPI2 from reset state */
  85              		.loc 1 134 5 is_stmt 0 view .LVU16
  86 0034 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  87              	.LVL5:
 136:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
  88              		.loc 1 136 5 is_stmt 1 view .LVU17
  89              		.loc 1 148 1 is_stmt 0 view .LVU18
  90 0038 BDE80840 		pop	{r3, lr}
  91              	.LCFI3:
  92              		.cfi_remember_state
  93              		.cfi_restore 14
  94              		.cfi_restore 3
  95              		.cfi_def_cfa_offset 0
 136:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
  96              		.loc 1 136 5 view .LVU19
  97 003c 0021     		movs	r1, #0
  98 003e 4FF48040 		mov	r0, #16384
  99 0042 FFF7FEBF 		b	RCC_APB1PeriphResetCmd
 100              	.LVL6:
 101              	.L9:
 102              	.LCFI4:
 103              		.cfi_restore_state
 143:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Release SPI3 from reset state */
 104              		.loc 1 143 7 is_stmt 1 view .LVU20
 105 0046 0121     		movs	r1, #1
 106 0048 4FF40040 		mov	r0, #32768
 107              	.LVL7:
 143:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Release SPI3 from reset state */
 108              		.loc 1 143 7 is_stmt 0 view .LVU21
 109 004c FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 110              	.LVL8:
 145:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 111              		.loc 1 145 7 is_stmt 1 view .LVU22
 112              		.loc 1 148 1 is_stmt 0 view .LVU23
 113 0050 BDE80840 		pop	{r3, lr}
 114              	.LCFI5:
 115              		.cfi_restore 14
 116              		.cfi_restore 3
 117              		.cfi_def_cfa_offset 0
 145:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 118              		.loc 1 145 7 view .LVU24
 119 0054 0021     		movs	r1, #0
 120 0056 4FF40040 		mov	r0, #32768
 121 005a FFF7FEBF 		b	RCC_APB1PeriphResetCmd
 122              	.LVL9:
 123              	.L11:
 124 005e 00BF     		.align	2
 125              	.L10:
ARM GAS  /tmp/ccZIeaUh.s 			page 6


 126 0060 00300140 		.word	1073819648
 127 0064 00380040 		.word	1073756160
 128 0068 003C0040 		.word	1073757184
 129              		.cfi_endproc
 130              	.LFE29:
 132              		.section	.text.SPI_Init,"ax",%progbits
 133              		.align	1
 134              		.p2align 2,,3
 135              		.global	SPI_Init
 136              		.syntax unified
 137              		.thumb
 138              		.thumb_func
 139              		.fpu softvfp
 141              	SPI_Init:
 142              	.LVL10:
 143              	.LFB30:
 149:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 150:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 151:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Initializes the SPIx peripheral according to the specified 
 152:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         parameters in the SPI_InitStruct.
 153:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 154:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_InitStruct: pointer to a SPI_InitTypeDef structure that
 155:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         contains the configuration information for the specified SPI peripheral.
 156:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 157:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 158:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_Init(SPI_TypeDef* SPIx, SPI_InitTypeDef* SPI_InitStruct)
 159:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 144              		.loc 1 159 1 is_stmt 1 view -0
 145              		.cfi_startproc
 146              		@ args = 0, pretend = 0, frame = 0
 147              		@ frame_needed = 0, uses_anonymous_args = 0
 148              		@ link register save eliminated.
 160:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t tmpreg = 0;
 149              		.loc 1 160 3 view .LVU26
 161:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 162:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* check the parameters */
 163:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));   
 150              		.loc 1 163 3 view .LVU27
 164:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 165:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the SPI parameters */
 166:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_DIRECTION_MODE(SPI_InitStruct->SPI_Direction));
 151              		.loc 1 166 3 view .LVU28
 167:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_MODE(SPI_InitStruct->SPI_Mode));
 152              		.loc 1 167 3 view .LVU29
 168:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_DATASIZE(SPI_InitStruct->SPI_DataSize));
 153              		.loc 1 168 3 view .LVU30
 169:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_CPOL(SPI_InitStruct->SPI_CPOL));
 154              		.loc 1 169 3 view .LVU31
 170:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_CPHA(SPI_InitStruct->SPI_CPHA));
 155              		.loc 1 170 3 view .LVU32
 171:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_NSS(SPI_InitStruct->SPI_NSS));
 156              		.loc 1 171 3 view .LVU33
 172:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(SPI_InitStruct->SPI_BaudRatePrescaler));
 157              		.loc 1 172 3 view .LVU34
 173:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_FIRST_BIT(SPI_InitStruct->SPI_FirstBit));
 158              		.loc 1 173 3 view .LVU35
 174:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_CRC_POLYNOMIAL(SPI_InitStruct->SPI_CRCPolynomial));
ARM GAS  /tmp/ccZIeaUh.s 			page 7


 159              		.loc 1 174 3 view .LVU36
 175:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 176:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /*---------------------------- SPIx CR1 Configuration ------------------------*/
 177:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the SPIx CR1 value */
 178:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   tmpreg = SPIx->CR1;
 160              		.loc 1 178 3 view .LVU37
 179:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Clear BIDIMode, BIDIOE, RxONLY, SSM, SSI, LSBFirst, BR, MSTR, CPOL and CPHA bits */
 180:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   tmpreg &= CR1_CLEAR_Mask;
 181:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Configure SPIx: direction, NSS management, first transmitted bit, BaudRate prescaler
 182:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****      master/salve mode, CPOL and CPHA */
 183:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set BIDImode, BIDIOE and RxONLY bits according to SPI_Direction value */
 184:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set SSM, SSI and MSTR bits according to SPI_Mode and SPI_NSS values */
 185:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set LSBFirst bit according to SPI_FirstBit value */
 186:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set BR bits according to SPI_BaudRatePrescaler value */
 187:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set CPOL bit according to SPI_CPOL value */
 188:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set CPHA bit according to SPI_CPHA value */
 189:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   tmpreg |= (uint16_t)((uint32_t)SPI_InitStruct->SPI_Direction | SPI_InitStruct->SPI_Mode |
 161              		.loc 1 189 13 is_stmt 0 view .LVU38
 162 0000 4A88     		ldrh	r2, [r1, #2]
 163 0002 0B88     		ldrh	r3, [r1]
 159:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t tmpreg = 0;
 164              		.loc 1 159 1 view .LVU39
 165 0004 30B4     		push	{r4, r5}
 166              	.LCFI6:
 167              		.cfi_def_cfa_offset 8
 168              		.cfi_offset 4, -8
 169              		.cfi_offset 5, -4
 170              		.loc 1 189 13 view .LVU40
 171 0006 8C88     		ldrh	r4, [r1, #4]
 172 0008 1343     		orrs	r3, r3, r2
 173 000a CA88     		ldrh	r2, [r1, #6]
 174 000c 2343     		orrs	r3, r3, r4
 175 000e 0C89     		ldrh	r4, [r1, #8]
 176 0010 1343     		orrs	r3, r3, r2
 177 0012 4A89     		ldrh	r2, [r1, #10]
 178 0014 8D89     		ldrh	r5, [r1, #12]
 179 0016 2343     		orrs	r3, r3, r4
 180 0018 1343     		orrs	r3, r3, r2
 181 001a CC89     		ldrh	r4, [r1, #14]
 178:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Clear BIDIMode, BIDIOE, RxONLY, SSM, SSI, LSBFirst, BR, MSTR, CPOL and CPHA bits */
 182              		.loc 1 178 10 view .LVU41
 183 001c 0288     		ldrh	r2, [r0]
 184              	.LVL11:
 180:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Configure SPIx: direction, NSS management, first transmitted bit, BaudRate prescaler
 185              		.loc 1 180 3 is_stmt 1 view .LVU42
 186              		.loc 1 189 13 is_stmt 0 view .LVU43
 187 001e 2B43     		orrs	r3, r3, r5
 188 0020 2343     		orrs	r3, r3, r4
 180:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Configure SPIx: direction, NSS management, first transmitted bit, BaudRate prescaler
 189              		.loc 1 180 10 view .LVU44
 190 0022 02F44152 		and	r2, r2, #12352
 191              	.LVL12:
 192              		.loc 1 189 3 is_stmt 1 view .LVU45
 193              		.loc 1 189 10 is_stmt 0 view .LVU46
 194 0026 1343     		orrs	r3, r3, r2
 195 0028 9BB2     		uxth	r3, r3
 196              	.LVL13:
ARM GAS  /tmp/ccZIeaUh.s 			page 8


 190:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   SPI_InitStruct->SPI_DataSize | SPI_InitStruct->SPI_CPOL |  
 191:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   SPI_InitStruct->SPI_CPHA | SPI_InitStruct->SPI_NSS |  
 192:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   SPI_InitStruct->SPI_BaudRatePrescaler | SPI_InitStruct->SPI_FirstBit);
 193:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Write to SPIx CR1 */
 194:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->CR1 = tmpreg;
 197              		.loc 1 194 3 is_stmt 1 view .LVU47
 198              		.loc 1 194 13 is_stmt 0 view .LVU48
 199 002a 0380     		strh	r3, [r0]	@ movhi
 195:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 196:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Activate the SPI mode (Reset I2SMOD bit in I2SCFGR register) */
 197:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->I2SCFGR &= SPI_Mode_Select;		
 200              		.loc 1 197 3 is_stmt 1 view .LVU49
 201              		.loc 1 197 17 is_stmt 0 view .LVU50
 202 002c 838B     		ldrh	r3, [r0, #28]
 203              	.LVL14:
 198:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 199:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /*---------------------------- SPIx CRCPOLY Configuration --------------------*/
 200:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Write to SPIx CRCPOLY */
 201:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->CRCPR = SPI_InitStruct->SPI_CRCPolynomial;
 204              		.loc 1 201 31 view .LVU51
 205 002e 0A8A     		ldrh	r2, [r1, #16]
 197:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 206              		.loc 1 197 17 view .LVU52
 207 0030 23F40063 		bic	r3, r3, #2048
 208 0034 1B04     		lsls	r3, r3, #16
 209 0036 1B0C     		lsrs	r3, r3, #16
 210 0038 8383     		strh	r3, [r0, #28]	@ movhi
 211              	.LVL15:
 212              		.loc 1 201 3 is_stmt 1 view .LVU53
 202:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 213              		.loc 1 202 1 is_stmt 0 view .LVU54
 214 003a 30BC     		pop	{r4, r5}
 215              	.LCFI7:
 216              		.cfi_restore 5
 217              		.cfi_restore 4
 218              		.cfi_def_cfa_offset 0
 201:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 219              		.loc 1 201 15 view .LVU55
 220 003c 0282     		strh	r2, [r0, #16]	@ movhi
 221              		.loc 1 202 1 view .LVU56
 222 003e 7047     		bx	lr
 223              		.cfi_endproc
 224              	.LFE30:
 226              		.section	.text.I2S_Init,"ax",%progbits
 227              		.align	1
 228              		.p2align 2,,3
 229              		.global	I2S_Init
 230              		.syntax unified
 231              		.thumb
 232              		.thumb_func
 233              		.fpu softvfp
 235              	I2S_Init:
 236              	.LVL16:
 237              	.LFB31:
 203:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 204:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 205:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Initializes the SPIx peripheral according to the specified 
ARM GAS  /tmp/ccZIeaUh.s 			page 9


 206:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         parameters in the I2S_InitStruct.
 207:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be  2 or 3 to select the SPI peripheral
 208:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         (configured in I2S mode).
 209:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  I2S_InitStruct: pointer to an I2S_InitTypeDef structure that
 210:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         contains the configuration information for the specified SPI peripheral
 211:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         configured in I2S mode.
 212:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @note
 213:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *  The function calculates the optimal prescaler needed to obtain the most 
 214:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *  accurate audio frequency (depending on the I2S clock source, the PLL values 
 215:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *  and the product configuration). But in case the prescaler value is greater 
 216:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *  than 511, the default value (0x02) will be configured instead.  *   
 217:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 218:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 219:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void I2S_Init(SPI_TypeDef* SPIx, I2S_InitTypeDef* I2S_InitStruct)
 220:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 238              		.loc 1 220 1 is_stmt 1 view -0
 239              		.cfi_startproc
 240              		@ args = 0, pretend = 0, frame = 24
 241              		@ frame_needed = 0, uses_anonymous_args = 0
 221:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t tmpreg = 0, i2sdiv = 2, i2sodd = 0, packetlength = 1;
 242              		.loc 1 221 3 view .LVU58
 222:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint32_t tmp = 0;
 243              		.loc 1 222 3 view .LVU59
 223:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   RCC_ClocksTypeDef RCC_Clocks;
 244              		.loc 1 223 3 view .LVU60
 224:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint32_t sourceclock = 0;
 245              		.loc 1 224 3 view .LVU61
 225:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 226:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the I2S parameters */
 227:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_23_PERIPH(SPIx));
 246              		.loc 1 227 3 view .LVU62
 228:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_I2S_MODE(I2S_InitStruct->I2S_Mode));
 247              		.loc 1 228 3 view .LVU63
 229:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_I2S_STANDARD(I2S_InitStruct->I2S_Standard));
 248              		.loc 1 229 3 view .LVU64
 230:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_I2S_DATA_FORMAT(I2S_InitStruct->I2S_DataFormat));
 249              		.loc 1 230 3 view .LVU65
 231:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_I2S_MCLK_OUTPUT(I2S_InitStruct->I2S_MCLKOutput));
 250              		.loc 1 231 3 view .LVU66
 232:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_I2S_AUDIO_FREQ(I2S_InitStruct->I2S_AudioFreq));
 251              		.loc 1 232 3 view .LVU67
 233:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_I2S_CPOL(I2S_InitStruct->I2S_CPOL));  
 252              		.loc 1 233 3 view .LVU68
 234:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 235:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /*----------------------- SPIx I2SCFGR & I2SPR Configuration -----------------*/
 236:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Clear I2SMOD, I2SE, I2SCFG, PCMSYNC, I2SSTD, CKPOL, DATLEN and CHLEN bits */
 237:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->I2SCFGR &= I2SCFGR_CLEAR_Mask; 
 253              		.loc 1 237 3 view .LVU69
 220:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t tmpreg = 0, i2sdiv = 2, i2sodd = 0, packetlength = 1;
 254              		.loc 1 220 1 is_stmt 0 view .LVU70
 255 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 256              	.LCFI8:
 257              		.cfi_def_cfa_offset 20
 258              		.cfi_offset 4, -20
 259              		.cfi_offset 5, -16
 260              		.cfi_offset 6, -12
 261              		.cfi_offset 7, -8
ARM GAS  /tmp/ccZIeaUh.s 			page 10


 262              		.cfi_offset 14, -4
 263 0002 0646     		mov	r6, r0
 238:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->I2SPR = 0x0002;
 264              		.loc 1 238 15 view .LVU71
 265 0004 0220     		movs	r0, #2
 266              	.LVL17:
 237:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->I2SPR = 0x0002;
 267              		.loc 1 237 17 view .LVU72
 268 0006 B28B     		ldrh	r2, [r6, #28]
 239:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 240:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the I2SCFGR register value */
 241:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   tmpreg = SPIx->I2SCFGR;
 242:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 243:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* If the default value has to be written, reinitialize i2sdiv and i2sodd*/
 244:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if(I2S_InitStruct->I2S_AudioFreq == I2S_AudioFreq_Default)
 269              		.loc 1 244 5 view .LVU73
 270 0008 8B68     		ldr	r3, [r1, #8]
 237:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->I2SPR = 0x0002;
 271              		.loc 1 237 17 view .LVU74
 272 000a 22F47B62 		bic	r2, r2, #4016
 273 000e 22F00F02 		bic	r2, r2, #15
 274 0012 1204     		lsls	r2, r2, #16
 275 0014 120C     		lsrs	r2, r2, #16
 276 0016 B283     		strh	r2, [r6, #28]	@ movhi
 238:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 277              		.loc 1 238 3 is_stmt 1 view .LVU75
 238:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 278              		.loc 1 238 15 is_stmt 0 view .LVU76
 279 0018 3084     		strh	r0, [r6, #32]	@ movhi
 241:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 280              		.loc 1 241 3 is_stmt 1 view .LVU77
 241:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 281              		.loc 1 241 10 is_stmt 0 view .LVU78
 282 001a B48B     		ldrh	r4, [r6, #28]
 283              		.loc 1 244 5 view .LVU79
 284 001c 8342     		cmp	r3, r0
 220:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t tmpreg = 0, i2sdiv = 2, i2sodd = 0, packetlength = 1;
 285              		.loc 1 220 1 view .LVU80
 286 001e 0D46     		mov	r5, r1
 287 0020 87B0     		sub	sp, sp, #28
 288              	.LCFI9:
 289              		.cfi_def_cfa_offset 48
 241:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 290              		.loc 1 241 10 view .LVU81
 291 0022 A4B2     		uxth	r4, r4
 292              	.LVL18:
 293              		.loc 1 244 3 is_stmt 1 view .LVU82
 294              		.loc 1 244 5 is_stmt 0 view .LVU83
 295 0024 3CD0     		beq	.L23
 245:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 246:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sodd = (uint16_t)0;
 247:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sdiv = (uint16_t)2;   
 248:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 249:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* If the requested audio frequency is not the default, compute the prescaler */
 250:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 251:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 252:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Check the frame length (For the Prescaler computing) */
ARM GAS  /tmp/ccZIeaUh.s 			page 11


 253:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     if(I2S_InitStruct->I2S_DataFormat == I2S_DataFormat_16b)
 296              		.loc 1 253 5 is_stmt 1 view .LVU84
 297              		.loc 1 253 7 is_stmt 0 view .LVU85
 298 0026 8B88     		ldrh	r3, [r1, #4]
 254:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 255:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Packet length is 16 bits */
 256:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       packetlength = 1;
 257:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 258:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     else
 259:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 260:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Packet length is 32 bits */
 261:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       packetlength = 2;
 262:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 263:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 264:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Get the I2S clock source mask depending on the peripheral number */
 265:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     if(((uint32_t)SPIx) == SPI2_BASE)
 266:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 267:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* The mask is relative to I2S2 */
 268:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       tmp = I2S2_CLOCK_SRC;
 269:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 270:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     else 
 271:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 272:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* The mask is relative to I2S3 */      
 273:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       tmp = I2S3_CLOCK_SRC;
 274:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 275:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 276:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Check the I2S clock source configuration depending on the Device:
 277:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****        Only Connectivity line devices have the PLL3 VCO clock */
 278:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #ifdef STM32F10X_CL
 279:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     if((RCC->CFGR2 & tmp) != 0)
 280:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 281:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Get the configuration bits of RCC PLL3 multiplier */
 282:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       tmp = (uint32_t)((RCC->CFGR2 & I2S_MUL_MASK) >> 12);
 283:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 284:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Get the value of the PLL3 multiplier */      
 285:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       if((tmp > 5) && (tmp < 15))
 286:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       {
 287:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****         /* Multiplier is between 8 and 14 (value 15 is forbidden) */
 288:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****         tmp += 2;
 289:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       }
 290:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       else
 291:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       {
 292:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****         if (tmp == 15)
 293:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****         {
 294:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****           /* Multiplier is 20 */
 295:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****           tmp = 20;
 296:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****         }
 297:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       }      
 298:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Get the PREDIV2 value */
 299:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       sourceclock = (uint32_t)(((RCC->CFGR2 & I2S_DIV_MASK) >> 4) + 1);
 300:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       
 301:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Calculate the Source Clock frequency based on PLL3 and PREDIV2 values */
 302:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       sourceclock = (uint32_t) ((HSE_Value / sourceclock) * tmp * 2); 
 303:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 304:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     else
 305:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 306:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* I2S Clock source is System clock: Get System Clock frequency */
ARM GAS  /tmp/ccZIeaUh.s 			page 12


 307:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       RCC_GetClocksFreq(&RCC_Clocks);      
 308:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       
 309:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Get the source clock value: based on System Clock value */
 310:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       sourceclock = RCC_Clocks.SYSCLK_Frequency;
 311:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }        
 312:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #else /* STM32F10X_HD */
 313:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* I2S Clock source is System clock: Get System Clock frequency */
 314:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     RCC_GetClocksFreq(&RCC_Clocks);      
 299              		.loc 1 314 5 view .LVU86
 300 0028 01A8     		add	r0, sp, #4
 253:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 301              		.loc 1 253 7 view .LVU87
 302 002a 002B     		cmp	r3, #0
 303 002c 0CBF     		ite	eq
 304 002e 2027     		moveq	r7, #32
 305 0030 4027     		movne	r7, #64
 306              	.LVL19:
 265:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 307              		.loc 1 265 5 is_stmt 1 view .LVU88
 308              		.loc 1 314 5 view .LVU89
 309 0032 FFF7FEFF 		bl	RCC_GetClocksFreq
 310              	.LVL20:
 315:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       
 316:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Get the source clock value: based on System Clock value */
 317:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     sourceclock = RCC_Clocks.SYSCLK_Frequency;    
 311              		.loc 1 317 5 view .LVU90
 318:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #endif /* STM32F10X_CL */    
 319:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 320:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Compute the Real divider depending on the MCLK output state with a floating point */
 321:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     if(I2S_InitStruct->I2S_MCLKOutput == I2S_MCLKOutput_Enable)
 312              		.loc 1 321 22 is_stmt 0 view .LVU91
 313 0036 E988     		ldrh	r1, [r5, #6]
 317:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #endif /* STM32F10X_CL */    
 314              		.loc 1 317 17 view .LVU92
 315 0038 019A     		ldr	r2, [sp, #4]
 316              	.LVL21:
 317              		.loc 1 321 5 is_stmt 1 view .LVU93
 318              		.loc 1 321 7 is_stmt 0 view .LVU94
 319 003a B1F5007F 		cmp	r1, #512
 320 003e 25D0     		beq	.L24
 322:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 323:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* MCLK output is enabled */
 324:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       tmp = (uint16_t)(((((sourceclock / 256) * 10) / I2S_InitStruct->I2S_AudioFreq)) + 5);
 325:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 326:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     else
 327:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 328:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* MCLK output is disabled */
 329:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       tmp = (uint16_t)(((((sourceclock / (32 * packetlength)) *10 ) / I2S_InitStruct->I2S_AudioFreq
 321              		.loc 1 329 7 is_stmt 1 view .LVU95
 322              		.loc 1 329 40 is_stmt 0 view .LVU96
 323 0040 B2FBF7F2 		udiv	r2, r2, r7
 324              	.LVL22:
 325              		.loc 1 329 69 view .LVU97
 326 0044 A868     		ldr	r0, [r5, #8]
 327              		.loc 1 329 63 view .LVU98
 328 0046 02EB8202 		add	r2, r2, r2, lsl #2
 329 004a 5300     		lsls	r3, r2, #1
ARM GAS  /tmp/ccZIeaUh.s 			page 13


 330              		.loc 1 329 69 view .LVU99
 331 004c B3FBF0F3 		udiv	r3, r3, r0
 332              		.loc 1 329 13 view .LVU100
 333 0050 0533     		adds	r3, r3, #5
 334              		.loc 1 329 11 view .LVU101
 335 0052 9BB2     		uxth	r3, r3
 336              	.LVL23:
 337              	.L19:
 330:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 331:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     
 332:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Remove the floating point */
 333:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     tmp = tmp / 10;  
 338              		.loc 1 333 5 is_stmt 1 view .LVU102
 339              		.loc 1 333 9 is_stmt 0 view .LVU103
 340 0054 134A     		ldr	r2, .L25
 341 0056 A2FB0323 		umull	r2, r3, r2, r3
 342              	.LVL24:
 334:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       
 335:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Check the parity of the divider */
 336:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sodd = (uint16_t)(tmp & (uint16_t)0x0001);
 343              		.loc 1 336 5 is_stmt 1 view .LVU104
 337:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****    
 338:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Compute the i2sdiv prescaler */
 339:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sdiv = (uint16_t)((tmp - i2sodd) / 2);
 344              		.loc 1 339 5 view .LVU105
 345              		.loc 1 339 12 is_stmt 0 view .LVU106
 346 005a 1A09     		lsrs	r2, r3, #4
 347              	.LVL25:
 340:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****    
 341:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Get the Mask for the Odd bit (SPI_I2SPR[8]) register */
 342:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sodd = (uint16_t) (i2sodd << 8);
 348              		.loc 1 342 5 is_stmt 1 view .LVU107
 343:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 344:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 345:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Test if the divider is 1 or 0 or greater than 0xFF */
 346:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if ((i2sdiv < 2) || (i2sdiv > 0xFF))
 349              		.loc 1 346 6 is_stmt 0 view .LVU108
 350 005c 901E     		subs	r0, r2, #2
 351 005e FD28     		cmp	r0, #253
 339:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****    
 352              		.loc 1 339 30 view .LVU109
 353 0060 C3F3C003 		ubfx	r3, r3, #3, #1
 354              	.LVL26:
 355              		.loc 1 346 3 is_stmt 1 view .LVU110
 356 0064 8CBF     		ite	hi
 357 0066 0223     		movhi	r3, #2
 358              	.LVL27:
 359              		.loc 1 346 3 is_stmt 0 view .LVU111
 360 0068 42EA0323 		orrls	r3, r2, r3, lsl #8
 361              	.LVL28:
 362              	.L16:
 347:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 348:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Set the default values */
 349:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sdiv = 2;
 350:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sodd = 0;
 351:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 352:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
ARM GAS  /tmp/ccZIeaUh.s 			page 14


 353:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Write to SPIx I2SPR register the computed value */
 354:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->I2SPR = (uint16_t)(i2sdiv | (uint16_t)(i2sodd | (uint16_t)I2S_InitStruct->I2S_MCLKOutput));
 363              		.loc 1 354 3 is_stmt 1 view .LVU112
 355:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****  
 356:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Configure the I2S with the SPI_InitStruct values */
 357:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   tmpreg |= (uint16_t)(I2S_Mode_Select | (uint16_t)(I2S_InitStruct->I2S_Mode | \
 364              		.loc 1 357 10 is_stmt 0 view .LVU113
 365 006c 6888     		ldrh	r0, [r5, #2]
 366 006e 2A88     		ldrh	r2, [r5]
 354:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****  
 367              		.loc 1 354 17 view .LVU114
 368 0070 0B43     		orrs	r3, r3, r1
 369              		.loc 1 357 10 view .LVU115
 370 0072 0243     		orrs	r2, r2, r0
 371 0074 A888     		ldrh	r0, [r5, #4]
 372 0076 A989     		ldrh	r1, [r5, #12]
 373 0078 2243     		orrs	r2, r2, r4
 374 007a 0243     		orrs	r2, r2, r0
 375 007c 0A43     		orrs	r2, r2, r1
 376 007e 92B2     		uxth	r2, r2
 377 0080 42F40062 		orr	r2, r2, #2048
 354:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****  
 378              		.loc 1 354 15 view .LVU116
 379 0084 3384     		strh	r3, [r6, #32]	@ movhi
 380              		.loc 1 357 3 is_stmt 1 view .LVU117
 381              	.LVL29:
 358:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 359:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   (uint16_t)I2S_InitStruct->I2S_CPOL))));
 360:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****  
 361:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Write to SPIx I2SCFGR */  
 362:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->I2SCFGR = tmpreg;   
 382              		.loc 1 362 3 view .LVU118
 383              		.loc 1 362 17 is_stmt 0 view .LVU119
 384 0086 B283     		strh	r2, [r6, #28]	@ movhi
 363:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 385              		.loc 1 363 1 view .LVU120
 386 0088 07B0     		add	sp, sp, #28
 387              	.LCFI10:
 388              		.cfi_remember_state
 389              		.cfi_def_cfa_offset 20
 390              		@ sp needed
 391 008a F0BD     		pop	{r4, r5, r6, r7, pc}
 392              	.LVL30:
 393              	.L24:
 394              	.LCFI11:
 395              		.cfi_restore_state
 324:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 396              		.loc 1 324 7 is_stmt 1 view .LVU121
 324:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 397              		.loc 1 324 40 is_stmt 0 view .LVU122
 398 008c 120A     		lsrs	r2, r2, #8
 399              	.LVL31:
 324:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 400              		.loc 1 324 53 view .LVU123
 401 008e A868     		ldr	r0, [r5, #8]
 324:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 402              		.loc 1 324 47 view .LVU124
ARM GAS  /tmp/ccZIeaUh.s 			page 15


 403 0090 02EB8202 		add	r2, r2, r2, lsl #2
 404 0094 5300     		lsls	r3, r2, #1
 324:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 405              		.loc 1 324 53 view .LVU125
 406 0096 B3FBF0F3 		udiv	r3, r3, r0
 324:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 407              		.loc 1 324 13 view .LVU126
 408 009a 0533     		adds	r3, r3, #5
 324:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 409              		.loc 1 324 11 view .LVU127
 410 009c 9BB2     		uxth	r3, r3
 411              	.LVL32:
 324:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 412              		.loc 1 324 11 view .LVU128
 413 009e D9E7     		b	.L19
 414              	.LVL33:
 415              	.L23:
 324:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 416              		.loc 1 324 11 view .LVU129
 417 00a0 C988     		ldrh	r1, [r1, #6]
 418              	.LVL34:
 324:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 419              		.loc 1 324 11 view .LVU130
 420 00a2 E3E7     		b	.L16
 421              	.L26:
 422              		.align	2
 423              	.L25:
 424 00a4 CDCCCCCC 		.word	-858993459
 425              		.cfi_endproc
 426              	.LFE31:
 428              		.section	.text.SPI_StructInit,"ax",%progbits
 429              		.align	1
 430              		.p2align 2,,3
 431              		.global	SPI_StructInit
 432              		.syntax unified
 433              		.thumb
 434              		.thumb_func
 435              		.fpu softvfp
 437              	SPI_StructInit:
 438              	.LVL35:
 439              	.LFB32:
 364:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 365:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 366:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Fills each SPI_InitStruct member with its default value.
 367:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_InitStruct : pointer to a SPI_InitTypeDef structure which will be initialized.
 368:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 369:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 370:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_StructInit(SPI_InitTypeDef* SPI_InitStruct)
 371:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 440              		.loc 1 371 1 is_stmt 1 view -0
 441              		.cfi_startproc
 442              		@ args = 0, pretend = 0, frame = 0
 443              		@ frame_needed = 0, uses_anonymous_args = 0
 444              		@ link register save eliminated.
 372:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /*--------------- Reset SPI init structure parameters values -----------------*/
 373:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_Direction member */
 374:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_Direction = SPI_Direction_2Lines_FullDuplex;
ARM GAS  /tmp/ccZIeaUh.s 			page 16


 445              		.loc 1 374 3 view .LVU132
 375:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* initialize the SPI_Mode member */
 376:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_Mode = SPI_Mode_Slave;
 446              		.loc 1 376 3 view .LVU133
 377:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* initialize the SPI_DataSize member */
 378:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_DataSize = SPI_DataSize_8b;
 447              		.loc 1 378 3 view .LVU134
 379:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_CPOL member */
 380:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_CPOL = SPI_CPOL_Low;
 448              		.loc 1 380 3 view .LVU135
 381:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_CPHA member */
 382:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_CPHA = SPI_CPHA_1Edge;
 449              		.loc 1 382 3 view .LVU136
 383:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_NSS member */
 384:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_NSS = SPI_NSS_Hard;
 450              		.loc 1 384 3 view .LVU137
 385:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_BaudRatePrescaler member */
 386:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_BaudRatePrescaler = SPI_BaudRatePrescaler_2;
 451              		.loc 1 386 3 view .LVU138
 387:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_FirstBit member */
 388:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_FirstBit = SPI_FirstBit_MSB;
 452              		.loc 1 388 3 view .LVU139
 374:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* initialize the SPI_Mode member */
 453              		.loc 1 374 33 is_stmt 0 view .LVU140
 454 0000 0023     		movs	r3, #0
 389:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_CRCPolynomial member */
 390:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_CRCPolynomial = 7;
 455              		.loc 1 390 37 view .LVU141
 456 0002 0722     		movs	r2, #7
 374:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* initialize the SPI_Mode member */
 457              		.loc 1 374 33 view .LVU142
 458 0004 0360     		str	r3, [r0]	@ unaligned
 459              		.loc 1 390 37 view .LVU143
 460 0006 0282     		strh	r2, [r0, #16]	@ movhi
 374:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* initialize the SPI_Mode member */
 461              		.loc 1 374 33 view .LVU144
 462 0008 4360     		str	r3, [r0, #4]	@ unaligned
 463 000a 8360     		str	r3, [r0, #8]	@ unaligned
 464 000c C360     		str	r3, [r0, #12]	@ unaligned
 465              		.loc 1 390 3 is_stmt 1 view .LVU145
 391:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 466              		.loc 1 391 1 is_stmt 0 view .LVU146
 467 000e 7047     		bx	lr
 468              		.cfi_endproc
 469              	.LFE32:
 471              		.section	.text.I2S_StructInit,"ax",%progbits
 472              		.align	1
 473              		.p2align 2,,3
 474              		.global	I2S_StructInit
 475              		.syntax unified
 476              		.thumb
 477              		.thumb_func
 478              		.fpu softvfp
 480              	I2S_StructInit:
 481              	.LVL36:
 482              	.LFB33:
 392:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
ARM GAS  /tmp/ccZIeaUh.s 			page 17


 393:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 394:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Fills each I2S_InitStruct member with its default value.
 395:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  I2S_InitStruct : pointer to a I2S_InitTypeDef structure which will be initialized.
 396:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 397:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 398:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void I2S_StructInit(I2S_InitTypeDef* I2S_InitStruct)
 399:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 483              		.loc 1 399 1 is_stmt 1 view -0
 484              		.cfi_startproc
 485              		@ args = 0, pretend = 0, frame = 0
 486              		@ frame_needed = 0, uses_anonymous_args = 0
 487              		@ link register save eliminated.
 400:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /*--------------- Reset I2S init structure parameters values -----------------*/
 401:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the I2S_Mode member */
 402:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   I2S_InitStruct->I2S_Mode = I2S_Mode_SlaveTx;
 488              		.loc 1 402 3 view .LVU148
 403:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 404:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the I2S_Standard member */
 405:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   I2S_InitStruct->I2S_Standard = I2S_Standard_Phillips;
 489              		.loc 1 405 3 view .LVU149
 406:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 407:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the I2S_DataFormat member */
 408:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   I2S_InitStruct->I2S_DataFormat = I2S_DataFormat_16b;
 490              		.loc 1 408 3 view .LVU150
 409:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 410:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the I2S_MCLKOutput member */
 411:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   I2S_InitStruct->I2S_MCLKOutput = I2S_MCLKOutput_Disable;
 491              		.loc 1 411 3 view .LVU151
 402:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 492              		.loc 1 402 28 is_stmt 0 view .LVU152
 493 0000 0023     		movs	r3, #0
 412:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 413:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the I2S_AudioFreq member */
 414:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   I2S_InitStruct->I2S_AudioFreq = I2S_AudioFreq_Default;
 494              		.loc 1 414 33 view .LVU153
 495 0002 0222     		movs	r2, #2
 402:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 496              		.loc 1 402 28 view .LVU154
 497 0004 C0E90033 		strd	r3, r3, [r0]
 498              		.loc 1 414 3 is_stmt 1 view .LVU155
 415:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 416:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the I2S_CPOL member */
 417:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   I2S_InitStruct->I2S_CPOL = I2S_CPOL_Low;
 499              		.loc 1 417 3 view .LVU156
 414:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 500              		.loc 1 414 33 is_stmt 0 view .LVU157
 501 0008 8260     		str	r2, [r0, #8]
 502              		.loc 1 417 28 view .LVU158
 503 000a 8381     		strh	r3, [r0, #12]	@ movhi
 418:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 504              		.loc 1 418 1 view .LVU159
 505 000c 7047     		bx	lr
 506              		.cfi_endproc
 507              	.LFE33:
 509 000e 00BF     		.section	.text.SPI_Cmd,"ax",%progbits
 510              		.align	1
 511              		.p2align 2,,3
ARM GAS  /tmp/ccZIeaUh.s 			page 18


 512              		.global	SPI_Cmd
 513              		.syntax unified
 514              		.thumb
 515              		.thumb_func
 516              		.fpu softvfp
 518              	SPI_Cmd:
 519              	.LVL37:
 520              	.LFB34:
 419:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 420:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 421:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Enables or disables the specified SPI peripheral.
 422:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 423:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  NewState: new state of the SPIx peripheral. 
 424:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
 425:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 426:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 427:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_Cmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 428:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 521              		.loc 1 428 1 is_stmt 1 view -0
 522              		.cfi_startproc
 523              		@ args = 0, pretend = 0, frame = 0
 524              		@ frame_needed = 0, uses_anonymous_args = 0
 525              		@ link register save eliminated.
 429:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 430:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 526              		.loc 1 430 3 view .LVU161
 431:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 527              		.loc 1 431 3 view .LVU162
 432:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 528              		.loc 1 432 3 view .LVU163
 433:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 434:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable the selected SPI peripheral */
 435:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 |= CR1_SPE_Set;
 529              		.loc 1 435 15 is_stmt 0 view .LVU164
 530 0000 0388     		ldrh	r3, [r0]
 432:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 531              		.loc 1 432 6 view .LVU165
 532 0002 21B1     		cbz	r1, .L30
 533              		.loc 1 435 5 is_stmt 1 view .LVU166
 534              		.loc 1 435 15 is_stmt 0 view .LVU167
 535 0004 9BB2     		uxth	r3, r3
 536 0006 43F04003 		orr	r3, r3, #64
 537 000a 0380     		strh	r3, [r0]	@ movhi
 538 000c 7047     		bx	lr
 539              	.L30:
 436:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 437:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 438:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 439:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Disable the selected SPI peripheral */
 440:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 &= CR1_SPE_Reset;
 540              		.loc 1 440 5 is_stmt 1 view .LVU168
 541              		.loc 1 440 15 is_stmt 0 view .LVU169
 542 000e 23F04003 		bic	r3, r3, #64
 543 0012 1B04     		lsls	r3, r3, #16
 544 0014 1B0C     		lsrs	r3, r3, #16
 545 0016 0380     		strh	r3, [r0]	@ movhi
 441:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
ARM GAS  /tmp/ccZIeaUh.s 			page 19


 442:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 546              		.loc 1 442 1 view .LVU170
 547 0018 7047     		bx	lr
 548              		.cfi_endproc
 549              	.LFE34:
 551 001a 00BF     		.section	.text.I2S_Cmd,"ax",%progbits
 552              		.align	1
 553              		.p2align 2,,3
 554              		.global	I2S_Cmd
 555              		.syntax unified
 556              		.thumb
 557              		.thumb_func
 558              		.fpu softvfp
 560              	I2S_Cmd:
 561              	.LVL38:
 562              	.LFB35:
 443:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 444:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 445:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Enables or disables the specified SPI peripheral (in I2S mode).
 446:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 2 or 3 to select the SPI peripheral.
 447:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  NewState: new state of the SPIx peripheral. 
 448:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
 449:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 450:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 451:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void I2S_Cmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 452:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 563              		.loc 1 452 1 is_stmt 1 view -0
 564              		.cfi_startproc
 565              		@ args = 0, pretend = 0, frame = 0
 566              		@ frame_needed = 0, uses_anonymous_args = 0
 567              		@ link register save eliminated.
 453:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 454:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_23_PERIPH(SPIx));
 568              		.loc 1 454 3 view .LVU172
 455:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 569              		.loc 1 455 3 view .LVU173
 456:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 570              		.loc 1 456 3 view .LVU174
 457:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 458:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable the selected SPI peripheral (in I2S mode) */
 459:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->I2SCFGR |= I2SCFGR_I2SE_Set;
 571              		.loc 1 459 19 is_stmt 0 view .LVU175
 572 0000 838B     		ldrh	r3, [r0, #28]
 456:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 573              		.loc 1 456 6 view .LVU176
 574 0002 21B1     		cbz	r1, .L33
 575              		.loc 1 459 5 is_stmt 1 view .LVU177
 576              		.loc 1 459 19 is_stmt 0 view .LVU178
 577 0004 9BB2     		uxth	r3, r3
 578 0006 43F48063 		orr	r3, r3, #1024
 579 000a 8383     		strh	r3, [r0, #28]	@ movhi
 580 000c 7047     		bx	lr
 581              	.L33:
 460:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 461:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 462:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 463:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Disable the selected SPI peripheral (in I2S mode) */
ARM GAS  /tmp/ccZIeaUh.s 			page 20


 464:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->I2SCFGR &= I2SCFGR_I2SE_Reset;
 582              		.loc 1 464 5 is_stmt 1 view .LVU179
 583              		.loc 1 464 19 is_stmt 0 view .LVU180
 584 000e 23F48063 		bic	r3, r3, #1024
 585 0012 1B04     		lsls	r3, r3, #16
 586 0014 1B0C     		lsrs	r3, r3, #16
 587 0016 8383     		strh	r3, [r0, #28]	@ movhi
 465:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 466:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 588              		.loc 1 466 1 view .LVU181
 589 0018 7047     		bx	lr
 590              		.cfi_endproc
 591              	.LFE35:
 593 001a 00BF     		.section	.text.SPI_I2S_ITConfig,"ax",%progbits
 594              		.align	1
 595              		.p2align 2,,3
 596              		.global	SPI_I2S_ITConfig
 597              		.syntax unified
 598              		.thumb
 599              		.thumb_func
 600              		.fpu softvfp
 602              	SPI_I2S_ITConfig:
 603              	.LVL39:
 604              	.LFB36:
 467:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 468:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 469:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Enables or disables the specified SPI/I2S interrupts.
 470:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 471:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 472:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 2 or 3 in I2S mode
 473:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI/I2S interrupt source to be enabled or disabled. 
 474:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 475:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_IT_TXE: Tx buffer empty interrupt mask
 476:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_IT_RXNE: Rx buffer not empty interrupt mask
 477:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_IT_ERR: Error interrupt mask
 478:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  NewState: new state of the specified SPI/I2S interrupt.
 479:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
 480:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 481:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 482:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_I2S_ITConfig(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT, FunctionalState NewState)
 483:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 605              		.loc 1 483 1 is_stmt 1 view -0
 606              		.cfi_startproc
 607              		@ args = 0, pretend = 0, frame = 0
 608              		@ frame_needed = 0, uses_anonymous_args = 0
 609              		@ link register save eliminated.
 484:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t itpos = 0, itmask = 0 ;
 610              		.loc 1 484 3 view .LVU183
 485:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 486:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 611              		.loc 1 486 3 view .LVU184
 487:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 612              		.loc 1 487 3 view .LVU185
 488:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_I2S_CONFIG_IT(SPI_I2S_IT));
 613              		.loc 1 488 3 view .LVU186
 489:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 490:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the SPI/I2S IT index */
ARM GAS  /tmp/ccZIeaUh.s 			page 21


 491:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   itpos = SPI_I2S_IT >> 4;
 614              		.loc 1 491 3 view .LVU187
 492:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 493:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set the IT mask */
 494:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   itmask = (uint16_t)1 << (uint16_t)itpos;
 615              		.loc 1 494 3 view .LVU188
 616              		.loc 1 494 24 is_stmt 0 view .LVU189
 617 0000 0123     		movs	r3, #1
 618              		.loc 1 494 27 view .LVU190
 619 0002 0909     		lsrs	r1, r1, #4
 620              	.LVL40:
 621              		.loc 1 494 24 view .LVU191
 622 0004 8B40     		lsls	r3, r3, r1
 623              		.loc 1 494 10 view .LVU192
 624 0006 9BB2     		uxth	r3, r3
 625              	.LVL41:
 495:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 496:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 626              		.loc 1 496 3 is_stmt 1 view .LVU193
 627              		.loc 1 496 6 is_stmt 0 view .LVU194
 628 0008 22B1     		cbz	r2, .L36
 497:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 498:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable the selected SPI/I2S interrupt */
 499:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR2 |= itmask;
 629              		.loc 1 499 5 is_stmt 1 view .LVU195
 630              		.loc 1 499 15 is_stmt 0 view .LVU196
 631 000a 8288     		ldrh	r2, [r0, #4]
 632              	.LVL42:
 633              		.loc 1 499 15 view .LVU197
 634 000c 92B2     		uxth	r2, r2
 635 000e 1343     		orrs	r3, r3, r2
 636              	.LVL43:
 637              		.loc 1 499 15 view .LVU198
 638 0010 8380     		strh	r3, [r0, #4]	@ movhi
 639 0012 7047     		bx	lr
 640              	.LVL44:
 641              	.L36:
 500:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 501:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 502:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 503:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Disable the selected SPI/I2S interrupt */
 504:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR2 &= (uint16_t)~itmask;
 642              		.loc 1 504 5 is_stmt 1 view .LVU199
 643              		.loc 1 504 15 is_stmt 0 view .LVU200
 644 0014 8288     		ldrh	r2, [r0, #4]
 645              	.LVL45:
 646              		.loc 1 504 15 view .LVU201
 647 0016 92B2     		uxth	r2, r2
 648 0018 22EA0303 		bic	r3, r2, r3
 649              	.LVL46:
 650              		.loc 1 504 15 view .LVU202
 651 001c 8380     		strh	r3, [r0, #4]	@ movhi
 505:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 506:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 652              		.loc 1 506 1 view .LVU203
 653 001e 7047     		bx	lr
 654              		.cfi_endproc
ARM GAS  /tmp/ccZIeaUh.s 			page 22


 655              	.LFE36:
 657              		.section	.text.SPI_I2S_DMACmd,"ax",%progbits
 658              		.align	1
 659              		.p2align 2,,3
 660              		.global	SPI_I2S_DMACmd
 661              		.syntax unified
 662              		.thumb
 663              		.thumb_func
 664              		.fpu softvfp
 666              	SPI_I2S_DMACmd:
 667              	.LVL47:
 668              	.LFB37:
 507:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 508:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 509:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Enables or disables the SPIx/I2Sx DMA interface.
 510:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 511:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 512:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 2 or 3 in I2S mode
 513:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_I2S_DMAReq: specifies the SPI/I2S DMA transfer request to be enabled or disabled. 
 514:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be any combination of the following values:
 515:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_DMAReq_Tx: Tx buffer DMA transfer request
 516:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_DMAReq_Rx: Rx buffer DMA transfer request
 517:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  NewState: new state of the selected SPI/I2S DMA transfer request.
 518:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
 519:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 520:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 521:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_I2S_DMACmd(SPI_TypeDef* SPIx, uint16_t SPI_I2S_DMAReq, FunctionalState NewState)
 522:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 669              		.loc 1 522 1 is_stmt 1 view -0
 670              		.cfi_startproc
 671              		@ args = 0, pretend = 0, frame = 0
 672              		@ frame_needed = 0, uses_anonymous_args = 0
 673              		@ link register save eliminated.
 523:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 524:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 674              		.loc 1 524 3 view .LVU205
 525:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 675              		.loc 1 525 3 view .LVU206
 526:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_I2S_DMAREQ(SPI_I2S_DMAReq));
 676              		.loc 1 526 3 view .LVU207
 527:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 677              		.loc 1 527 3 view .LVU208
 528:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 529:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable the selected SPI/I2S DMA requests */
 530:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR2 |= SPI_I2S_DMAReq;
 678              		.loc 1 530 15 is_stmt 0 view .LVU209
 679 0000 8388     		ldrh	r3, [r0, #4]
 680 0002 9BB2     		uxth	r3, r3
 527:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 681              		.loc 1 527 6 view .LVU210
 682 0004 12B1     		cbz	r2, .L39
 683              		.loc 1 530 5 is_stmt 1 view .LVU211
 684              		.loc 1 530 15 is_stmt 0 view .LVU212
 685 0006 1943     		orrs	r1, r1, r3
 686              	.LVL48:
 687              		.loc 1 530 15 view .LVU213
 688 0008 8180     		strh	r1, [r0, #4]	@ movhi
ARM GAS  /tmp/ccZIeaUh.s 			page 23


 689 000a 7047     		bx	lr
 690              	.LVL49:
 691              	.L39:
 531:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 532:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 533:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 534:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Disable the selected SPI/I2S DMA requests */
 535:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR2 &= (uint16_t)~SPI_I2S_DMAReq;
 692              		.loc 1 535 5 is_stmt 1 view .LVU214
 693              		.loc 1 535 15 is_stmt 0 view .LVU215
 694 000c 23EA0101 		bic	r1, r3, r1
 695              	.LVL50:
 696              		.loc 1 535 15 view .LVU216
 697 0010 8180     		strh	r1, [r0, #4]	@ movhi
 536:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 537:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 698              		.loc 1 537 1 view .LVU217
 699 0012 7047     		bx	lr
 700              		.cfi_endproc
 701              	.LFE37:
 703              		.section	.text.SPI_I2S_SendData,"ax",%progbits
 704              		.align	1
 705              		.p2align 2,,3
 706              		.global	SPI_I2S_SendData
 707              		.syntax unified
 708              		.thumb
 709              		.thumb_func
 710              		.fpu softvfp
 712              	SPI_I2S_SendData:
 713              	.LVL51:
 714              	.LFB38:
 538:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 539:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 540:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Transmits a Data through the SPIx/I2Sx peripheral.
 541:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 542:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 543:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 2 or 3 in I2S mode
 544:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  Data : Data to be transmitted.
 545:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 546:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 547:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_I2S_SendData(SPI_TypeDef* SPIx, uint16_t Data)
 548:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 715              		.loc 1 548 1 is_stmt 1 view -0
 716              		.cfi_startproc
 717              		@ args = 0, pretend = 0, frame = 0
 718              		@ frame_needed = 0, uses_anonymous_args = 0
 719              		@ link register save eliminated.
 549:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 550:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 720              		.loc 1 550 3 view .LVU219
 551:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 552:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Write in the DR register the data to be sent */
 553:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->DR = Data;
 721              		.loc 1 553 3 view .LVU220
 722              		.loc 1 553 12 is_stmt 0 view .LVU221
 723 0000 8181     		strh	r1, [r0, #12]	@ movhi
 554:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
ARM GAS  /tmp/ccZIeaUh.s 			page 24


 724              		.loc 1 554 1 view .LVU222
 725 0002 7047     		bx	lr
 726              		.cfi_endproc
 727              	.LFE38:
 729              		.section	.text.SPI_I2S_ReceiveData,"ax",%progbits
 730              		.align	1
 731              		.p2align 2,,3
 732              		.global	SPI_I2S_ReceiveData
 733              		.syntax unified
 734              		.thumb
 735              		.thumb_func
 736              		.fpu softvfp
 738              	SPI_I2S_ReceiveData:
 739              	.LVL52:
 740              	.LFB39:
 555:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 556:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 557:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Returns the most recent received data by the SPIx/I2Sx peripheral. 
 558:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 559:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 560:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 2 or 3 in I2S mode
 561:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval The value of the received data.
 562:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 563:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** uint16_t SPI_I2S_ReceiveData(SPI_TypeDef* SPIx)
 564:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 741              		.loc 1 564 1 is_stmt 1 view -0
 742              		.cfi_startproc
 743              		@ args = 0, pretend = 0, frame = 0
 744              		@ frame_needed = 0, uses_anonymous_args = 0
 745              		@ link register save eliminated.
 565:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 566:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 746              		.loc 1 566 3 view .LVU224
 567:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 568:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Return the data in the DR register */
 569:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   return SPIx->DR;
 747              		.loc 1 569 3 view .LVU225
 748              		.loc 1 569 14 is_stmt 0 view .LVU226
 749 0000 8089     		ldrh	r0, [r0, #12]
 750              	.LVL53:
 570:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 751              		.loc 1 570 1 view .LVU227
 752 0002 80B2     		uxth	r0, r0
 753 0004 7047     		bx	lr
 754              		.cfi_endproc
 755              	.LFE39:
 757 0006 00BF     		.section	.text.SPI_NSSInternalSoftwareConfig,"ax",%progbits
 758              		.align	1
 759              		.p2align 2,,3
 760              		.global	SPI_NSSInternalSoftwareConfig
 761              		.syntax unified
 762              		.thumb
 763              		.thumb_func
 764              		.fpu softvfp
 766              	SPI_NSSInternalSoftwareConfig:
 767              	.LVL54:
 768              	.LFB40:
ARM GAS  /tmp/ccZIeaUh.s 			page 25


 571:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 572:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 573:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Configures internally by software the NSS pin for the selected SPI.
 574:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 575:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_NSSInternalSoft: specifies the SPI NSS internal state.
 576:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 577:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_NSSInternalSoft_Set: Set NSS pin internally
 578:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_NSSInternalSoft_Reset: Reset NSS pin internally
 579:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 580:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 581:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_NSSInternalSoftwareConfig(SPI_TypeDef* SPIx, uint16_t SPI_NSSInternalSoft)
 582:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 769              		.loc 1 582 1 is_stmt 1 view -0
 770              		.cfi_startproc
 771              		@ args = 0, pretend = 0, frame = 0
 772              		@ frame_needed = 0, uses_anonymous_args = 0
 773              		@ link register save eliminated.
 583:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 584:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 774              		.loc 1 584 3 view .LVU229
 585:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_NSS_INTERNAL(SPI_NSSInternalSoft));
 775              		.loc 1 585 3 view .LVU230
 586:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (SPI_NSSInternalSoft != SPI_NSSInternalSoft_Reset)
 776              		.loc 1 586 3 view .LVU231
 777              		.loc 1 586 6 is_stmt 0 view .LVU232
 778 0000 4FF6FF63 		movw	r3, #65279
 779 0004 9942     		cmp	r1, r3
 587:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 588:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Set NSS pin internally by software */
 589:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 |= SPI_NSSInternalSoft_Set;
 780              		.loc 1 589 15 view .LVU233
 781 0006 0388     		ldrh	r3, [r0]
 586:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (SPI_NSSInternalSoft != SPI_NSSInternalSoft_Reset)
 782              		.loc 1 586 6 view .LVU234
 783 0008 04D0     		beq	.L44
 784              		.loc 1 589 5 is_stmt 1 view .LVU235
 785              		.loc 1 589 15 is_stmt 0 view .LVU236
 786 000a 9BB2     		uxth	r3, r3
 787 000c 43F48073 		orr	r3, r3, #256
 788 0010 0380     		strh	r3, [r0]	@ movhi
 789 0012 7047     		bx	lr
 790              	.L44:
 590:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 591:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 592:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 593:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Reset NSS pin internally by software */
 594:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 &= SPI_NSSInternalSoft_Reset;
 791              		.loc 1 594 5 is_stmt 1 view .LVU237
 792              		.loc 1 594 15 is_stmt 0 view .LVU238
 793 0014 23F48073 		bic	r3, r3, #256
 794 0018 1B04     		lsls	r3, r3, #16
 795 001a 1B0C     		lsrs	r3, r3, #16
 796 001c 0380     		strh	r3, [r0]	@ movhi
 595:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 596:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 797              		.loc 1 596 1 view .LVU239
 798 001e 7047     		bx	lr
ARM GAS  /tmp/ccZIeaUh.s 			page 26


 799              		.cfi_endproc
 800              	.LFE40:
 802              		.section	.text.SPI_SSOutputCmd,"ax",%progbits
 803              		.align	1
 804              		.p2align 2,,3
 805              		.global	SPI_SSOutputCmd
 806              		.syntax unified
 807              		.thumb
 808              		.thumb_func
 809              		.fpu softvfp
 811              	SPI_SSOutputCmd:
 812              	.LVL55:
 813              	.LFB41:
 597:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 598:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 599:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Enables or disables the SS output for the selected SPI.
 600:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 601:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  NewState: new state of the SPIx SS output. 
 602:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
 603:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 604:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 605:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_SSOutputCmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 606:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 814              		.loc 1 606 1 is_stmt 1 view -0
 815              		.cfi_startproc
 816              		@ args = 0, pretend = 0, frame = 0
 817              		@ frame_needed = 0, uses_anonymous_args = 0
 818              		@ link register save eliminated.
 607:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 608:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 819              		.loc 1 608 3 view .LVU241
 609:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 820              		.loc 1 609 3 view .LVU242
 610:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 821              		.loc 1 610 3 view .LVU243
 611:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 612:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable the selected SPI SS output */
 613:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR2 |= CR2_SSOE_Set;
 822              		.loc 1 613 15 is_stmt 0 view .LVU244
 823 0000 8388     		ldrh	r3, [r0, #4]
 610:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 824              		.loc 1 610 6 view .LVU245
 825 0002 21B1     		cbz	r1, .L47
 826              		.loc 1 613 5 is_stmt 1 view .LVU246
 827              		.loc 1 613 15 is_stmt 0 view .LVU247
 828 0004 9BB2     		uxth	r3, r3
 829 0006 43F00403 		orr	r3, r3, #4
 830 000a 8380     		strh	r3, [r0, #4]	@ movhi
 831 000c 7047     		bx	lr
 832              	.L47:
 614:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 615:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 616:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 617:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Disable the selected SPI SS output */
 618:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR2 &= CR2_SSOE_Reset;
 833              		.loc 1 618 5 is_stmt 1 view .LVU248
 834              		.loc 1 618 15 is_stmt 0 view .LVU249
ARM GAS  /tmp/ccZIeaUh.s 			page 27


 835 000e 23F00403 		bic	r3, r3, #4
 836 0012 1B04     		lsls	r3, r3, #16
 837 0014 1B0C     		lsrs	r3, r3, #16
 838 0016 8380     		strh	r3, [r0, #4]	@ movhi
 619:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 620:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 839              		.loc 1 620 1 view .LVU250
 840 0018 7047     		bx	lr
 841              		.cfi_endproc
 842              	.LFE41:
 844 001a 00BF     		.section	.text.SPI_DataSizeConfig,"ax",%progbits
 845              		.align	1
 846              		.p2align 2,,3
 847              		.global	SPI_DataSizeConfig
 848              		.syntax unified
 849              		.thumb
 850              		.thumb_func
 851              		.fpu softvfp
 853              	SPI_DataSizeConfig:
 854              	.LVL56:
 855              	.LFB42:
 621:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 622:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 623:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Configures the data size for the selected SPI.
 624:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 625:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_DataSize: specifies the SPI data size.
 626:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 627:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_DataSize_16b: Set data frame format to 16bit
 628:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_DataSize_8b: Set data frame format to 8bit
 629:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 630:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 631:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_DataSizeConfig(SPI_TypeDef* SPIx, uint16_t SPI_DataSize)
 632:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 856              		.loc 1 632 1 is_stmt 1 view -0
 857              		.cfi_startproc
 858              		@ args = 0, pretend = 0, frame = 0
 859              		@ frame_needed = 0, uses_anonymous_args = 0
 860              		@ link register save eliminated.
 633:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 634:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 861              		.loc 1 634 3 view .LVU252
 635:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_DATASIZE(SPI_DataSize));
 862              		.loc 1 635 3 view .LVU253
 636:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Clear DFF bit */
 637:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->CR1 &= (uint16_t)~SPI_DataSize_16b;
 863              		.loc 1 637 3 view .LVU254
 864              		.loc 1 637 13 is_stmt 0 view .LVU255
 865 0000 0388     		ldrh	r3, [r0]
 866 0002 23F40063 		bic	r3, r3, #2048
 867 0006 1B04     		lsls	r3, r3, #16
 868 0008 1B0C     		lsrs	r3, r3, #16
 869 000a 0380     		strh	r3, [r0]	@ movhi
 638:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set new DFF bit value */
 639:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->CR1 |= SPI_DataSize;
 870              		.loc 1 639 3 is_stmt 1 view .LVU256
 871              		.loc 1 639 13 is_stmt 0 view .LVU257
 872 000c 0388     		ldrh	r3, [r0]
ARM GAS  /tmp/ccZIeaUh.s 			page 28


 873 000e 9BB2     		uxth	r3, r3
 874 0010 0B43     		orrs	r3, r3, r1
 875 0012 0380     		strh	r3, [r0]	@ movhi
 640:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 876              		.loc 1 640 1 view .LVU258
 877 0014 7047     		bx	lr
 878              		.cfi_endproc
 879              	.LFE42:
 881 0016 00BF     		.section	.text.SPI_TransmitCRC,"ax",%progbits
 882              		.align	1
 883              		.p2align 2,,3
 884              		.global	SPI_TransmitCRC
 885              		.syntax unified
 886              		.thumb
 887              		.thumb_func
 888              		.fpu softvfp
 890              	SPI_TransmitCRC:
 891              	.LVL57:
 892              	.LFB43:
 641:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 642:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 643:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Transmit the SPIx CRC value.
 644:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 645:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 646:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 647:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_TransmitCRC(SPI_TypeDef* SPIx)
 648:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 893              		.loc 1 648 1 is_stmt 1 view -0
 894              		.cfi_startproc
 895              		@ args = 0, pretend = 0, frame = 0
 896              		@ frame_needed = 0, uses_anonymous_args = 0
 897              		@ link register save eliminated.
 649:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 650:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 898              		.loc 1 650 3 view .LVU260
 651:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 652:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Enable the selected SPI CRC transmission */
 653:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->CR1 |= CR1_CRCNext_Set;
 899              		.loc 1 653 3 view .LVU261
 900              		.loc 1 653 13 is_stmt 0 view .LVU262
 901 0000 0388     		ldrh	r3, [r0]
 902 0002 9BB2     		uxth	r3, r3
 903 0004 43F48053 		orr	r3, r3, #4096
 904 0008 0380     		strh	r3, [r0]	@ movhi
 654:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 905              		.loc 1 654 1 view .LVU263
 906 000a 7047     		bx	lr
 907              		.cfi_endproc
 908              	.LFE43:
 910              		.section	.text.SPI_CalculateCRC,"ax",%progbits
 911              		.align	1
 912              		.p2align 2,,3
 913              		.global	SPI_CalculateCRC
 914              		.syntax unified
 915              		.thumb
 916              		.thumb_func
 917              		.fpu softvfp
ARM GAS  /tmp/ccZIeaUh.s 			page 29


 919              	SPI_CalculateCRC:
 920              	.LVL58:
 921              	.LFB44:
 655:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 656:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 657:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Enables or disables the CRC value calculation of the transferred bytes.
 658:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 659:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  NewState: new state of the SPIx CRC value calculation.
 660:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
 661:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 662:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 663:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_CalculateCRC(SPI_TypeDef* SPIx, FunctionalState NewState)
 664:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 922              		.loc 1 664 1 is_stmt 1 view -0
 923              		.cfi_startproc
 924              		@ args = 0, pretend = 0, frame = 0
 925              		@ frame_needed = 0, uses_anonymous_args = 0
 926              		@ link register save eliminated.
 665:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 666:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 927              		.loc 1 666 3 view .LVU265
 667:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 928              		.loc 1 667 3 view .LVU266
 668:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 929              		.loc 1 668 3 view .LVU267
 669:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 670:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable the selected SPI CRC calculation */
 671:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 |= CR1_CRCEN_Set;
 930              		.loc 1 671 15 is_stmt 0 view .LVU268
 931 0000 0388     		ldrh	r3, [r0]
 668:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 932              		.loc 1 668 6 view .LVU269
 933 0002 21B1     		cbz	r1, .L52
 934              		.loc 1 671 5 is_stmt 1 view .LVU270
 935              		.loc 1 671 15 is_stmt 0 view .LVU271
 936 0004 9BB2     		uxth	r3, r3
 937 0006 43F40053 		orr	r3, r3, #8192
 938 000a 0380     		strh	r3, [r0]	@ movhi
 939 000c 7047     		bx	lr
 940              	.L52:
 672:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 673:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 674:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 675:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Disable the selected SPI CRC calculation */
 676:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 &= CR1_CRCEN_Reset;
 941              		.loc 1 676 5 is_stmt 1 view .LVU272
 942              		.loc 1 676 15 is_stmt 0 view .LVU273
 943 000e 23F40053 		bic	r3, r3, #8192
 944 0012 1B04     		lsls	r3, r3, #16
 945 0014 1B0C     		lsrs	r3, r3, #16
 946 0016 0380     		strh	r3, [r0]	@ movhi
 677:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 678:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 947              		.loc 1 678 1 view .LVU274
 948 0018 7047     		bx	lr
 949              		.cfi_endproc
 950              	.LFE44:
ARM GAS  /tmp/ccZIeaUh.s 			page 30


 952 001a 00BF     		.section	.text.SPI_GetCRC,"ax",%progbits
 953              		.align	1
 954              		.p2align 2,,3
 955              		.global	SPI_GetCRC
 956              		.syntax unified
 957              		.thumb
 958              		.thumb_func
 959              		.fpu softvfp
 961              	SPI_GetCRC:
 962              	.LVL59:
 963              	.LFB45:
 679:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 680:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 681:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Returns the transmit or the receive CRC register value for the specified SPI.
 682:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 683:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_CRC: specifies the CRC register to be read.
 684:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 685:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_CRC_Tx: Selects Tx CRC register
 686:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_CRC_Rx: Selects Rx CRC register
 687:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval The selected CRC register value..
 688:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 689:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** uint16_t SPI_GetCRC(SPI_TypeDef* SPIx, uint8_t SPI_CRC)
 690:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 964              		.loc 1 690 1 is_stmt 1 view -0
 965              		.cfi_startproc
 966              		@ args = 0, pretend = 0, frame = 0
 967              		@ frame_needed = 0, uses_anonymous_args = 0
 968              		@ link register save eliminated.
 691:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t crcreg = 0;
 969              		.loc 1 691 3 view .LVU276
 692:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 693:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 970              		.loc 1 693 3 view .LVU277
 694:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_CRC(SPI_CRC));
 971              		.loc 1 694 3 view .LVU278
 695:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (SPI_CRC != SPI_CRC_Rx)
 972              		.loc 1 695 3 view .LVU279
 973              		.loc 1 695 6 is_stmt 0 view .LVU280
 974 0000 0129     		cmp	r1, #1
 696:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 697:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Get the Tx CRC register */
 698:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     crcreg = SPIx->TXCRCR;
 975              		.loc 1 698 5 is_stmt 1 view .LVU281
 976              		.loc 1 698 12 is_stmt 0 view .LVU282
 977 0002 14BF     		ite	ne
 978 0004 008B     		ldrhne	r0, [r0, #24]
 979              	.LVL60:
 699:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 700:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 701:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 702:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Get the Rx CRC register */
 703:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     crcreg = SPIx->RXCRCR;
 980              		.loc 1 703 5 is_stmt 1 view .LVU283
 981              		.loc 1 703 12 is_stmt 0 view .LVU284
 982 0006 808A     		ldrheq	r0, [r0, #20]
 983 0008 80B2     		uxth	r0, r0
 984              	.LVL61:
ARM GAS  /tmp/ccZIeaUh.s 			page 31


 704:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 705:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Return the selected CRC register */
 706:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   return crcreg;
 985              		.loc 1 706 3 is_stmt 1 view .LVU285
 707:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 986              		.loc 1 707 1 is_stmt 0 view .LVU286
 987 000a 7047     		bx	lr
 988              		.cfi_endproc
 989              	.LFE45:
 991              		.section	.text.SPI_GetCRCPolynomial,"ax",%progbits
 992              		.align	1
 993              		.p2align 2,,3
 994              		.global	SPI_GetCRCPolynomial
 995              		.syntax unified
 996              		.thumb
 997              		.thumb_func
 998              		.fpu softvfp
 1000              	SPI_GetCRCPolynomial:
 1001              	.LVL62:
 1002              	.LFB46:
 708:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 709:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 710:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Returns the CRC Polynomial register value for the specified SPI.
 711:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 712:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval The CRC Polynomial register value.
 713:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 714:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** uint16_t SPI_GetCRCPolynomial(SPI_TypeDef* SPIx)
 715:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 1003              		.loc 1 715 1 is_stmt 1 view -0
 1004              		.cfi_startproc
 1005              		@ args = 0, pretend = 0, frame = 0
 1006              		@ frame_needed = 0, uses_anonymous_args = 0
 1007              		@ link register save eliminated.
 716:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 717:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1008              		.loc 1 717 3 view .LVU288
 718:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 719:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Return the CRC polynomial register */
 720:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   return SPIx->CRCPR;
 1009              		.loc 1 720 3 view .LVU289
 1010              		.loc 1 720 14 is_stmt 0 view .LVU290
 1011 0000 008A     		ldrh	r0, [r0, #16]
 1012              	.LVL63:
 721:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 1013              		.loc 1 721 1 view .LVU291
 1014 0002 80B2     		uxth	r0, r0
 1015 0004 7047     		bx	lr
 1016              		.cfi_endproc
 1017              	.LFE46:
 1019 0006 00BF     		.section	.text.SPI_BiDirectionalLineConfig,"ax",%progbits
 1020              		.align	1
 1021              		.p2align 2,,3
 1022              		.global	SPI_BiDirectionalLineConfig
 1023              		.syntax unified
 1024              		.thumb
 1025              		.thumb_func
 1026              		.fpu softvfp
ARM GAS  /tmp/ccZIeaUh.s 			page 32


 1028              	SPI_BiDirectionalLineConfig:
 1029              	.LVL64:
 1030              	.LFB47:
 722:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 723:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 724:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Selects the data transfer direction in bi-directional mode for the specified SPI.
 725:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 726:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_Direction: specifies the data transfer direction in bi-directional mode. 
 727:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 728:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_Direction_Tx: Selects Tx transmission direction
 729:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_Direction_Rx: Selects Rx receive direction
 730:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 731:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 732:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_BiDirectionalLineConfig(SPI_TypeDef* SPIx, uint16_t SPI_Direction)
 733:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 1031              		.loc 1 733 1 is_stmt 1 view -0
 1032              		.cfi_startproc
 1033              		@ args = 0, pretend = 0, frame = 0
 1034              		@ frame_needed = 0, uses_anonymous_args = 0
 1035              		@ link register save eliminated.
 734:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 735:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1036              		.loc 1 735 3 view .LVU293
 736:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_DIRECTION(SPI_Direction));
 1037              		.loc 1 736 3 view .LVU294
 737:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (SPI_Direction == SPI_Direction_Tx)
 1038              		.loc 1 737 3 view .LVU295
 1039              		.loc 1 737 6 is_stmt 0 view .LVU296
 1040 0000 B1F5804F 		cmp	r1, #16384
 738:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 739:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Set the Tx only mode */
 740:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 |= SPI_Direction_Tx;
 1041              		.loc 1 740 15 view .LVU297
 1042 0004 0388     		ldrh	r3, [r0]
 737:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (SPI_Direction == SPI_Direction_Tx)
 1043              		.loc 1 737 6 view .LVU298
 1044 0006 05D0     		beq	.L61
 741:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 742:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 743:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 744:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Set the Rx only mode */
 745:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 &= SPI_Direction_Rx;
 1045              		.loc 1 745 5 is_stmt 1 view .LVU299
 1046              		.loc 1 745 15 is_stmt 0 view .LVU300
 1047 0008 23F48043 		bic	r3, r3, #16384
 1048 000c 1B04     		lsls	r3, r3, #16
 1049 000e 1B0C     		lsrs	r3, r3, #16
 1050 0010 0380     		strh	r3, [r0]	@ movhi
 746:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 747:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 1051              		.loc 1 747 1 view .LVU301
 1052 0012 7047     		bx	lr
 1053              	.L61:
 740:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 1054              		.loc 1 740 5 is_stmt 1 view .LVU302
 740:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 1055              		.loc 1 740 15 is_stmt 0 view .LVU303
ARM GAS  /tmp/ccZIeaUh.s 			page 33


 1056 0014 9BB2     		uxth	r3, r3
 1057 0016 43F48043 		orr	r3, r3, #16384
 1058 001a 0380     		strh	r3, [r0]	@ movhi
 1059 001c 7047     		bx	lr
 1060              		.cfi_endproc
 1061              	.LFE47:
 1063 001e 00BF     		.section	.text.SPI_I2S_GetFlagStatus,"ax",%progbits
 1064              		.align	1
 1065              		.p2align 2,,3
 1066              		.global	SPI_I2S_GetFlagStatus
 1067              		.syntax unified
 1068              		.thumb
 1069              		.thumb_func
 1070              		.fpu softvfp
 1072              	SPI_I2S_GetFlagStatus:
 1073              	.LVL65:
 1074              	.LFB48:
 748:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 749:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 750:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Checks whether the specified SPI/I2S flag is set or not.
 751:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 752:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 753:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 2 or 3 in I2S mode
 754:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_I2S_FLAG: specifies the SPI/I2S flag to check. 
 755:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 756:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_FLAG_TXE: Transmit buffer empty flag.
 757:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_FLAG_RXNE: Receive buffer not empty flag.
 758:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_FLAG_BSY: Busy flag.
 759:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_FLAG_OVR: Overrun flag.
 760:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_FLAG_MODF: Mode Fault flag.
 761:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_FLAG_CRCERR: CRC Error flag.
 762:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg I2S_FLAG_UDR: Underrun Error flag.
 763:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg I2S_FLAG_CHSIDE: Channel Side flag.
 764:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval The new state of SPI_I2S_FLAG (SET or RESET).
 765:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 766:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** FlagStatus SPI_I2S_GetFlagStatus(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG)
 767:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 1075              		.loc 1 767 1 is_stmt 1 view -0
 1076              		.cfi_startproc
 1077              		@ args = 0, pretend = 0, frame = 0
 1078              		@ frame_needed = 0, uses_anonymous_args = 0
 1079              		@ link register save eliminated.
 768:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   FlagStatus bitstatus = RESET;
 1080              		.loc 1 768 3 view .LVU305
 769:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 770:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1081              		.loc 1 770 3 view .LVU306
 771:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_I2S_GET_FLAG(SPI_I2S_FLAG));
 1082              		.loc 1 771 3 view .LVU307
 772:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the status of the specified SPI/I2S flag */
 773:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if ((SPIx->SR & SPI_I2S_FLAG) != (uint16_t)RESET)
 1083              		.loc 1 773 3 view .LVU308
 1084              		.loc 1 773 12 is_stmt 0 view .LVU309
 1085 0000 0389     		ldrh	r3, [r0, #8]
 1086              	.LVL66:
 774:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 775:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* SPI_I2S_FLAG is set */
ARM GAS  /tmp/ccZIeaUh.s 			page 34


 776:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     bitstatus = SET;
 777:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 778:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 779:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 780:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* SPI_I2S_FLAG is reset */
 781:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     bitstatus = RESET;
 782:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 783:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Return the SPI_I2S_FLAG status */
 784:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   return  bitstatus;
 1087              		.loc 1 784 3 is_stmt 1 view .LVU310
 773:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 1088              		.loc 1 773 6 is_stmt 0 view .LVU311
 1089 0002 1942     		tst	r1, r3
 785:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 1090              		.loc 1 785 1 view .LVU312
 1091 0004 14BF     		ite	ne
 1092 0006 0120     		movne	r0, #1
 1093              	.LVL67:
 1094              		.loc 1 785 1 view .LVU313
 1095 0008 0020     		moveq	r0, #0
 1096 000a 7047     		bx	lr
 1097              		.cfi_endproc
 1098              	.LFE48:
 1100              		.section	.text.SPI_I2S_ClearFlag,"ax",%progbits
 1101              		.align	1
 1102              		.p2align 2,,3
 1103              		.global	SPI_I2S_ClearFlag
 1104              		.syntax unified
 1105              		.thumb
 1106              		.thumb_func
 1107              		.fpu softvfp
 1109              	SPI_I2S_ClearFlag:
 1110              	.LVL68:
 1111              	.LFB49:
 786:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 787:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 788:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Clears the SPIx CRC Error (CRCERR) flag.
 789:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 790:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 791:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_I2S_FLAG: specifies the SPI flag to clear. 
 792:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This function clears only CRCERR flag.
 793:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @note
 794:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - OVR (OverRun error) flag is cleared by software sequence: a read 
 795:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     operation to SPI_DR register (SPI_I2S_ReceiveData()) followed by a read 
 796:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     operation to SPI_SR register (SPI_I2S_GetFlagStatus()).
 797:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - UDR (UnderRun error) flag is cleared by a read operation to 
 798:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     SPI_SR register (SPI_I2S_GetFlagStatus()).
 799:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - MODF (Mode Fault) flag is cleared by software sequence: a read/write 
 800:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     operation to SPI_SR register (SPI_I2S_GetFlagStatus()) followed by a 
 801:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     write operation to SPI_CR1 register (SPI_Cmd() to enable the SPI).
 802:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 803:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 804:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_I2S_ClearFlag(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG)
 805:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 1112              		.loc 1 805 1 is_stmt 1 view -0
 1113              		.cfi_startproc
 1114              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccZIeaUh.s 			page 35


 1115              		@ frame_needed = 0, uses_anonymous_args = 0
 1116              		@ link register save eliminated.
 806:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 807:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1117              		.loc 1 807 3 view .LVU315
 808:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_I2S_CLEAR_FLAG(SPI_I2S_FLAG));
 1118              		.loc 1 808 3 view .LVU316
 809:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     
 810:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Clear the selected SPI CRC Error (CRCERR) flag */
 811:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->SR = (uint16_t)~SPI_I2S_FLAG;
 1119              		.loc 1 811 5 view .LVU317
 1120              		.loc 1 811 16 is_stmt 0 view .LVU318
 1121 0000 C943     		mvns	r1, r1
 1122              	.LVL69:
 1123              		.loc 1 811 16 view .LVU319
 1124 0002 89B2     		uxth	r1, r1
 1125              		.loc 1 811 14 view .LVU320
 1126 0004 0181     		strh	r1, [r0, #8]	@ movhi
 812:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 1127              		.loc 1 812 1 view .LVU321
 1128 0006 7047     		bx	lr
 1129              		.cfi_endproc
 1130              	.LFE49:
 1132              		.section	.text.SPI_I2S_GetITStatus,"ax",%progbits
 1133              		.align	1
 1134              		.p2align 2,,3
 1135              		.global	SPI_I2S_GetITStatus
 1136              		.syntax unified
 1137              		.thumb
 1138              		.thumb_func
 1139              		.fpu softvfp
 1141              	SPI_I2S_GetITStatus:
 1142              	.LVL70:
 1143              	.LFB50:
 813:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 814:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 815:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Checks whether the specified SPI/I2S interrupt has occurred or not.
 816:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 817:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 818:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 2 or 3 in I2S mode
 819:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI/I2S interrupt source to check. 
 820:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 821:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_IT_TXE: Transmit buffer empty interrupt.
 822:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_IT_RXNE: Receive buffer not empty interrupt.
 823:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_IT_OVR: Overrun interrupt.
 824:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_IT_MODF: Mode Fault interrupt.
 825:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_IT_CRCERR: CRC Error interrupt.
 826:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg I2S_IT_UDR: Underrun Error interrupt.
 827:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval The new state of SPI_I2S_IT (SET or RESET).
 828:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 829:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** ITStatus SPI_I2S_GetITStatus(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT)
 830:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 1144              		.loc 1 830 1 is_stmt 1 view -0
 1145              		.cfi_startproc
 1146              		@ args = 0, pretend = 0, frame = 0
 1147              		@ frame_needed = 0, uses_anonymous_args = 0
 1148              		@ link register save eliminated.
ARM GAS  /tmp/ccZIeaUh.s 			page 36


 831:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   ITStatus bitstatus = RESET;
 1149              		.loc 1 831 3 view .LVU323
 832:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t itpos = 0, itmask = 0, enablestatus = 0;
 1150              		.loc 1 832 3 view .LVU324
 833:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 834:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 835:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1151              		.loc 1 835 3 view .LVU325
 836:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_I2S_GET_IT(SPI_I2S_IT));
 1152              		.loc 1 836 3 view .LVU326
 837:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 838:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the SPI/I2S IT index */
 839:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   itpos = 0x01 << (SPI_I2S_IT & 0x0F);
 1153              		.loc 1 839 3 view .LVU327
 840:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 841:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the SPI/I2S IT mask */
 842:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   itmask = SPI_I2S_IT >> 4;
 1154              		.loc 1 842 3 view .LVU328
 843:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 844:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set the IT mask */
 845:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   itmask = 0x01 << itmask;
 1155              		.loc 1 845 3 view .LVU329
 846:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 847:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the SPI_I2S_IT enable bit status */
 848:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   enablestatus = (SPIx->CR2 & itmask) ;
 1156              		.loc 1 848 3 view .LVU330
 839:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 1157              		.loc 1 839 16 is_stmt 0 view .LVU331
 1158 0000 0122     		movs	r2, #1
 830:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   ITStatus bitstatus = RESET;
 1159              		.loc 1 830 1 view .LVU332
 1160 0002 10B4     		push	{r4}
 1161              	.LCFI12:
 1162              		.cfi_def_cfa_offset 4
 1163              		.cfi_offset 4, -4
 1164              		.loc 1 848 23 view .LVU333
 1165 0004 8488     		ldrh	r4, [r0, #4]
 849:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 850:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the status of the specified SPI/I2S interrupt */
 851:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (((SPIx->SR & itpos) != (uint16_t)RESET) && enablestatus)
 1166              		.loc 1 851 13 view .LVU334
 1167 0006 0089     		ldrh	r0, [r0, #8]
 1168              	.LVL71:
 839:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 1169              		.loc 1 839 31 view .LVU335
 1170 0008 01F00F03 		and	r3, r1, #15
 1171              		.loc 1 851 13 view .LVU336
 1172 000c 80B2     		uxth	r0, r0
 839:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 1173              		.loc 1 839 16 view .LVU337
 1174 000e 02FA03F3 		lsl	r3, r2, r3
 1175              	.LVL72:
 1176              		.loc 1 851 3 is_stmt 1 view .LVU338
 1177              		.loc 1 851 6 is_stmt 0 view .LVU339
 1178 0012 1840     		ands	r0, r0, r3
 1179 0014 07D0     		beq	.L65
 845:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
ARM GAS  /tmp/ccZIeaUh.s 			page 37


 1180              		.loc 1 845 17 discriminator 1 view .LVU340
 1181 0016 0909     		lsrs	r1, r1, #4
 1182              	.LVL73:
 845:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 1183              		.loc 1 845 17 discriminator 1 view .LVU341
 1184 0018 A4B2     		uxth	r4, r4
 845:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 1185              		.loc 1 845 17 discriminator 1 view .LVU342
 1186 001a 02FA01F1 		lsl	r1, r2, r1
 1187              		.loc 1 851 47 discriminator 1 view .LVU343
 1188 001e 0C42     		tst	r4, r1
 852:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 853:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* SPI_I2S_IT is set */
 854:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     bitstatus = SET;
 855:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 856:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 857:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 858:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* SPI_I2S_IT is reset */
 859:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     bitstatus = RESET;
 1189              		.loc 1 859 15 discriminator 1 view .LVU344
 1190 0020 14BF     		ite	ne
 1191 0022 1046     		movne	r0, r2
 1192 0024 0020     		moveq	r0, #0
 1193              	.LVL74:
 1194              	.L65:
 860:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 861:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Return the SPI_I2S_IT status */
 862:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   return bitstatus;
 1195              		.loc 1 862 3 is_stmt 1 view .LVU345
 863:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 1196              		.loc 1 863 1 is_stmt 0 view .LVU346
 1197 0026 10BC     		pop	{r4}
 1198              	.LCFI13:
 1199              		.cfi_restore 4
 1200              		.cfi_def_cfa_offset 0
 1201 0028 7047     		bx	lr
 1202              		.cfi_endproc
 1203              	.LFE50:
 1205 002a 00BF     		.section	.text.SPI_I2S_ClearITPendingBit,"ax",%progbits
 1206              		.align	1
 1207              		.p2align 2,,3
 1208              		.global	SPI_I2S_ClearITPendingBit
 1209              		.syntax unified
 1210              		.thumb
 1211              		.thumb_func
 1212              		.fpu softvfp
 1214              	SPI_I2S_ClearITPendingBit:
 1215              	.LVL75:
 1216              	.LFB51:
 864:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 865:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 866:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Clears the SPIx CRC Error (CRCERR) interrupt pending bit.
 867:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 868:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 869:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI interrupt pending bit to clear.
 870:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This function clears only CRCERR interrupt pending bit.   
 871:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @note
ARM GAS  /tmp/ccZIeaUh.s 			page 38


 872:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - OVR (OverRun Error) interrupt pending bit is cleared by software 
 873:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     sequence: a read operation to SPI_DR register (SPI_I2S_ReceiveData()) 
 874:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     followed by a read operation to SPI_SR register (SPI_I2S_GetITStatus()).
 875:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - UDR (UnderRun Error) interrupt pending bit is cleared by a read 
 876:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     operation to SPI_SR register (SPI_I2S_GetITStatus()).
 877:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - MODF (Mode Fault) interrupt pending bit is cleared by software sequence:
 878:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     a read/write operation to SPI_SR register (SPI_I2S_GetITStatus()) 
 879:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     followed by a write operation to SPI_CR1 register (SPI_Cmd() to enable 
 880:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     the SPI).
 881:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 882:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 883:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_I2S_ClearITPendingBit(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT)
 884:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 1217              		.loc 1 884 1 is_stmt 1 view -0
 1218              		.cfi_startproc
 1219              		@ args = 0, pretend = 0, frame = 0
 1220              		@ frame_needed = 0, uses_anonymous_args = 0
 1221              		@ link register save eliminated.
 885:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t itpos = 0;
 1222              		.loc 1 885 3 view .LVU348
 886:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 887:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1223              		.loc 1 887 3 view .LVU349
 888:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_I2S_CLEAR_IT(SPI_I2S_IT));
 1224              		.loc 1 888 3 view .LVU350
 889:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 890:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the SPI IT index */
 891:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   itpos = 0x01 << (SPI_I2S_IT & 0x0F);
 1225              		.loc 1 891 3 view .LVU351
 892:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 893:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Clear the selected SPI CRC Error (CRCERR) interrupt pending bit */
 894:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->SR = (uint16_t)~itpos;
 1226              		.loc 1 894 3 view .LVU352
 891:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 1227              		.loc 1 891 16 is_stmt 0 view .LVU353
 1228 0000 0123     		movs	r3, #1
 891:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 1229              		.loc 1 891 31 view .LVU354
 1230 0002 01F00F01 		and	r1, r1, #15
 1231              	.LVL76:
 891:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 1232              		.loc 1 891 16 view .LVU355
 1233 0006 8B40     		lsls	r3, r3, r1
 1234              		.loc 1 894 14 view .LVU356
 1235 0008 DB43     		mvns	r3, r3
 1236 000a 9BB2     		uxth	r3, r3
 1237              		.loc 1 894 12 view .LVU357
 1238 000c 0381     		strh	r3, [r0, #8]	@ movhi
 895:../Drivers/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 1239              		.loc 1 895 1 view .LVU358
 1240 000e 7047     		bx	lr
 1241              		.cfi_endproc
 1242              	.LFE51:
 1244              		.text
 1245              	.Letext0:
 1246              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 1247              		.file 3 "../Drivers/CMSIS/CM3/CoreSupport/core_cm3.h"
ARM GAS  /tmp/ccZIeaUh.s 			page 39


 1248              		.file 4 "../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.h"
 1249              		.file 5 "../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/stm32f10x.h"
 1250              		.file 6 "../Drivers/STM32F10x_StdPeriph_Driver/inc/stm32f10x_rcc.h"
 1251              		.file 7 "../Drivers/STM32F10x_StdPeriph_Driver/inc/stm32f10x_spi.h"
ARM GAS  /tmp/ccZIeaUh.s 			page 40


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f10x_spi.c
     /tmp/ccZIeaUh.s:16     .text.SPI_I2S_DeInit:0000000000000000 $t
     /tmp/ccZIeaUh.s:25     .text.SPI_I2S_DeInit:0000000000000000 SPI_I2S_DeInit
     /tmp/ccZIeaUh.s:126    .text.SPI_I2S_DeInit:0000000000000060 $d
     /tmp/ccZIeaUh.s:133    .text.SPI_Init:0000000000000000 $t
     /tmp/ccZIeaUh.s:141    .text.SPI_Init:0000000000000000 SPI_Init
     /tmp/ccZIeaUh.s:227    .text.I2S_Init:0000000000000000 $t
     /tmp/ccZIeaUh.s:235    .text.I2S_Init:0000000000000000 I2S_Init
     /tmp/ccZIeaUh.s:424    .text.I2S_Init:00000000000000a4 $d
     /tmp/ccZIeaUh.s:429    .text.SPI_StructInit:0000000000000000 $t
     /tmp/ccZIeaUh.s:437    .text.SPI_StructInit:0000000000000000 SPI_StructInit
     /tmp/ccZIeaUh.s:472    .text.I2S_StructInit:0000000000000000 $t
     /tmp/ccZIeaUh.s:480    .text.I2S_StructInit:0000000000000000 I2S_StructInit
     /tmp/ccZIeaUh.s:510    .text.SPI_Cmd:0000000000000000 $t
     /tmp/ccZIeaUh.s:518    .text.SPI_Cmd:0000000000000000 SPI_Cmd
     /tmp/ccZIeaUh.s:552    .text.I2S_Cmd:0000000000000000 $t
     /tmp/ccZIeaUh.s:560    .text.I2S_Cmd:0000000000000000 I2S_Cmd
     /tmp/ccZIeaUh.s:594    .text.SPI_I2S_ITConfig:0000000000000000 $t
     /tmp/ccZIeaUh.s:602    .text.SPI_I2S_ITConfig:0000000000000000 SPI_I2S_ITConfig
     /tmp/ccZIeaUh.s:658    .text.SPI_I2S_DMACmd:0000000000000000 $t
     /tmp/ccZIeaUh.s:666    .text.SPI_I2S_DMACmd:0000000000000000 SPI_I2S_DMACmd
     /tmp/ccZIeaUh.s:704    .text.SPI_I2S_SendData:0000000000000000 $t
     /tmp/ccZIeaUh.s:712    .text.SPI_I2S_SendData:0000000000000000 SPI_I2S_SendData
     /tmp/ccZIeaUh.s:730    .text.SPI_I2S_ReceiveData:0000000000000000 $t
     /tmp/ccZIeaUh.s:738    .text.SPI_I2S_ReceiveData:0000000000000000 SPI_I2S_ReceiveData
     /tmp/ccZIeaUh.s:758    .text.SPI_NSSInternalSoftwareConfig:0000000000000000 $t
     /tmp/ccZIeaUh.s:766    .text.SPI_NSSInternalSoftwareConfig:0000000000000000 SPI_NSSInternalSoftwareConfig
     /tmp/ccZIeaUh.s:803    .text.SPI_SSOutputCmd:0000000000000000 $t
     /tmp/ccZIeaUh.s:811    .text.SPI_SSOutputCmd:0000000000000000 SPI_SSOutputCmd
     /tmp/ccZIeaUh.s:845    .text.SPI_DataSizeConfig:0000000000000000 $t
     /tmp/ccZIeaUh.s:853    .text.SPI_DataSizeConfig:0000000000000000 SPI_DataSizeConfig
     /tmp/ccZIeaUh.s:882    .text.SPI_TransmitCRC:0000000000000000 $t
     /tmp/ccZIeaUh.s:890    .text.SPI_TransmitCRC:0000000000000000 SPI_TransmitCRC
     /tmp/ccZIeaUh.s:911    .text.SPI_CalculateCRC:0000000000000000 $t
     /tmp/ccZIeaUh.s:919    .text.SPI_CalculateCRC:0000000000000000 SPI_CalculateCRC
     /tmp/ccZIeaUh.s:953    .text.SPI_GetCRC:0000000000000000 $t
     /tmp/ccZIeaUh.s:961    .text.SPI_GetCRC:0000000000000000 SPI_GetCRC
     /tmp/ccZIeaUh.s:992    .text.SPI_GetCRCPolynomial:0000000000000000 $t
     /tmp/ccZIeaUh.s:1000   .text.SPI_GetCRCPolynomial:0000000000000000 SPI_GetCRCPolynomial
     /tmp/ccZIeaUh.s:1020   .text.SPI_BiDirectionalLineConfig:0000000000000000 $t
     /tmp/ccZIeaUh.s:1028   .text.SPI_BiDirectionalLineConfig:0000000000000000 SPI_BiDirectionalLineConfig
     /tmp/ccZIeaUh.s:1064   .text.SPI_I2S_GetFlagStatus:0000000000000000 $t
     /tmp/ccZIeaUh.s:1072   .text.SPI_I2S_GetFlagStatus:0000000000000000 SPI_I2S_GetFlagStatus
     /tmp/ccZIeaUh.s:1101   .text.SPI_I2S_ClearFlag:0000000000000000 $t
     /tmp/ccZIeaUh.s:1109   .text.SPI_I2S_ClearFlag:0000000000000000 SPI_I2S_ClearFlag
     /tmp/ccZIeaUh.s:1133   .text.SPI_I2S_GetITStatus:0000000000000000 $t
     /tmp/ccZIeaUh.s:1141   .text.SPI_I2S_GetITStatus:0000000000000000 SPI_I2S_GetITStatus
     /tmp/ccZIeaUh.s:1206   .text.SPI_I2S_ClearITPendingBit:0000000000000000 $t
     /tmp/ccZIeaUh.s:1214   .text.SPI_I2S_ClearITPendingBit:0000000000000000 SPI_I2S_ClearITPendingBit

UNDEFINED SYMBOLS
RCC_APB2PeriphResetCmd
RCC_APB1PeriphResetCmd
RCC_GetClocksFreq
