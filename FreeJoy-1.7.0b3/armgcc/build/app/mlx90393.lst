ARM GAS  /tmp/ccEyeU0G.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 2
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"mlx90393.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.MLX90393_NOP,"ax",%progbits
  16              		.align	1
  17              		.p2align 2,,3
  18              		.global	MLX90393_NOP
  19              		.arch armv7-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu softvfp
  25              	MLX90393_NOP:
  26              	.LVL0:
  27              	.LFB29:
  28              		.file 1 "../application/Src/mlx90393.c"
   1:../application/Src/mlx90393.c **** /**
   2:../application/Src/mlx90393.c ****   ******************************************************************************
   3:../application/Src/mlx90393.c ****   * @file           : mlx90393.c
   4:../application/Src/mlx90393.c ****   * @brief          : MLX90393 sensors driver implementation
   5:../application/Src/mlx90393.c **** 			
   6:../application/Src/mlx90393.c **** 		FreeJoy software for game device controllers
   7:../application/Src/mlx90393.c ****     Copyright (C) 2020  Yury Vostrenkov (yuvostrenkov@gmail.com)
   8:../application/Src/mlx90393.c **** 
   9:../application/Src/mlx90393.c ****     This program is free software: you can redistribute it and/or modify
  10:../application/Src/mlx90393.c ****     it under the terms of the GNU General Public License as published by
  11:../application/Src/mlx90393.c ****     the Free Software Foundation, either version 3 of the License, or
  12:../application/Src/mlx90393.c ****     (at your option) any later version.
  13:../application/Src/mlx90393.c **** 
  14:../application/Src/mlx90393.c ****     This program is distributed in the hope that it will be useful,
  15:../application/Src/mlx90393.c ****     but WITHOUT ANY WARRANTY; without even the implied warranty of
  16:../application/Src/mlx90393.c ****     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  17:../application/Src/mlx90393.c ****     GNU General Public License for more details.
  18:../application/Src/mlx90393.c **** 
  19:../application/Src/mlx90393.c ****     You should have received a copy of the GNU General Public License
  20:../application/Src/mlx90393.c ****     along with this program.  If not, see <https://www.gnu.org/licenses/>.
  21:../application/Src/mlx90393.c **** 		
  22:../application/Src/mlx90393.c ****   ******************************************************************************
  23:../application/Src/mlx90393.c ****   */
  24:../application/Src/mlx90393.c **** 
  25:../application/Src/mlx90393.c **** #include "mlx90393.h"
  26:../application/Src/mlx90393.c **** #include <math.h>
  27:../application/Src/mlx90393.c **** 
  28:../application/Src/mlx90393.c **** /**
  29:../application/Src/mlx90393.c ****   * @brief MLX90393 NOP
  30:../application/Src/mlx90393.c ****   * @param in_data: Buffer for incoming data
ARM GAS  /tmp/ccEyeU0G.s 			page 2


  31:../application/Src/mlx90393.c ****   * @retval None
  32:../application/Src/mlx90393.c ****   */
  33:../application/Src/mlx90393.c **** void MLX90393_NOP(uint8_t mode, uint8_t * in_data)
  34:../application/Src/mlx90393.c **** {
  29              		.loc 1 34 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 8
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  35:../application/Src/mlx90393.c **** 	uint8_t tmp_buf[1];
  33              		.loc 1 35 2 view .LVU1
  36:../application/Src/mlx90393.c **** 	
  37:../application/Src/mlx90393.c **** 	tmp_buf[0] = 0x00;
  34              		.loc 1 37 2 view .LVU2
  35              		.loc 1 37 13 is_stmt 0 view .LVU3
  36 0000 0023     		movs	r3, #0
  34:../application/Src/mlx90393.c **** 	uint8_t tmp_buf[1];
  37              		.loc 1 34 1 view .LVU4
  38 0002 00B5     		push	{lr}
  39              	.LCFI0:
  40              		.cfi_def_cfa_offset 4
  41              		.cfi_offset 14, -4
  42 0004 83B0     		sub	sp, sp, #12
  43              	.LCFI1:
  44              		.cfi_def_cfa_offset 16
  45              		.loc 1 37 13 view .LVU5
  46 0006 8DF80430 		strb	r3, [sp, #4]
  38:../application/Src/mlx90393.c **** 	
  39:../application/Src/mlx90393.c **** 	if (mode == MLX_SPI)
  47              		.loc 1 39 2 is_stmt 1 view .LVU6
  48              		.loc 1 39 5 is_stmt 0 view .LVU7
  49 000a 10B1     		cbz	r0, .L5
  40:../application/Src/mlx90393.c **** 	{
  41:../application/Src/mlx90393.c **** 		SPI_FullDuplex_TransmitReceive(tmp_buf, in_data, 1, MLX90393_SPI_MODE);
  42:../application/Src/mlx90393.c **** 	}
  43:../application/Src/mlx90393.c **** 	else if (mode == MLX_I2C)
  44:../application/Src/mlx90393.c **** 	{
  45:../application/Src/mlx90393.c **** 		
  46:../application/Src/mlx90393.c **** 	}
  47:../application/Src/mlx90393.c **** }
  50              		.loc 1 47 1 view .LVU8
  51 000c 03B0     		add	sp, sp, #12
  52              	.LCFI2:
  53              		.cfi_remember_state
  54              		.cfi_def_cfa_offset 4
  55              		@ sp needed
  56 000e 5DF804FB 		ldr	pc, [sp], #4
  57              	.L5:
  58              	.LCFI3:
  59              		.cfi_restore_state
  41:../application/Src/mlx90393.c **** 	}
  60              		.loc 1 41 3 is_stmt 1 view .LVU9
  61 0012 0323     		movs	r3, #3
  62 0014 0122     		movs	r2, #1
  63 0016 01A8     		add	r0, sp, #4
  64              	.LVL1:
  41:../application/Src/mlx90393.c **** 	}
  65              		.loc 1 41 3 is_stmt 0 view .LVU10
ARM GAS  /tmp/ccEyeU0G.s 			page 3


  66 0018 FFF7FEFF 		bl	SPI_FullDuplex_TransmitReceive
  67              	.LVL2:
  46:../application/Src/mlx90393.c **** }
  68              		.loc 1 46 2 is_stmt 1 view .LVU11
  69              		.loc 1 47 1 is_stmt 0 view .LVU12
  70 001c 03B0     		add	sp, sp, #12
  71              	.LCFI4:
  72              		.cfi_def_cfa_offset 4
  73              		@ sp needed
  74 001e 5DF804FB 		ldr	pc, [sp], #4
  75              		.cfi_endproc
  76              	.LFE29:
  78 0022 00BF     		.section	.text.MLX90393_Reset,"ax",%progbits
  79              		.align	1
  80              		.p2align 2,,3
  81              		.global	MLX90393_Reset
  82              		.syntax unified
  83              		.thumb
  84              		.thumb_func
  85              		.fpu softvfp
  87              	MLX90393_Reset:
  88              	.LVL3:
  89              	.LFB30:
  48:../application/Src/mlx90393.c **** 
  49:../application/Src/mlx90393.c **** /**
  50:../application/Src/mlx90393.c ****   * @brief MLX90393 warm reset function
  51:../application/Src/mlx90393.c ****   * @param in_data: Buffer for incoming data
  52:../application/Src/mlx90393.c ****   * @retval None
  53:../application/Src/mlx90393.c ****   */
  54:../application/Src/mlx90393.c **** void MLX90393_Reset(uint8_t mode, uint8_t * in_data)
  55:../application/Src/mlx90393.c **** {
  90              		.loc 1 55 1 is_stmt 1 view -0
  91              		.cfi_startproc
  92              		@ args = 0, pretend = 0, frame = 8
  93              		@ frame_needed = 0, uses_anonymous_args = 0
  56:../application/Src/mlx90393.c **** 	uint8_t tmp_buf[1];
  94              		.loc 1 56 2 view .LVU14
  57:../application/Src/mlx90393.c **** 	
  58:../application/Src/mlx90393.c **** 	tmp_buf[0] = 0xF0;
  95              		.loc 1 58 2 view .LVU15
  96              		.loc 1 58 13 is_stmt 0 view .LVU16
  97 0000 F023     		movs	r3, #240
  55:../application/Src/mlx90393.c **** 	uint8_t tmp_buf[1];
  98              		.loc 1 55 1 view .LVU17
  99 0002 00B5     		push	{lr}
 100              	.LCFI5:
 101              		.cfi_def_cfa_offset 4
 102              		.cfi_offset 14, -4
 103 0004 83B0     		sub	sp, sp, #12
 104              	.LCFI6:
 105              		.cfi_def_cfa_offset 16
 106              		.loc 1 58 13 view .LVU18
 107 0006 8DF80430 		strb	r3, [sp, #4]
  59:../application/Src/mlx90393.c **** 
  60:../application/Src/mlx90393.c **** 	if (mode == MLX_SPI)
 108              		.loc 1 60 2 is_stmt 1 view .LVU19
 109              		.loc 1 60 5 is_stmt 0 view .LVU20
ARM GAS  /tmp/ccEyeU0G.s 			page 4


 110 000a 10B1     		cbz	r0, .L9
  61:../application/Src/mlx90393.c **** 	{
  62:../application/Src/mlx90393.c **** 		SPI_FullDuplex_TransmitReceive(tmp_buf, in_data, 1, MLX90393_SPI_MODE);
  63:../application/Src/mlx90393.c **** 	}
  64:../application/Src/mlx90393.c **** 	else if (mode == MLX_I2C)
  65:../application/Src/mlx90393.c **** 	{
  66:../application/Src/mlx90393.c **** 		
  67:../application/Src/mlx90393.c **** 	}
  68:../application/Src/mlx90393.c **** }
 111              		.loc 1 68 1 view .LVU21
 112 000c 03B0     		add	sp, sp, #12
 113              	.LCFI7:
 114              		.cfi_remember_state
 115              		.cfi_def_cfa_offset 4
 116              		@ sp needed
 117 000e 5DF804FB 		ldr	pc, [sp], #4
 118              	.L9:
 119              	.LCFI8:
 120              		.cfi_restore_state
  62:../application/Src/mlx90393.c **** 	}
 121              		.loc 1 62 3 is_stmt 1 view .LVU22
 122 0012 0323     		movs	r3, #3
 123 0014 0122     		movs	r2, #1
 124 0016 01A8     		add	r0, sp, #4
 125              	.LVL4:
  62:../application/Src/mlx90393.c **** 	}
 126              		.loc 1 62 3 is_stmt 0 view .LVU23
 127 0018 FFF7FEFF 		bl	SPI_FullDuplex_TransmitReceive
 128              	.LVL5:
  67:../application/Src/mlx90393.c **** }
 129              		.loc 1 67 2 is_stmt 1 view .LVU24
 130              		.loc 1 68 1 is_stmt 0 view .LVU25
 131 001c 03B0     		add	sp, sp, #12
 132              	.LCFI9:
 133              		.cfi_def_cfa_offset 4
 134              		@ sp needed
 135 001e 5DF804FB 		ldr	pc, [sp], #4
 136              		.cfi_endproc
 137              	.LFE30:
 139 0022 00BF     		.section	.text.MLX90393_WriteCommand,"ax",%progbits
 140              		.align	1
 141              		.p2align 2,,3
 142              		.global	MLX90393_WriteCommand
 143              		.syntax unified
 144              		.thumb
 145              		.thumb_func
 146              		.fpu softvfp
 148              	MLX90393_WriteCommand:
 149              	.LVL6:
 150              	.LFB31:
  69:../application/Src/mlx90393.c **** 
  70:../application/Src/mlx90393.c **** /**
  71:../application/Src/mlx90393.c ****   * @brief MLX90393 SPI Write command Function
  72:../application/Src/mlx90393.c ****   * @param command: Command to write
  73:../application/Src/mlx90393.c ****   * @param in_data: Buffer for incoming data
  74:../application/Src/mlx90393.c ****   * @retval None
  75:../application/Src/mlx90393.c ****   */
ARM GAS  /tmp/ccEyeU0G.s 			page 5


  76:../application/Src/mlx90393.c **** void MLX90393_WriteCommand(uint8_t mode, uint8_t command, uint8_t * in_data)
  77:../application/Src/mlx90393.c **** {
 151              		.loc 1 77 1 is_stmt 1 view -0
 152              		.cfi_startproc
 153              		@ args = 0, pretend = 0, frame = 8
 154              		@ frame_needed = 0, uses_anonymous_args = 0
  78:../application/Src/mlx90393.c **** 	uint8_t tmp_buf[2];
 155              		.loc 1 78 2 view .LVU27
  79:../application/Src/mlx90393.c **** 	
  80:../application/Src/mlx90393.c **** 	tmp_buf[0] = command;
 156              		.loc 1 80 2 view .LVU28
  81:../application/Src/mlx90393.c **** 	tmp_buf[1] = 0;
 157              		.loc 1 81 13 is_stmt 0 view .LVU29
 158 0000 0023     		movs	r3, #0
  77:../application/Src/mlx90393.c **** 	uint8_t tmp_buf[2];
 159              		.loc 1 77 1 view .LVU30
 160 0002 00B5     		push	{lr}
 161              	.LCFI10:
 162              		.cfi_def_cfa_offset 4
 163              		.cfi_offset 14, -4
 164 0004 83B0     		sub	sp, sp, #12
 165              	.LCFI11:
 166              		.cfi_def_cfa_offset 16
  80:../application/Src/mlx90393.c **** 	tmp_buf[1] = 0;
 167              		.loc 1 80 13 view .LVU31
 168 0006 8DF80410 		strb	r1, [sp, #4]
 169              		.loc 1 81 2 is_stmt 1 view .LVU32
 170              		.loc 1 81 13 is_stmt 0 view .LVU33
 171 000a 8DF80530 		strb	r3, [sp, #5]
  82:../application/Src/mlx90393.c **** 	
  83:../application/Src/mlx90393.c **** 	if (mode == MLX_SPI)
 172              		.loc 1 83 2 is_stmt 1 view .LVU34
 173              		.loc 1 83 5 is_stmt 0 view .LVU35
 174 000e 10B1     		cbz	r0, .L13
  84:../application/Src/mlx90393.c **** 	{
  85:../application/Src/mlx90393.c **** 		SPI_FullDuplex_TransmitReceive(tmp_buf, in_data, 2, MLX90393_SPI_MODE);
  86:../application/Src/mlx90393.c **** 	}
  87:../application/Src/mlx90393.c **** 	else if (mode == MLX_I2C)
  88:../application/Src/mlx90393.c **** 	{
  89:../application/Src/mlx90393.c **** 		
  90:../application/Src/mlx90393.c **** 	}
  91:../application/Src/mlx90393.c **** }
 175              		.loc 1 91 1 view .LVU36
 176 0010 03B0     		add	sp, sp, #12
 177              	.LCFI12:
 178              		.cfi_remember_state
 179              		.cfi_def_cfa_offset 4
 180              		@ sp needed
 181 0012 5DF804FB 		ldr	pc, [sp], #4
 182              	.L13:
 183              	.LCFI13:
 184              		.cfi_restore_state
  85:../application/Src/mlx90393.c **** 	}
 185              		.loc 1 85 3 is_stmt 1 view .LVU37
 186 0016 1146     		mov	r1, r2
 187              	.LVL7:
  85:../application/Src/mlx90393.c **** 	}
ARM GAS  /tmp/ccEyeU0G.s 			page 6


 188              		.loc 1 85 3 is_stmt 0 view .LVU38
 189 0018 0323     		movs	r3, #3
 190 001a 0222     		movs	r2, #2
 191              	.LVL8:
  85:../application/Src/mlx90393.c **** 	}
 192              		.loc 1 85 3 view .LVU39
 193 001c 01A8     		add	r0, sp, #4
 194              	.LVL9:
  85:../application/Src/mlx90393.c **** 	}
 195              		.loc 1 85 3 view .LVU40
 196 001e FFF7FEFF 		bl	SPI_FullDuplex_TransmitReceive
 197              	.LVL10:
  90:../application/Src/mlx90393.c **** }
 198              		.loc 1 90 2 is_stmt 1 view .LVU41
 199              		.loc 1 91 1 is_stmt 0 view .LVU42
 200 0022 03B0     		add	sp, sp, #12
 201              	.LCFI14:
 202              		.cfi_def_cfa_offset 4
 203              		@ sp needed
 204 0024 5DF804FB 		ldr	pc, [sp], #4
 205              		.cfi_endproc
 206              	.LFE31:
 208              		.section	.text.MLX90393_WriteRegister,"ax",%progbits
 209              		.align	1
 210              		.p2align 2,,3
 211              		.global	MLX90393_WriteRegister
 212              		.syntax unified
 213              		.thumb
 214              		.thumb_func
 215              		.fpu softvfp
 217              	MLX90393_WriteRegister:
 218              	.LVL11:
 219              	.LFB32:
  92:../application/Src/mlx90393.c **** 
  93:../application/Src/mlx90393.c **** /**
  94:../application/Src/mlx90393.c ****   * @brief MLX90393 SPI Write register Function
  95:../application/Src/mlx90393.c ****   * @param data: Content of register
  96:../application/Src/mlx90393.c ****   * @param addr: Register address
  97:../application/Src/mlx90393.c ****   * @param in_data: Buffer for incoming data
  98:../application/Src/mlx90393.c ****   * @retval None
  99:../application/Src/mlx90393.c ****   */
 100:../application/Src/mlx90393.c **** void MLX90393_WriteRegister(uint8_t mode, uint16_t data,  uint8_t addr , uint8_t * in_data)
 101:../application/Src/mlx90393.c **** {
 220              		.loc 1 101 1 is_stmt 1 view -0
 221              		.cfi_startproc
 222              		@ args = 0, pretend = 0, frame = 8
 223              		@ frame_needed = 0, uses_anonymous_args = 0
 102:../application/Src/mlx90393.c **** 	uint8_t tmp_buf[5];
 224              		.loc 1 102 2 view .LVU44
 103:../application/Src/mlx90393.c **** 	
 104:../application/Src/mlx90393.c **** 	tmp_buf[0] = 0x60;								// Write Register command	
 225              		.loc 1 104 2 view .LVU45
 101:../application/Src/mlx90393.c **** 	uint8_t tmp_buf[5];
 226              		.loc 1 101 1 is_stmt 0 view .LVU46
 227 0000 70B5     		push	{r4, r5, r6, lr}
 228              	.LCFI15:
 229              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/ccEyeU0G.s 			page 7


 230              		.cfi_offset 4, -16
 231              		.cfi_offset 5, -12
 232              		.cfi_offset 6, -8
 233              		.cfi_offset 14, -4
 234              		.loc 1 104 13 view .LVU47
 235 0002 6026     		movs	r6, #96
 105:../application/Src/mlx90393.c **** 	tmp_buf[1] = data >> 8;						// MSB
 106:../application/Src/mlx90393.c **** 	tmp_buf[2] = data & 0xFF;					// LSB
 107:../application/Src/mlx90393.c **** 	tmp_buf[3] = addr<<2;							// Register address	
 108:../application/Src/mlx90393.c **** 	tmp_buf[4] = 0;										// Status
 236              		.loc 1 108 13 view .LVU48
 237 0004 0025     		movs	r5, #0
 101:../application/Src/mlx90393.c **** 	uint8_t tmp_buf[5];
 238              		.loc 1 101 1 view .LVU49
 239 0006 82B0     		sub	sp, sp, #8
 240              	.LCFI16:
 241              		.cfi_def_cfa_offset 24
 107:../application/Src/mlx90393.c **** 	tmp_buf[4] = 0;										// Status
 242              		.loc 1 107 19 view .LVU50
 243 0008 9200     		lsls	r2, r2, #2
 244              	.LVL12:
 105:../application/Src/mlx90393.c **** 	tmp_buf[1] = data >> 8;						// MSB
 245              		.loc 1 105 13 view .LVU51
 246 000a 0C0A     		lsrs	r4, r1, #8
 106:../application/Src/mlx90393.c **** 	tmp_buf[3] = addr<<2;							// Register address	
 247              		.loc 1 106 13 view .LVU52
 248 000c 8DF80210 		strb	r1, [sp, #2]
 105:../application/Src/mlx90393.c **** 	tmp_buf[1] = data >> 8;						// MSB
 249              		.loc 1 105 13 view .LVU53
 250 0010 8DF80140 		strb	r4, [sp, #1]
 107:../application/Src/mlx90393.c **** 	tmp_buf[4] = 0;										// Status
 251              		.loc 1 107 13 view .LVU54
 252 0014 8DF80320 		strb	r2, [sp, #3]
 104:../application/Src/mlx90393.c **** 	tmp_buf[1] = data >> 8;						// MSB
 253              		.loc 1 104 13 view .LVU55
 254 0018 8DF80060 		strb	r6, [sp]
 105:../application/Src/mlx90393.c **** 	tmp_buf[2] = data & 0xFF;					// LSB
 255              		.loc 1 105 2 is_stmt 1 view .LVU56
 106:../application/Src/mlx90393.c **** 	tmp_buf[3] = addr<<2;							// Register address	
 256              		.loc 1 106 2 view .LVU57
 107:../application/Src/mlx90393.c **** 	tmp_buf[4] = 0;										// Status
 257              		.loc 1 107 2 view .LVU58
 258              		.loc 1 108 2 view .LVU59
 259              		.loc 1 108 13 is_stmt 0 view .LVU60
 260 001c 8DF80450 		strb	r5, [sp, #4]
 109:../application/Src/mlx90393.c **** 	
 110:../application/Src/mlx90393.c **** 	if (mode == MLX_SPI)
 261              		.loc 1 110 2 is_stmt 1 view .LVU61
 262              		.loc 1 110 5 is_stmt 0 view .LVU62
 263 0020 08B1     		cbz	r0, .L17
 111:../application/Src/mlx90393.c **** 	{
 112:../application/Src/mlx90393.c **** 		SPI_FullDuplex_TransmitReceive(tmp_buf, in_data, 5, MLX90393_SPI_MODE);
 113:../application/Src/mlx90393.c **** 	}
 114:../application/Src/mlx90393.c **** 	else if (mode == MLX_I2C)
 115:../application/Src/mlx90393.c **** 	{
 116:../application/Src/mlx90393.c **** 		
 117:../application/Src/mlx90393.c **** 	}
ARM GAS  /tmp/ccEyeU0G.s 			page 8


 118:../application/Src/mlx90393.c **** }
 264              		.loc 1 118 1 view .LVU63
 265 0022 02B0     		add	sp, sp, #8
 266              	.LCFI17:
 267              		.cfi_remember_state
 268              		.cfi_def_cfa_offset 16
 269              		@ sp needed
 270 0024 70BD     		pop	{r4, r5, r6, pc}
 271              	.L17:
 272              	.LCFI18:
 273              		.cfi_restore_state
 112:../application/Src/mlx90393.c **** 	}
 274              		.loc 1 112 3 is_stmt 1 view .LVU64
 275 0026 1946     		mov	r1, r3
 276              	.LVL13:
 112:../application/Src/mlx90393.c **** 	}
 277              		.loc 1 112 3 is_stmt 0 view .LVU65
 278 0028 0522     		movs	r2, #5
 279 002a 0323     		movs	r3, #3
 280              	.LVL14:
 112:../application/Src/mlx90393.c **** 	}
 281              		.loc 1 112 3 view .LVU66
 282 002c 6846     		mov	r0, sp
 283              	.LVL15:
 112:../application/Src/mlx90393.c **** 	}
 284              		.loc 1 112 3 view .LVU67
 285 002e FFF7FEFF 		bl	SPI_FullDuplex_TransmitReceive
 286              	.LVL16:
 117:../application/Src/mlx90393.c **** }
 287              		.loc 1 117 2 is_stmt 1 view .LVU68
 288              		.loc 1 118 1 is_stmt 0 view .LVU69
 289 0032 02B0     		add	sp, sp, #8
 290              	.LCFI19:
 291              		.cfi_def_cfa_offset 16
 292              		@ sp needed
 293 0034 70BD     		pop	{r4, r5, r6, pc}
 294              		.cfi_endproc
 295              	.LFE32:
 297 0036 00BF     		.section	.text.MLX90393_ReadRegister,"ax",%progbits
 298              		.align	1
 299              		.p2align 2,,3
 300              		.global	MLX90393_ReadRegister
 301              		.syntax unified
 302              		.thumb
 303              		.thumb_func
 304              		.fpu softvfp
 306              	MLX90393_ReadRegister:
 307              	.LVL17:
 308              	.LFB33:
 119:../application/Src/mlx90393.c **** 
 120:../application/Src/mlx90393.c **** /**
 121:../application/Src/mlx90393.c ****   * @brief MLX90393 SPI Read register Function
 122:../application/Src/mlx90393.c ****   * @param data: Content of register
 123:../application/Src/mlx90393.c ****   * @param addr: Register address
 124:../application/Src/mlx90393.c ****   * @param in_data: Buffer for incoming data
 125:../application/Src/mlx90393.c ****   * @retval None
 126:../application/Src/mlx90393.c ****   */
ARM GAS  /tmp/ccEyeU0G.s 			page 9


 127:../application/Src/mlx90393.c **** void MLX90393_ReadRegister(uint8_t mode, uint8_t addr , uint8_t * in_data)
 128:../application/Src/mlx90393.c **** {
 309              		.loc 1 128 1 is_stmt 1 view -0
 310              		.cfi_startproc
 311              		@ args = 0, pretend = 0, frame = 8
 312              		@ frame_needed = 0, uses_anonymous_args = 0
 129:../application/Src/mlx90393.c **** 	uint8_t tmp_buf[5];
 313              		.loc 1 129 2 view .LVU71
 130:../application/Src/mlx90393.c **** 	
 131:../application/Src/mlx90393.c **** 	tmp_buf[0] = 0x50;								// Write Register command	
 314              		.loc 1 131 2 view .LVU72
 128:../application/Src/mlx90393.c **** 	uint8_t tmp_buf[5];
 315              		.loc 1 128 1 is_stmt 0 view .LVU73
 316 0000 30B5     		push	{r4, r5, lr}
 317              	.LCFI20:
 318              		.cfi_def_cfa_offset 12
 319              		.cfi_offset 4, -12
 320              		.cfi_offset 5, -8
 321              		.cfi_offset 14, -4
 132:../application/Src/mlx90393.c **** 	tmp_buf[1] = addr<<2;							// Register address	
 133:../application/Src/mlx90393.c **** 	tmp_buf[2] = 0;										// Status
 322              		.loc 1 133 13 view .LVU74
 323 0002 0024     		movs	r4, #0
 131:../application/Src/mlx90393.c **** 	tmp_buf[1] = addr<<2;							// Register address	
 324              		.loc 1 131 13 view .LVU75
 325 0004 5025     		movs	r5, #80
 128:../application/Src/mlx90393.c **** 	uint8_t tmp_buf[5];
 326              		.loc 1 128 1 view .LVU76
 327 0006 83B0     		sub	sp, sp, #12
 328              	.LCFI21:
 329              		.cfi_def_cfa_offset 24
 132:../application/Src/mlx90393.c **** 	tmp_buf[1] = addr<<2;							// Register address	
 330              		.loc 1 132 19 view .LVU77
 331 0008 8B00     		lsls	r3, r1, #2
 132:../application/Src/mlx90393.c **** 	tmp_buf[1] = addr<<2;							// Register address	
 332              		.loc 1 132 13 view .LVU78
 333 000a 8DF80130 		strb	r3, [sp, #1]
 131:../application/Src/mlx90393.c **** 	tmp_buf[1] = addr<<2;							// Register address	
 334              		.loc 1 131 13 view .LVU79
 335 000e 8DF80050 		strb	r5, [sp]
 132:../application/Src/mlx90393.c **** 	tmp_buf[1] = addr<<2;							// Register address	
 336              		.loc 1 132 2 is_stmt 1 view .LVU80
 337              		.loc 1 133 2 view .LVU81
 134:../application/Src/mlx90393.c **** 	tmp_buf[3] = 0;										// MSB
 338              		.loc 1 134 2 view .LVU82
 135:../application/Src/mlx90393.c **** 	tmp_buf[4] = 0;										// LSB
 339              		.loc 1 135 2 view .LVU83
 133:../application/Src/mlx90393.c **** 	tmp_buf[3] = 0;										// MSB
 340              		.loc 1 133 13 is_stmt 0 view .LVU84
 341 0012 ADF80240 		strh	r4, [sp, #2]	@ movhi
 342              		.loc 1 135 13 view .LVU85
 343 0016 8DF80440 		strb	r4, [sp, #4]
 136:../application/Src/mlx90393.c **** 	
 137:../application/Src/mlx90393.c **** 	if (mode == MLX_SPI)
 344              		.loc 1 137 2 is_stmt 1 view .LVU86
 345              		.loc 1 137 5 is_stmt 0 view .LVU87
 346 001a 08B1     		cbz	r0, .L21
ARM GAS  /tmp/ccEyeU0G.s 			page 10


 138:../application/Src/mlx90393.c **** 	{
 139:../application/Src/mlx90393.c **** 		SPI_FullDuplex_TransmitReceive(tmp_buf, in_data, 5, MLX90393_SPI_MODE);
 140:../application/Src/mlx90393.c **** 	}
 141:../application/Src/mlx90393.c **** 	else if (mode == MLX_I2C)
 142:../application/Src/mlx90393.c **** 	{
 143:../application/Src/mlx90393.c **** 		
 144:../application/Src/mlx90393.c **** 	}
 145:../application/Src/mlx90393.c **** }
 347              		.loc 1 145 1 view .LVU88
 348 001c 03B0     		add	sp, sp, #12
 349              	.LCFI22:
 350              		.cfi_remember_state
 351              		.cfi_def_cfa_offset 12
 352              		@ sp needed
 353 001e 30BD     		pop	{r4, r5, pc}
 354              	.L21:
 355              	.LCFI23:
 356              		.cfi_restore_state
 139:../application/Src/mlx90393.c **** 	}
 357              		.loc 1 139 3 is_stmt 1 view .LVU89
 358 0020 1146     		mov	r1, r2
 359              	.LVL18:
 139:../application/Src/mlx90393.c **** 	}
 360              		.loc 1 139 3 is_stmt 0 view .LVU90
 361 0022 0323     		movs	r3, #3
 362 0024 0522     		movs	r2, #5
 363              	.LVL19:
 139:../application/Src/mlx90393.c **** 	}
 364              		.loc 1 139 3 view .LVU91
 365 0026 6846     		mov	r0, sp
 366              	.LVL20:
 139:../application/Src/mlx90393.c **** 	}
 367              		.loc 1 139 3 view .LVU92
 368 0028 FFF7FEFF 		bl	SPI_FullDuplex_TransmitReceive
 369              	.LVL21:
 144:../application/Src/mlx90393.c **** }
 370              		.loc 1 144 2 is_stmt 1 view .LVU93
 371              		.loc 1 145 1 is_stmt 0 view .LVU94
 372 002c 03B0     		add	sp, sp, #12
 373              	.LCFI24:
 374              		.cfi_def_cfa_offset 12
 375              		@ sp needed
 376 002e 30BD     		pop	{r4, r5, pc}
 377              		.cfi_endproc
 378              	.LFE33:
 380              		.section	.text.MLX90393_Start,"ax",%progbits
 381              		.align	1
 382              		.p2align 2,,3
 383              		.global	MLX90393_Start
 384              		.syntax unified
 385              		.thumb
 386              		.thumb_func
 387              		.fpu softvfp
 389              	MLX90393_Start:
 390              	.LVL22:
 391              	.LFB34:
 146:../application/Src/mlx90393.c **** 
ARM GAS  /tmp/ccEyeU0G.s 			page 11


 147:../application/Src/mlx90393.c **** /**
 148:../application/Src/mlx90393.c ****   * @brief MLX90393 start burst operation command
 149:../application/Src/mlx90393.c ****   * @param sensor: Sensor struct
 150:../application/Src/mlx90393.c ****   * @retval None
 151:../application/Src/mlx90393.c ****   */
 152:../application/Src/mlx90393.c **** void MLX90393_Start(uint8_t mode, sensor_t * sensor)
 153:../application/Src/mlx90393.c **** {
 392              		.loc 1 153 1 is_stmt 1 view -0
 393              		.cfi_startproc
 394              		@ args = 0, pretend = 0, frame = 24
 395              		@ frame_needed = 0, uses_anonymous_args = 0
 154:../application/Src/mlx90393.c **** 	uint8_t rx_buf[5];
 396              		.loc 1 154 2 view .LVU96
 155:../application/Src/mlx90393.c **** 	uint16_t tmp_data;
 397              		.loc 1 155 2 view .LVU97
 156:../application/Src/mlx90393.c **** 	
 157:../application/Src/mlx90393.c **** 	// Configure MOSI as open drain
 158:../application/Src/mlx90393.c **** 	GPIO_InitTypeDef GPIO_InitStructure;
 398              		.loc 1 158 2 view .LVU98
 159:../application/Src/mlx90393.c **** 	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 399              		.loc 1 159 2 view .LVU99
 160:../application/Src/mlx90393.c **** 	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_5;
 400              		.loc 1 160 2 view .LVU100
 161:../application/Src/mlx90393.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD;
 401              		.loc 1 161 2 view .LVU101
 153:../application/Src/mlx90393.c **** 	uint8_t rx_buf[5];
 402              		.loc 1 153 1 is_stmt 0 view .LVU102
 403 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 404              	.LCFI25:
 405              		.cfi_def_cfa_offset 20
 406              		.cfi_offset 4, -20
 407              		.cfi_offset 5, -16
 408              		.cfi_offset 6, -12
 409              		.cfi_offset 7, -8
 410              		.cfi_offset 14, -4
 411 0002 0D46     		mov	r5, r1
 412 0004 87B0     		sub	sp, sp, #28
 413              	.LCFI26:
 414              		.cfi_def_cfa_offset 48
 160:../application/Src/mlx90393.c **** 	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_5;
 415              		.loc 1 160 30 view .LVU103
 416 0006 CA4B     		ldr	r3, .L42
 162:../application/Src/mlx90393.c **** 	GPIO_Init (GPIOB,&GPIO_InitStructure);
 417              		.loc 1 162 2 view .LVU104
 418 0008 01A9     		add	r1, sp, #4
 419              	.LVL23:
 153:../application/Src/mlx90393.c **** 	uint8_t rx_buf[5];
 420              		.loc 1 153 1 view .LVU105
 421 000a 0646     		mov	r6, r0
 422              		.loc 1 162 2 view .LVU106
 423 000c C948     		ldr	r0, .L42+4
 424              	.LVL24:
 160:../application/Src/mlx90393.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD;
 425              		.loc 1 160 30 view .LVU107
 426 000e 0193     		str	r3, [sp, #4]
 427              		.loc 1 162 2 is_stmt 1 view .LVU108
 428 0010 FFF7FEFF 		bl	GPIO_Init
ARM GAS  /tmp/ccEyeU0G.s 			page 12


 429              	.LVL25:
 163:../application/Src/mlx90393.c **** 	
 164:../application/Src/mlx90393.c **** 	// Exit
 165:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR &= ~pin_config[sensor->source].pin;
 430              		.loc 1 165 2 view .LVU109
 431              	.LBB26:
 432              	.LBB27:
  80:../application/Src/mlx90393.c **** 	tmp_buf[1] = 0;
 433              		.loc 1 80 13 is_stmt 0 view .LVU110
 434 0014 8021     		movs	r1, #128
 435              	.LBE27:
 436              	.LBE26:
 437              		.loc 1 165 19 view .LVU111
 438 0016 95F90B30 		ldrsb	r3, [r5, #11]
 439              		.loc 1 165 28 view .LVU112
 440 001a C74C     		ldr	r4, .L42+8
 441 001c 54F83320 		ldr	r2, [r4, r3, lsl #3]
 442              		.loc 1 165 69 view .LVU113
 443 0020 04EBC303 		add	r3, r4, r3, lsl #3
 444 0024 9888     		ldrh	r0, [r3, #4]
 445              		.loc 1 165 39 view .LVU114
 446 0026 D368     		ldr	r3, [r2, #12]
 447 0028 23EA0003 		bic	r3, r3, r0
 448 002c D360     		str	r3, [r2, #12]
 166:../application/Src/mlx90393.c **** 	MLX90393_WriteCommand(mode, MLX_EXIT, rx_buf);							
 449              		.loc 1 166 2 is_stmt 1 view .LVU115
 450              	.LVL26:
 451              	.LBB30:
 452              	.LBI26:
  76:../application/Src/mlx90393.c **** {
 453              		.loc 1 76 6 view .LVU116
 454              	.LBB28:
  78:../application/Src/mlx90393.c **** 	
 455              		.loc 1 78 2 view .LVU117
  80:../application/Src/mlx90393.c **** 	tmp_buf[1] = 0;
 456              		.loc 1 80 2 view .LVU118
  81:../application/Src/mlx90393.c **** 	
 457              		.loc 1 81 2 view .LVU119
  80:../application/Src/mlx90393.c **** 	tmp_buf[1] = 0;
 458              		.loc 1 80 13 is_stmt 0 view .LVU120
 459 002e ADF81010 		strh	r1, [sp, #16]	@ movhi
  83:../application/Src/mlx90393.c **** 	{
 460              		.loc 1 83 2 is_stmt 1 view .LVU121
  83:../application/Src/mlx90393.c **** 	{
 461              		.loc 1 83 5 is_stmt 0 view .LVU122
 462 0032 002E     		cmp	r6, #0
 463 0034 00F04381 		beq	.L33
 464              	.L23:
  90:../application/Src/mlx90393.c **** }
 465              		.loc 1 90 2 is_stmt 1 view .LVU123
 466              	.LVL27:
  90:../application/Src/mlx90393.c **** }
 467              		.loc 1 90 2 is_stmt 0 view .LVU124
 468              	.LBE28:
 469              	.LBE30:
 167:../application/Src/mlx90393.c **** 	Delay_us(50);
 470              		.loc 1 167 2 is_stmt 1 view .LVU125
ARM GAS  /tmp/ccEyeU0G.s 			page 13


 471 0038 3220     		movs	r0, #50
 472 003a FFF7FEFF 		bl	Delay_us
 473              	.LVL28:
 168:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 474              		.loc 1 168 2 view .LVU126
 475              		.loc 1 168 19 is_stmt 0 view .LVU127
 476 003e 95F90B30 		ldrsb	r3, [r5, #11]
 169:../application/Src/mlx90393.c **** 	Delay_ms(20);
 477              		.loc 1 169 2 view .LVU128
 478 0042 1420     		movs	r0, #20
 168:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 479              		.loc 1 168 28 view .LVU129
 480 0044 54F83320 		ldr	r2, [r4, r3, lsl #3]
 168:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 481              		.loc 1 168 68 view .LVU130
 482 0048 04EBC303 		add	r3, r4, r3, lsl #3
 168:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 483              		.loc 1 168 39 view .LVU131
 484 004c D168     		ldr	r1, [r2, #12]
 168:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 485              		.loc 1 168 68 view .LVU132
 486 004e 9B88     		ldrh	r3, [r3, #4]
 168:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 487              		.loc 1 168 39 view .LVU133
 488 0050 0B43     		orrs	r3, r3, r1
 489 0052 D360     		str	r3, [r2, #12]
 490              		.loc 1 169 2 is_stmt 1 view .LVU134
 491 0054 FFF7FEFF 		bl	Delay_ms
 492              	.LVL29:
 170:../application/Src/mlx90393.c **** 	
 171:../application/Src/mlx90393.c **** 	// Reset
 172:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR &= ~pin_config[sensor->source].pin;
 493              		.loc 1 172 2 view .LVU135
 494              	.LBB31:
 495              	.LBB32:
  58:../application/Src/mlx90393.c **** 
 496              		.loc 1 58 13 is_stmt 0 view .LVU136
 497 0058 F021     		movs	r1, #240
 498              	.LBE32:
 499              	.LBE31:
 500              		.loc 1 172 19 view .LVU137
 501 005a 95F90B30 		ldrsb	r3, [r5, #11]
 502              		.loc 1 172 28 view .LVU138
 503 005e 54F83320 		ldr	r2, [r4, r3, lsl #3]
 504              		.loc 1 172 69 view .LVU139
 505 0062 04EBC303 		add	r3, r4, r3, lsl #3
 506 0066 9888     		ldrh	r0, [r3, #4]
 507              		.loc 1 172 39 view .LVU140
 508 0068 D368     		ldr	r3, [r2, #12]
 509 006a 23EA0003 		bic	r3, r3, r0
 510 006e D360     		str	r3, [r2, #12]
 173:../application/Src/mlx90393.c **** 	MLX90393_Reset(mode, rx_buf);							
 511              		.loc 1 173 2 is_stmt 1 view .LVU141
 512              	.LVL30:
 513              	.LBB35:
 514              	.LBI31:
  54:../application/Src/mlx90393.c **** {
ARM GAS  /tmp/ccEyeU0G.s 			page 14


 515              		.loc 1 54 6 view .LVU142
 516              	.LBB33:
  56:../application/Src/mlx90393.c **** 	
 517              		.loc 1 56 2 view .LVU143
  58:../application/Src/mlx90393.c **** 
 518              		.loc 1 58 2 view .LVU144
  58:../application/Src/mlx90393.c **** 
 519              		.loc 1 58 13 is_stmt 0 view .LVU145
 520 0070 8DF81010 		strb	r1, [sp, #16]
  60:../application/Src/mlx90393.c **** 	{
 521              		.loc 1 60 2 is_stmt 1 view .LVU146
  60:../application/Src/mlx90393.c **** 	{
 522              		.loc 1 60 5 is_stmt 0 view .LVU147
 523 0074 002E     		cmp	r6, #0
 524 0076 00F06581 		beq	.L34
 525              	.L24:
  67:../application/Src/mlx90393.c **** }
 526              		.loc 1 67 2 is_stmt 1 view .LVU148
 527              	.LVL31:
  67:../application/Src/mlx90393.c **** }
 528              		.loc 1 67 2 is_stmt 0 view .LVU149
 529              	.LBE33:
 530              	.LBE35:
 174:../application/Src/mlx90393.c **** 	Delay_us(50);
 531              		.loc 1 174 2 is_stmt 1 view .LVU150
 532 007a 3220     		movs	r0, #50
 533 007c FFF7FEFF 		bl	Delay_us
 534              	.LVL32:
 175:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 535              		.loc 1 175 2 view .LVU151
 536              		.loc 1 175 19 is_stmt 0 view .LVU152
 537 0080 95F90B30 		ldrsb	r3, [r5, #11]
 176:../application/Src/mlx90393.c **** 	Delay_ms(50);
 538              		.loc 1 176 2 view .LVU153
 539 0084 3220     		movs	r0, #50
 175:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 540              		.loc 1 175 28 view .LVU154
 541 0086 54F83320 		ldr	r2, [r4, r3, lsl #3]
 175:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 542              		.loc 1 175 68 view .LVU155
 543 008a 04EBC303 		add	r3, r4, r3, lsl #3
 175:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 544              		.loc 1 175 39 view .LVU156
 545 008e D168     		ldr	r1, [r2, #12]
 175:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 546              		.loc 1 175 68 view .LVU157
 547 0090 9B88     		ldrh	r3, [r3, #4]
 175:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 548              		.loc 1 175 39 view .LVU158
 549 0092 0B43     		orrs	r3, r3, r1
 550 0094 D360     		str	r3, [r2, #12]
 551              		.loc 1 176 2 is_stmt 1 view .LVU159
 552 0096 FFF7FEFF 		bl	Delay_ms
 553              	.LVL33:
 177:../application/Src/mlx90393.c **** 
 178:../application/Src/mlx90393.c **** 	// -------------- Register 0 ----------------- //
 179:../application/Src/mlx90393.c **** 	
ARM GAS  /tmp/ccEyeU0G.s 			page 15


 180:../application/Src/mlx90393.c **** 	// Read register value
 181:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR &= ~pin_config[sensor->source].pin;
 554              		.loc 1 181 2 view .LVU160
 555              	.LBB36:
 556              	.LBB37:
 131:../application/Src/mlx90393.c **** 	tmp_buf[1] = addr<<2;							// Register address	
 557              		.loc 1 131 13 is_stmt 0 view .LVU161
 558 009a 5020     		movs	r0, #80
 135:../application/Src/mlx90393.c **** 	
 559              		.loc 1 135 13 view .LVU162
 560 009c 0021     		movs	r1, #0
 561              	.LBE37:
 562              	.LBE36:
 563              		.loc 1 181 19 view .LVU163
 564 009e 95F90B30 		ldrsb	r3, [r5, #11]
 565              		.loc 1 181 28 view .LVU164
 566 00a2 54F83320 		ldr	r2, [r4, r3, lsl #3]
 567              		.loc 1 181 69 view .LVU165
 568 00a6 04EBC303 		add	r3, r4, r3, lsl #3
 569 00aa 9F88     		ldrh	r7, [r3, #4]
 570              		.loc 1 181 39 view .LVU166
 571 00ac D368     		ldr	r3, [r2, #12]
 572 00ae 23EA0703 		bic	r3, r3, r7
 573 00b2 D360     		str	r3, [r2, #12]
 182:../application/Src/mlx90393.c **** 	MLX90393_ReadRegister(mode, 0x00, rx_buf);					
 574              		.loc 1 182 2 is_stmt 1 view .LVU167
 575              	.LVL34:
 576              	.LBB40:
 577              	.LBI36:
 127:../application/Src/mlx90393.c **** {
 578              		.loc 1 127 6 view .LVU168
 579              	.LBB38:
 129:../application/Src/mlx90393.c **** 	
 580              		.loc 1 129 2 view .LVU169
 131:../application/Src/mlx90393.c **** 	tmp_buf[1] = addr<<2;							// Register address	
 581              		.loc 1 131 2 view .LVU170
 132:../application/Src/mlx90393.c **** 	tmp_buf[2] = 0;										// Status
 582              		.loc 1 132 2 view .LVU171
 133:../application/Src/mlx90393.c **** 	tmp_buf[3] = 0;										// MSB
 583              		.loc 1 133 2 view .LVU172
 134:../application/Src/mlx90393.c **** 	tmp_buf[4] = 0;										// LSB
 584              		.loc 1 134 2 view .LVU173
 131:../application/Src/mlx90393.c **** 	tmp_buf[1] = addr<<2;							// Register address	
 585              		.loc 1 131 13 is_stmt 0 view .LVU174
 586 00b4 0490     		str	r0, [sp, #16]
 135:../application/Src/mlx90393.c **** 	
 587              		.loc 1 135 2 is_stmt 1 view .LVU175
 135:../application/Src/mlx90393.c **** 	
 588              		.loc 1 135 13 is_stmt 0 view .LVU176
 589 00b6 8DF81410 		strb	r1, [sp, #20]
 137:../application/Src/mlx90393.c **** 	{
 590              		.loc 1 137 2 is_stmt 1 view .LVU177
 137:../application/Src/mlx90393.c **** 	{
 591              		.loc 1 137 5 is_stmt 0 view .LVU178
 592 00ba 002E     		cmp	r6, #0
 593 00bc 00F03081 		beq	.L35
 594              	.L25:
ARM GAS  /tmp/ccEyeU0G.s 			page 16


 144:../application/Src/mlx90393.c **** }
 595              		.loc 1 144 2 is_stmt 1 view .LVU179
 596              	.LVL35:
 144:../application/Src/mlx90393.c **** }
 597              		.loc 1 144 2 is_stmt 0 view .LVU180
 598              	.LBE38:
 599              	.LBE40:
 183:../application/Src/mlx90393.c **** 	Delay_us(70);
 600              		.loc 1 183 2 is_stmt 1 view .LVU181
 601 00c0 4620     		movs	r0, #70
 602 00c2 FFF7FEFF 		bl	Delay_us
 603              	.LVL36:
 184:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 604              		.loc 1 184 2 view .LVU182
 605              		.loc 1 184 19 is_stmt 0 view .LVU183
 606 00c6 95F90B30 		ldrsb	r3, [r5, #11]
 185:../application/Src/mlx90393.c **** 	Delay_us(10);	
 607              		.loc 1 185 2 view .LVU184
 608 00ca 0A20     		movs	r0, #10
 184:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 609              		.loc 1 184 28 view .LVU185
 610 00cc 54F83320 		ldr	r2, [r4, r3, lsl #3]
 184:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 611              		.loc 1 184 68 view .LVU186
 612 00d0 04EBC303 		add	r3, r4, r3, lsl #3
 184:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 613              		.loc 1 184 39 view .LVU187
 614 00d4 D168     		ldr	r1, [r2, #12]
 184:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 615              		.loc 1 184 68 view .LVU188
 616 00d6 9B88     		ldrh	r3, [r3, #4]
 617              	.LBB41:
 618              	.LBB42:
 104:../application/Src/mlx90393.c **** 	tmp_buf[1] = data >> 8;						// MSB
 619              		.loc 1 104 13 view .LVU189
 620 00d8 6027     		movs	r7, #96
 621              	.LBE42:
 622              	.LBE41:
 184:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 623              		.loc 1 184 39 view .LVU190
 624 00da 0B43     		orrs	r3, r3, r1
 625 00dc D360     		str	r3, [r2, #12]
 626              		.loc 1 185 2 is_stmt 1 view .LVU191
 627 00de FFF7FEFF 		bl	Delay_us
 628              	.LVL37:
 186:../application/Src/mlx90393.c **** 	// Modify register value
 187:../application/Src/mlx90393.c **** 	tmp_data = rx_buf[3]<<8|rx_buf[4];
 629              		.loc 1 187 2 view .LVU192
 188:../application/Src/mlx90393.c **** 	tmp_data &= ~0x01FF;
 630              		.loc 1 188 2 view .LVU193
 189:../application/Src/mlx90393.c **** 	tmp_data |= GAIN_SEL(0)|HAL_CONF(0x00);
 631              		.loc 1 189 2 view .LVU194
 190:../application/Src/mlx90393.c **** 	// Write register value
 191:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR &= ~pin_config[sensor->source].pin;
 632              		.loc 1 191 2 view .LVU195
 633              	.LBB48:
 634              	.LBB43:
ARM GAS  /tmp/ccEyeU0G.s 			page 17


 106:../application/Src/mlx90393.c **** 	tmp_buf[3] = addr<<2;							// Register address	
 635              		.loc 1 106 13 is_stmt 0 view .LVU196
 636 00e2 0021     		movs	r1, #0
 637              	.LBE43:
 638              	.LBE48:
 639              		.loc 1 191 19 view .LVU197
 640 00e4 95F90B30 		ldrsb	r3, [r5, #11]
 641              		.loc 1 191 28 view .LVU198
 642 00e8 54F83300 		ldr	r0, [r4, r3, lsl #3]
 643              		.loc 1 191 69 view .LVU199
 644 00ec 04EBC303 		add	r3, r4, r3, lsl #3
 645              		.loc 1 191 39 view .LVU200
 646 00f0 C268     		ldr	r2, [r0, #12]
 647              		.loc 1 191 69 view .LVU201
 648 00f2 B3F804C0 		ldrh	ip, [r3, #4]
 649              	.LBB49:
 650              	.LBB44:
 105:../application/Src/mlx90393.c **** 	tmp_buf[2] = data & 0xFF;					// LSB
 651              		.loc 1 105 13 view .LVU202
 652 00f6 9DF80B30 		ldrb	r3, [sp, #11]	@ zero_extendqisi2
 653              	.LBE44:
 654              	.LBE49:
 655              		.loc 1 191 39 view .LVU203
 656 00fa 22EA0C02 		bic	r2, r2, ip
 657              	.LBB50:
 658              	.LBB45:
 105:../application/Src/mlx90393.c **** 	tmp_buf[2] = data & 0xFF;					// LSB
 659              		.loc 1 105 13 view .LVU204
 660 00fe 03F0FE03 		and	r3, r3, #254
 661              	.LBE45:
 662              	.LBE50:
 663              		.loc 1 191 39 view .LVU205
 664 0102 C260     		str	r2, [r0, #12]
 192:../application/Src/mlx90393.c **** 	MLX90393_WriteRegister(mode, tmp_data, 0x00, rx_buf);					
 665              		.loc 1 192 2 is_stmt 1 view .LVU206
 666              	.LVL38:
 667              	.LBB51:
 668              	.LBI41:
 100:../application/Src/mlx90393.c **** {
 669              		.loc 1 100 6 view .LVU207
 670              	.LBB46:
 102:../application/Src/mlx90393.c **** 	
 671              		.loc 1 102 2 view .LVU208
 104:../application/Src/mlx90393.c **** 	tmp_buf[1] = data >> 8;						// MSB
 672              		.loc 1 104 2 view .LVU209
 105:../application/Src/mlx90393.c **** 	tmp_buf[2] = data & 0xFF;					// LSB
 673              		.loc 1 105 13 is_stmt 0 view .LVU210
 674 0104 8DF81130 		strb	r3, [sp, #17]
 104:../application/Src/mlx90393.c **** 	tmp_buf[1] = data >> 8;						// MSB
 675              		.loc 1 104 13 view .LVU211
 676 0108 8DF81070 		strb	r7, [sp, #16]
 105:../application/Src/mlx90393.c **** 	tmp_buf[2] = data & 0xFF;					// LSB
 677              		.loc 1 105 2 is_stmt 1 view .LVU212
 106:../application/Src/mlx90393.c **** 	tmp_buf[3] = addr<<2;							// Register address	
 678              		.loc 1 106 2 view .LVU213
 107:../application/Src/mlx90393.c **** 	tmp_buf[4] = 0;										// Status
 679              		.loc 1 107 2 view .LVU214
ARM GAS  /tmp/ccEyeU0G.s 			page 18


 108:../application/Src/mlx90393.c **** 	
 680              		.loc 1 108 2 view .LVU215
 106:../application/Src/mlx90393.c **** 	tmp_buf[3] = addr<<2;							// Register address	
 681              		.loc 1 106 13 is_stmt 0 view .LVU216
 682 010c ADF81210 		strh	r1, [sp, #18]	@ movhi
 108:../application/Src/mlx90393.c **** 	
 683              		.loc 1 108 13 view .LVU217
 684 0110 8DF81410 		strb	r1, [sp, #20]
 110:../application/Src/mlx90393.c **** 	{
 685              		.loc 1 110 2 is_stmt 1 view .LVU218
 110:../application/Src/mlx90393.c **** 	{
 686              		.loc 1 110 5 is_stmt 0 view .LVU219
 687 0114 002E     		cmp	r6, #0
 688 0116 00F0FC80 		beq	.L36
 689              	.LVL39:
 690              	.L26:
 117:../application/Src/mlx90393.c **** }
 691              		.loc 1 117 2 is_stmt 1 view .LVU220
 117:../application/Src/mlx90393.c **** }
 692              		.loc 1 117 2 is_stmt 0 view .LVU221
 693              	.LBE46:
 694              	.LBE51:
 193:../application/Src/mlx90393.c **** 	Delay_us(70);
 695              		.loc 1 193 2 is_stmt 1 view .LVU222
 696 011a 4620     		movs	r0, #70
 697 011c FFF7FEFF 		bl	Delay_us
 698              	.LVL40:
 194:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 699              		.loc 1 194 2 view .LVU223
 700              		.loc 1 194 19 is_stmt 0 view .LVU224
 701 0120 95F90B30 		ldrsb	r3, [r5, #11]
 195:../application/Src/mlx90393.c **** 	Delay_ms(20);	
 702              		.loc 1 195 2 view .LVU225
 703 0124 1420     		movs	r0, #20
 194:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 704              		.loc 1 194 28 view .LVU226
 705 0126 54F83320 		ldr	r2, [r4, r3, lsl #3]
 194:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 706              		.loc 1 194 68 view .LVU227
 707 012a 04EBC303 		add	r3, r4, r3, lsl #3
 194:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 708              		.loc 1 194 39 view .LVU228
 709 012e D168     		ldr	r1, [r2, #12]
 194:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 710              		.loc 1 194 68 view .LVU229
 711 0130 9B88     		ldrh	r3, [r3, #4]
 194:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 712              		.loc 1 194 39 view .LVU230
 713 0132 0B43     		orrs	r3, r3, r1
 714 0134 D360     		str	r3, [r2, #12]
 715              		.loc 1 195 2 is_stmt 1 view .LVU231
 716 0136 FFF7FEFF 		bl	Delay_ms
 717              	.LVL41:
 196:../application/Src/mlx90393.c **** 
 197:../application/Src/mlx90393.c **** 	// -------------- Register 1 ----------------- //
 198:../application/Src/mlx90393.c **** 	
 199:../application/Src/mlx90393.c **** 	// Read register value
ARM GAS  /tmp/ccEyeU0G.s 			page 19


 200:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR &= ~pin_config[sensor->source].pin;
 718              		.loc 1 200 2 view .LVU232
 719              	.LBB52:
 720              	.LBB53:
 131:../application/Src/mlx90393.c **** 	tmp_buf[1] = addr<<2;							// Register address	
 721              		.loc 1 131 13 is_stmt 0 view .LVU233
 722 013a 4FF48A60 		mov	r0, #1104
 135:../application/Src/mlx90393.c **** 	
 723              		.loc 1 135 13 view .LVU234
 724 013e 0021     		movs	r1, #0
 725              	.LBE53:
 726              	.LBE52:
 727              		.loc 1 200 19 view .LVU235
 728 0140 95F90B30 		ldrsb	r3, [r5, #11]
 729              		.loc 1 200 28 view .LVU236
 730 0144 54F83320 		ldr	r2, [r4, r3, lsl #3]
 731              		.loc 1 200 69 view .LVU237
 732 0148 04EBC303 		add	r3, r4, r3, lsl #3
 733 014c 9F88     		ldrh	r7, [r3, #4]
 734              		.loc 1 200 39 view .LVU238
 735 014e D368     		ldr	r3, [r2, #12]
 736 0150 23EA0703 		bic	r3, r3, r7
 737 0154 D360     		str	r3, [r2, #12]
 201:../application/Src/mlx90393.c **** 	MLX90393_ReadRegister(mode, 0x01, rx_buf);					
 738              		.loc 1 201 2 is_stmt 1 view .LVU239
 739              	.LVL42:
 740              	.LBB56:
 741              	.LBI52:
 127:../application/Src/mlx90393.c **** {
 742              		.loc 1 127 6 view .LVU240
 743              	.LBB54:
 129:../application/Src/mlx90393.c **** 	
 744              		.loc 1 129 2 view .LVU241
 131:../application/Src/mlx90393.c **** 	tmp_buf[1] = addr<<2;							// Register address	
 745              		.loc 1 131 2 view .LVU242
 132:../application/Src/mlx90393.c **** 	tmp_buf[2] = 0;										// Status
 746              		.loc 1 132 2 view .LVU243
 133:../application/Src/mlx90393.c **** 	tmp_buf[3] = 0;										// MSB
 747              		.loc 1 133 2 view .LVU244
 134:../application/Src/mlx90393.c **** 	tmp_buf[4] = 0;										// LSB
 748              		.loc 1 134 2 view .LVU245
 131:../application/Src/mlx90393.c **** 	tmp_buf[1] = addr<<2;							// Register address	
 749              		.loc 1 131 13 is_stmt 0 view .LVU246
 750 0156 0490     		str	r0, [sp, #16]
 135:../application/Src/mlx90393.c **** 	
 751              		.loc 1 135 2 is_stmt 1 view .LVU247
 135:../application/Src/mlx90393.c **** 	
 752              		.loc 1 135 13 is_stmt 0 view .LVU248
 753 0158 8DF81410 		strb	r1, [sp, #20]
 137:../application/Src/mlx90393.c **** 	{
 754              		.loc 1 137 2 is_stmt 1 view .LVU249
 137:../application/Src/mlx90393.c **** 	{
 755              		.loc 1 137 5 is_stmt 0 view .LVU250
 756 015c 002E     		cmp	r6, #0
 757 015e 00F0D180 		beq	.L37
 758              	.L27:
 144:../application/Src/mlx90393.c **** }
ARM GAS  /tmp/ccEyeU0G.s 			page 20


 759              		.loc 1 144 2 is_stmt 1 view .LVU251
 760              	.LVL43:
 144:../application/Src/mlx90393.c **** }
 761              		.loc 1 144 2 is_stmt 0 view .LVU252
 762              	.LBE54:
 763              	.LBE56:
 202:../application/Src/mlx90393.c **** 	Delay_us(70);
 764              		.loc 1 202 2 is_stmt 1 view .LVU253
 765 0162 4620     		movs	r0, #70
 766 0164 FFF7FEFF 		bl	Delay_us
 767              	.LVL44:
 203:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 768              		.loc 1 203 2 view .LVU254
 769              		.loc 1 203 19 is_stmt 0 view .LVU255
 770 0168 95F90B30 		ldrsb	r3, [r5, #11]
 204:../application/Src/mlx90393.c **** 	Delay_us(20);
 771              		.loc 1 204 2 view .LVU256
 772 016c 1420     		movs	r0, #20
 203:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 773              		.loc 1 203 28 view .LVU257
 774 016e 54F83320 		ldr	r2, [r4, r3, lsl #3]
 203:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 775              		.loc 1 203 68 view .LVU258
 776 0172 04EBC303 		add	r3, r4, r3, lsl #3
 203:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 777              		.loc 1 203 39 view .LVU259
 778 0176 D168     		ldr	r1, [r2, #12]
 203:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 779              		.loc 1 203 68 view .LVU260
 780 0178 9B88     		ldrh	r3, [r3, #4]
 203:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 781              		.loc 1 203 39 view .LVU261
 782 017a 0B43     		orrs	r3, r3, r1
 783 017c D360     		str	r3, [r2, #12]
 784              		.loc 1 204 2 is_stmt 1 view .LVU262
 785 017e FFF7FEFF 		bl	Delay_us
 786              	.LVL45:
 205:../application/Src/mlx90393.c **** 	// Set register value
 206:../application/Src/mlx90393.c **** 	tmp_data = SPI_MODE|BURST_SEL_X|BURST_SEL_Y|BURST_SEL_Z;
 787              		.loc 1 206 2 view .LVU263
 207:../application/Src/mlx90393.c **** 	// Write register value
 208:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR &= ~pin_config[sensor->source].pin;
 788              		.loc 1 208 2 view .LVU264
 789              	.LBB57:
 790              	.LBB58:
 108:../application/Src/mlx90393.c **** 	
 791              		.loc 1 108 13 is_stmt 0 view .LVU265
 792 0182 0020     		movs	r0, #0
 793              	.LBE58:
 794              	.LBE57:
 795              		.loc 1 208 19 view .LVU266
 796 0184 95F90B30 		ldrsb	r3, [r5, #11]
 797              	.LBB62:
 798              	.LBB59:
 104:../application/Src/mlx90393.c **** 	tmp_buf[1] = data >> 8;						// MSB
 799              		.loc 1 104 13 view .LVU267
 800 0188 6C49     		ldr	r1, .L42+12
ARM GAS  /tmp/ccEyeU0G.s 			page 21


 801              	.LBE59:
 802              	.LBE62:
 803              		.loc 1 208 28 view .LVU268
 804 018a 54F83320 		ldr	r2, [r4, r3, lsl #3]
 805              		.loc 1 208 69 view .LVU269
 806 018e 04EBC303 		add	r3, r4, r3, lsl #3
 807 0192 9F88     		ldrh	r7, [r3, #4]
 808              		.loc 1 208 39 view .LVU270
 809 0194 D368     		ldr	r3, [r2, #12]
 810 0196 23EA0703 		bic	r3, r3, r7
 811 019a D360     		str	r3, [r2, #12]
 209:../application/Src/mlx90393.c **** 	MLX90393_WriteRegister(mode, tmp_data, 0x01, rx_buf);					
 812              		.loc 1 209 2 is_stmt 1 view .LVU271
 813              	.LVL46:
 814              	.LBB63:
 815              	.LBI57:
 100:../application/Src/mlx90393.c **** {
 816              		.loc 1 100 6 view .LVU272
 817              	.LBB60:
 102:../application/Src/mlx90393.c **** 	
 818              		.loc 1 102 2 view .LVU273
 104:../application/Src/mlx90393.c **** 	tmp_buf[1] = data >> 8;						// MSB
 819              		.loc 1 104 2 view .LVU274
 105:../application/Src/mlx90393.c **** 	tmp_buf[2] = data & 0xFF;					// LSB
 820              		.loc 1 105 2 view .LVU275
 106:../application/Src/mlx90393.c **** 	tmp_buf[3] = addr<<2;							// Register address	
 821              		.loc 1 106 2 view .LVU276
 107:../application/Src/mlx90393.c **** 	tmp_buf[4] = 0;										// Status
 822              		.loc 1 107 2 view .LVU277
 108:../application/Src/mlx90393.c **** 	
 823              		.loc 1 108 13 is_stmt 0 view .LVU278
 824 019c 8DF81400 		strb	r0, [sp, #20]
 104:../application/Src/mlx90393.c **** 	tmp_buf[1] = data >> 8;						// MSB
 825              		.loc 1 104 13 view .LVU279
 826 01a0 0491     		str	r1, [sp, #16]
 108:../application/Src/mlx90393.c **** 	
 827              		.loc 1 108 2 is_stmt 1 view .LVU280
 110:../application/Src/mlx90393.c **** 	{
 828              		.loc 1 110 2 view .LVU281
 110:../application/Src/mlx90393.c **** 	{
 829              		.loc 1 110 5 is_stmt 0 view .LVU282
 830 01a2 002E     		cmp	r6, #0
 831 01a4 00F0A780 		beq	.L38
 832              	.L28:
 117:../application/Src/mlx90393.c **** }
 833              		.loc 1 117 2 is_stmt 1 view .LVU283
 834              	.LVL47:
 117:../application/Src/mlx90393.c **** }
 835              		.loc 1 117 2 is_stmt 0 view .LVU284
 836              	.LBE60:
 837              	.LBE63:
 210:../application/Src/mlx90393.c **** 	Delay_us(70);
 838              		.loc 1 210 2 is_stmt 1 view .LVU285
 839 01a8 4620     		movs	r0, #70
 840 01aa FFF7FEFF 		bl	Delay_us
 841              	.LVL48:
 211:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
ARM GAS  /tmp/ccEyeU0G.s 			page 22


 842              		.loc 1 211 2 view .LVU286
 843              		.loc 1 211 19 is_stmt 0 view .LVU287
 844 01ae 95F90B30 		ldrsb	r3, [r5, #11]
 212:../application/Src/mlx90393.c **** 	Delay_ms(20);
 845              		.loc 1 212 2 view .LVU288
 846 01b2 1420     		movs	r0, #20
 211:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 847              		.loc 1 211 28 view .LVU289
 848 01b4 54F83320 		ldr	r2, [r4, r3, lsl #3]
 211:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 849              		.loc 1 211 68 view .LVU290
 850 01b8 04EBC303 		add	r3, r4, r3, lsl #3
 211:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 851              		.loc 1 211 39 view .LVU291
 852 01bc D168     		ldr	r1, [r2, #12]
 211:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 853              		.loc 1 211 68 view .LVU292
 854 01be 9B88     		ldrh	r3, [r3, #4]
 211:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 855              		.loc 1 211 39 view .LVU293
 856 01c0 0B43     		orrs	r3, r3, r1
 857 01c2 D360     		str	r3, [r2, #12]
 858              		.loc 1 212 2 is_stmt 1 view .LVU294
 859 01c4 FFF7FEFF 		bl	Delay_ms
 860              	.LVL49:
 213:../application/Src/mlx90393.c **** 
 214:../application/Src/mlx90393.c **** 	// -------------- Register 2 ----------------- //
 215:../application/Src/mlx90393.c **** 	
 216:../application/Src/mlx90393.c **** 	// Read register value
 217:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR &= ~pin_config[sensor->source].pin;
 861              		.loc 1 217 2 view .LVU295
 862              	.LBB64:
 863              	.LBB65:
 131:../application/Src/mlx90393.c **** 	tmp_buf[1] = addr<<2;							// Register address	
 864              		.loc 1 131 13 is_stmt 0 view .LVU296
 865 01c8 4FF40560 		mov	r0, #2128
 135:../application/Src/mlx90393.c **** 	
 866              		.loc 1 135 13 view .LVU297
 867 01cc 0021     		movs	r1, #0
 868              	.LBE65:
 869              	.LBE64:
 870              		.loc 1 217 19 view .LVU298
 871 01ce 95F90B30 		ldrsb	r3, [r5, #11]
 872              		.loc 1 217 28 view .LVU299
 873 01d2 54F83320 		ldr	r2, [r4, r3, lsl #3]
 874              		.loc 1 217 69 view .LVU300
 875 01d6 04EBC303 		add	r3, r4, r3, lsl #3
 876 01da 9F88     		ldrh	r7, [r3, #4]
 877              		.loc 1 217 39 view .LVU301
 878 01dc D368     		ldr	r3, [r2, #12]
 879 01de 23EA0703 		bic	r3, r3, r7
 880 01e2 D360     		str	r3, [r2, #12]
 218:../application/Src/mlx90393.c **** 	MLX90393_ReadRegister(mode, 0x02, rx_buf);					
 881              		.loc 1 218 2 is_stmt 1 view .LVU302
 882              	.LVL50:
 883              	.LBB68:
 884              	.LBI64:
ARM GAS  /tmp/ccEyeU0G.s 			page 23


 127:../application/Src/mlx90393.c **** {
 885              		.loc 1 127 6 view .LVU303
 886              	.LBB66:
 129:../application/Src/mlx90393.c **** 	
 887              		.loc 1 129 2 view .LVU304
 131:../application/Src/mlx90393.c **** 	tmp_buf[1] = addr<<2;							// Register address	
 888              		.loc 1 131 2 view .LVU305
 132:../application/Src/mlx90393.c **** 	tmp_buf[2] = 0;										// Status
 889              		.loc 1 132 2 view .LVU306
 133:../application/Src/mlx90393.c **** 	tmp_buf[3] = 0;										// MSB
 890              		.loc 1 133 2 view .LVU307
 134:../application/Src/mlx90393.c **** 	tmp_buf[4] = 0;										// LSB
 891              		.loc 1 134 2 view .LVU308
 131:../application/Src/mlx90393.c **** 	tmp_buf[1] = addr<<2;							// Register address	
 892              		.loc 1 131 13 is_stmt 0 view .LVU309
 893 01e4 0490     		str	r0, [sp, #16]
 135:../application/Src/mlx90393.c **** 	
 894              		.loc 1 135 2 is_stmt 1 view .LVU310
 135:../application/Src/mlx90393.c **** 	
 895              		.loc 1 135 13 is_stmt 0 view .LVU311
 896 01e6 8DF81410 		strb	r1, [sp, #20]
 137:../application/Src/mlx90393.c **** 	{
 897              		.loc 1 137 2 is_stmt 1 view .LVU312
 137:../application/Src/mlx90393.c **** 	{
 898              		.loc 1 137 5 is_stmt 0 view .LVU313
 899 01ea 002E     		cmp	r6, #0
 900 01ec 7CD0     		beq	.L39
 901              	.L29:
 144:../application/Src/mlx90393.c **** }
 902              		.loc 1 144 2 is_stmt 1 view .LVU314
 903              	.LVL51:
 144:../application/Src/mlx90393.c **** }
 904              		.loc 1 144 2 is_stmt 0 view .LVU315
 905              	.LBE66:
 906              	.LBE68:
 219:../application/Src/mlx90393.c **** 	Delay_us(70);
 907              		.loc 1 219 2 is_stmt 1 view .LVU316
 908 01ee 4620     		movs	r0, #70
 909 01f0 FFF7FEFF 		bl	Delay_us
 910              	.LVL52:
 220:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 911              		.loc 1 220 2 view .LVU317
 912              		.loc 1 220 19 is_stmt 0 view .LVU318
 913 01f4 95F90B30 		ldrsb	r3, [r5, #11]
 221:../application/Src/mlx90393.c **** 	Delay_us(20);
 914              		.loc 1 221 2 view .LVU319
 915 01f8 1420     		movs	r0, #20
 220:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 916              		.loc 1 220 28 view .LVU320
 917 01fa 54F83320 		ldr	r2, [r4, r3, lsl #3]
 220:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 918              		.loc 1 220 68 view .LVU321
 919 01fe 04EBC303 		add	r3, r4, r3, lsl #3
 220:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 920              		.loc 1 220 39 view .LVU322
 921 0202 D168     		ldr	r1, [r2, #12]
 220:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
ARM GAS  /tmp/ccEyeU0G.s 			page 24


 922              		.loc 1 220 68 view .LVU323
 923 0204 9B88     		ldrh	r3, [r3, #4]
 924              	.LBB69:
 925              	.LBB70:
 106:../application/Src/mlx90393.c **** 	tmp_buf[3] = addr<<2;							// Register address	
 926              		.loc 1 106 13 view .LVU324
 927 0206 4FF40A67 		mov	r7, #2208
 928              	.LBE70:
 929              	.LBE69:
 220:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 930              		.loc 1 220 39 view .LVU325
 931 020a 0B43     		orrs	r3, r3, r1
 932 020c D360     		str	r3, [r2, #12]
 933              		.loc 1 221 2 is_stmt 1 view .LVU326
 934 020e FFF7FEFF 		bl	Delay_us
 935              	.LVL53:
 222:../application/Src/mlx90393.c **** 	// Modify register value
 223:../application/Src/mlx90393.c **** 	tmp_data = rx_buf[3]<<8|rx_buf[4];
 936              		.loc 1 223 2 view .LVU327
 224:../application/Src/mlx90393.c **** 	tmp_data &= ~0x1FFF;
 937              		.loc 1 224 2 view .LVU328
 225:../application/Src/mlx90393.c **** 	tmp_data |= RES(1,1,1)|OSR(0)|DIG_FILT(0);
 938              		.loc 1 225 2 view .LVU329
 226:../application/Src/mlx90393.c **** 	// Write register value
 227:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR &= ~pin_config[sensor->source].pin;
 939              		.loc 1 227 2 view .LVU330
 940              	.LBB77:
 941              	.LBB71:
 104:../application/Src/mlx90393.c **** 	tmp_buf[1] = data >> 8;						// MSB
 942              		.loc 1 104 13 is_stmt 0 view .LVU331
 943 0212 4FF0600C 		mov	ip, #96
 108:../application/Src/mlx90393.c **** 	
 944              		.loc 1 108 13 view .LVU332
 945 0216 0020     		movs	r0, #0
 946              	.LBE71:
 947              	.LBE77:
 948              		.loc 1 227 19 view .LVU333
 949 0218 95F90B30 		ldrsb	r3, [r5, #11]
 950              		.loc 1 227 28 view .LVU334
 951 021c 54F83310 		ldr	r1, [r4, r3, lsl #3]
 952              		.loc 1 227 69 view .LVU335
 953 0220 04EBC303 		add	r3, r4, r3, lsl #3
 954 0224 B3F804E0 		ldrh	lr, [r3, #4]
 955              	.LBB78:
 956              	.LBB72:
 105:../application/Src/mlx90393.c **** 	tmp_buf[2] = data & 0xFF;					// LSB
 957              		.loc 1 105 13 view .LVU336
 958 0228 9DF80B30 		ldrb	r3, [sp, #11]	@ zero_extendqisi2
 959              	.LBE72:
 960              	.LBE78:
 961              		.loc 1 227 39 view .LVU337
 962 022c CA68     		ldr	r2, [r1, #12]
 963              	.LBB79:
 964              	.LBB73:
 105:../application/Src/mlx90393.c **** 	tmp_buf[2] = data & 0xFF;					// LSB
 965              		.loc 1 105 13 view .LVU338
 966 022e 03F0E003 		and	r3, r3, #224
ARM GAS  /tmp/ccEyeU0G.s 			page 25


 967              	.LBE73:
 968              	.LBE79:
 969              		.loc 1 227 39 view .LVU339
 970 0232 22EA0E02 		bic	r2, r2, lr
 971              	.LBB80:
 972              	.LBB74:
 105:../application/Src/mlx90393.c **** 	tmp_buf[2] = data & 0xFF;					// LSB
 973              		.loc 1 105 13 view .LVU340
 974 0236 43F00203 		orr	r3, r3, #2
 975              	.LBE74:
 976              	.LBE80:
 977              		.loc 1 227 39 view .LVU341
 978 023a CA60     		str	r2, [r1, #12]
 228:../application/Src/mlx90393.c **** 	MLX90393_WriteRegister(mode, tmp_data, 0x02, rx_buf);					
 979              		.loc 1 228 2 is_stmt 1 view .LVU342
 980              	.LVL54:
 981              	.LBB81:
 982              	.LBI69:
 100:../application/Src/mlx90393.c **** {
 983              		.loc 1 100 6 view .LVU343
 984              	.LBB75:
 102:../application/Src/mlx90393.c **** 	
 985              		.loc 1 102 2 view .LVU344
 104:../application/Src/mlx90393.c **** 	tmp_buf[1] = data >> 8;						// MSB
 986              		.loc 1 104 2 view .LVU345
 105:../application/Src/mlx90393.c **** 	tmp_buf[2] = data & 0xFF;					// LSB
 987              		.loc 1 105 13 is_stmt 0 view .LVU346
 988 023c 8DF81130 		strb	r3, [sp, #17]
 104:../application/Src/mlx90393.c **** 	tmp_buf[1] = data >> 8;						// MSB
 989              		.loc 1 104 13 view .LVU347
 990 0240 8DF810C0 		strb	ip, [sp, #16]
 105:../application/Src/mlx90393.c **** 	tmp_buf[2] = data & 0xFF;					// LSB
 991              		.loc 1 105 2 is_stmt 1 view .LVU348
 106:../application/Src/mlx90393.c **** 	tmp_buf[3] = addr<<2;							// Register address	
 992              		.loc 1 106 2 view .LVU349
 107:../application/Src/mlx90393.c **** 	tmp_buf[4] = 0;										// Status
 993              		.loc 1 107 2 view .LVU350
 108:../application/Src/mlx90393.c **** 	
 994              		.loc 1 108 2 view .LVU351
 106:../application/Src/mlx90393.c **** 	tmp_buf[3] = addr<<2;							// Register address	
 995              		.loc 1 106 13 is_stmt 0 view .LVU352
 996 0244 ADF81270 		strh	r7, [sp, #18]	@ movhi
 108:../application/Src/mlx90393.c **** 	
 997              		.loc 1 108 13 view .LVU353
 998 0248 8DF81400 		strb	r0, [sp, #20]
 110:../application/Src/mlx90393.c **** 	{
 999              		.loc 1 110 2 is_stmt 1 view .LVU354
 110:../application/Src/mlx90393.c **** 	{
 1000              		.loc 1 110 5 is_stmt 0 view .LVU355
 1001 024c 002E     		cmp	r6, #0
 1002 024e 44D0     		beq	.L40
 1003              	.LVL55:
 1004              	.L30:
 117:../application/Src/mlx90393.c **** }
 1005              		.loc 1 117 2 is_stmt 1 view .LVU356
 117:../application/Src/mlx90393.c **** }
 1006              		.loc 1 117 2 is_stmt 0 view .LVU357
ARM GAS  /tmp/ccEyeU0G.s 			page 26


 1007              	.LBE75:
 1008              	.LBE81:
 229:../application/Src/mlx90393.c **** 	Delay_us(70);
 1009              		.loc 1 229 2 is_stmt 1 view .LVU358
 1010 0250 4620     		movs	r0, #70
 1011 0252 FFF7FEFF 		bl	Delay_us
 1012              	.LVL56:
 230:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 1013              		.loc 1 230 2 view .LVU359
 1014              		.loc 1 230 19 is_stmt 0 view .LVU360
 1015 0256 95F90B30 		ldrsb	r3, [r5, #11]
 231:../application/Src/mlx90393.c **** 	Delay_ms(20);	
 1016              		.loc 1 231 2 view .LVU361
 1017 025a 1420     		movs	r0, #20
 230:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 1018              		.loc 1 230 28 view .LVU362
 1019 025c 54F83320 		ldr	r2, [r4, r3, lsl #3]
 230:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 1020              		.loc 1 230 68 view .LVU363
 1021 0260 04EBC303 		add	r3, r4, r3, lsl #3
 230:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 1022              		.loc 1 230 39 view .LVU364
 1023 0264 D168     		ldr	r1, [r2, #12]
 230:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 1024              		.loc 1 230 68 view .LVU365
 1025 0266 9B88     		ldrh	r3, [r3, #4]
 230:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 1026              		.loc 1 230 39 view .LVU366
 1027 0268 0B43     		orrs	r3, r3, r1
 1028 026a D360     		str	r3, [r2, #12]
 1029              		.loc 1 231 2 is_stmt 1 view .LVU367
 1030 026c FFF7FEFF 		bl	Delay_ms
 1031              	.LVL57:
 232:../application/Src/mlx90393.c **** 	
 233:../application/Src/mlx90393.c **** 	// Burst mode XYZ	
 234:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR &= ~pin_config[sensor->source].pin;
 1032              		.loc 1 234 2 view .LVU368
 1033              	.LBB82:
 1034              	.LBB83:
  80:../application/Src/mlx90393.c **** 	tmp_buf[1] = 0;
 1035              		.loc 1 80 13 is_stmt 0 view .LVU369
 1036 0270 1E21     		movs	r1, #30
 1037              	.LBE83:
 1038              	.LBE82:
 1039              		.loc 1 234 19 view .LVU370
 1040 0272 95F90B30 		ldrsb	r3, [r5, #11]
 1041              		.loc 1 234 28 view .LVU371
 1042 0276 54F83320 		ldr	r2, [r4, r3, lsl #3]
 1043              		.loc 1 234 69 view .LVU372
 1044 027a 04EBC303 		add	r3, r4, r3, lsl #3
 1045 027e 9888     		ldrh	r0, [r3, #4]
 1046              		.loc 1 234 39 view .LVU373
 1047 0280 D368     		ldr	r3, [r2, #12]
 1048 0282 23EA0003 		bic	r3, r3, r0
 1049 0286 D360     		str	r3, [r2, #12]
 235:../application/Src/mlx90393.c **** 	MLX90393_WriteCommand(mode, MLX_START_BURST|MLX_X|MLX_Y|MLX_Z, rx_buf);							
 1050              		.loc 1 235 2 is_stmt 1 view .LVU374
ARM GAS  /tmp/ccEyeU0G.s 			page 27


 1051              	.LVL58:
 1052              	.LBB86:
 1053              	.LBI82:
  76:../application/Src/mlx90393.c **** {
 1054              		.loc 1 76 6 view .LVU375
 1055              	.LBB84:
  78:../application/Src/mlx90393.c **** 	
 1056              		.loc 1 78 2 view .LVU376
  80:../application/Src/mlx90393.c **** 	tmp_buf[1] = 0;
 1057              		.loc 1 80 2 view .LVU377
  81:../application/Src/mlx90393.c **** 	
 1058              		.loc 1 81 2 view .LVU378
  80:../application/Src/mlx90393.c **** 	tmp_buf[1] = 0;
 1059              		.loc 1 80 13 is_stmt 0 view .LVU379
 1060 0288 ADF81010 		strh	r1, [sp, #16]	@ movhi
  83:../application/Src/mlx90393.c **** 	{
 1061              		.loc 1 83 2 is_stmt 1 view .LVU380
  83:../application/Src/mlx90393.c **** 	{
 1062              		.loc 1 83 5 is_stmt 0 view .LVU381
 1063 028c F6B1     		cbz	r6, .L41
 1064              	.L31:
  90:../application/Src/mlx90393.c **** }
 1065              		.loc 1 90 2 is_stmt 1 view .LVU382
 1066              	.LVL59:
  90:../application/Src/mlx90393.c **** }
 1067              		.loc 1 90 2 is_stmt 0 view .LVU383
 1068              	.LBE84:
 1069              	.LBE86:
 236:../application/Src/mlx90393.c **** 	Delay_us(50);
 1070              		.loc 1 236 2 is_stmt 1 view .LVU384
 1071 028e 3220     		movs	r0, #50
 1072 0290 FFF7FEFF 		bl	Delay_us
 1073              	.LVL60:
 237:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 1074              		.loc 1 237 2 view .LVU385
 1075              		.loc 1 237 19 is_stmt 0 view .LVU386
 1076 0294 95F90B30 		ldrsb	r3, [r5, #11]
 238:../application/Src/mlx90393.c **** 	Delay_ms(20);
 1077              		.loc 1 238 2 view .LVU387
 1078 0298 1420     		movs	r0, #20
 237:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 1079              		.loc 1 237 28 view .LVU388
 1080 029a 54F83320 		ldr	r2, [r4, r3, lsl #3]
 237:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 1081              		.loc 1 237 68 view .LVU389
 1082 029e 04EBC304 		add	r4, r4, r3, lsl #3
 237:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 1083              		.loc 1 237 39 view .LVU390
 1084 02a2 D168     		ldr	r1, [r2, #12]
 237:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 1085              		.loc 1 237 68 view .LVU391
 1086 02a4 A388     		ldrh	r3, [r4, #4]
 237:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 1087              		.loc 1 237 39 view .LVU392
 1088 02a6 0B43     		orrs	r3, r3, r1
 1089 02a8 D360     		str	r3, [r2, #12]
 1090              		.loc 1 238 2 is_stmt 1 view .LVU393
ARM GAS  /tmp/ccEyeU0G.s 			page 28


 1091 02aa FFF7FEFF 		bl	Delay_ms
 1092              	.LVL61:
 239:../application/Src/mlx90393.c **** 	
 240:../application/Src/mlx90393.c **** 	// Set MOSI back to push-pull
 241:../application/Src/mlx90393.c **** 	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 1093              		.loc 1 241 2 view .LVU394
 242:../application/Src/mlx90393.c **** 	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_5;
 1094              		.loc 1 242 2 view .LVU395
 243:../application/Src/mlx90393.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
 1095              		.loc 1 243 2 view .LVU396
 242:../application/Src/mlx90393.c **** 	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_5;
 1096              		.loc 1 242 30 is_stmt 0 view .LVU397
 1097 02ae 244B     		ldr	r3, .L42+16
 244:../application/Src/mlx90393.c **** 	GPIO_Init (GPIOB,&GPIO_InitStructure);
 1098              		.loc 1 244 2 view .LVU398
 1099 02b0 2048     		ldr	r0, .L42+4
 1100 02b2 01A9     		add	r1, sp, #4
 242:../application/Src/mlx90393.c **** 	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_5;
 1101              		.loc 1 242 30 view .LVU399
 1102 02b4 0193     		str	r3, [sp, #4]
 1103              		.loc 1 244 2 is_stmt 1 view .LVU400
 1104 02b6 FFF7FEFF 		bl	GPIO_Init
 1105              	.LVL62:
 245:../application/Src/mlx90393.c **** }
 1106              		.loc 1 245 1 is_stmt 0 view .LVU401
 1107 02ba 07B0     		add	sp, sp, #28
 1108              	.LCFI27:
 1109              		.cfi_remember_state
 1110              		.cfi_def_cfa_offset 20
 1111              		@ sp needed
 1112 02bc F0BD     		pop	{r4, r5, r6, r7, pc}
 1113              	.LVL63:
 1114              	.L33:
 1115              	.LCFI28:
 1116              		.cfi_restore_state
 1117              	.LBB87:
 1118              	.LBB29:
  85:../application/Src/mlx90393.c **** 	}
 1119              		.loc 1 85 3 is_stmt 1 view .LVU402
 1120 02be 0323     		movs	r3, #3
 1121 02c0 0222     		movs	r2, #2
 1122 02c2 02A9     		add	r1, sp, #8
 1123              	.LVL64:
  85:../application/Src/mlx90393.c **** 	}
 1124              		.loc 1 85 3 is_stmt 0 view .LVU403
 1125 02c4 04A8     		add	r0, sp, #16
 1126 02c6 FFF7FEFF 		bl	SPI_FullDuplex_TransmitReceive
 1127              	.LVL65:
  85:../application/Src/mlx90393.c **** 	}
 1128              		.loc 1 85 3 view .LVU404
 1129 02ca B5E6     		b	.L23
 1130              	.LVL66:
 1131              	.L41:
  85:../application/Src/mlx90393.c **** 	}
 1132              		.loc 1 85 3 view .LVU405
 1133              	.LBE29:
 1134              	.LBE87:
ARM GAS  /tmp/ccEyeU0G.s 			page 29


 1135              	.LBB88:
 1136              	.LBB85:
  85:../application/Src/mlx90393.c **** 	}
 1137              		.loc 1 85 3 is_stmt 1 view .LVU406
 1138 02cc 0323     		movs	r3, #3
 1139 02ce 0222     		movs	r2, #2
 1140 02d0 02A9     		add	r1, sp, #8
 1141              	.LVL67:
  85:../application/Src/mlx90393.c **** 	}
 1142              		.loc 1 85 3 is_stmt 0 view .LVU407
 1143 02d2 04A8     		add	r0, sp, #16
 1144 02d4 FFF7FEFF 		bl	SPI_FullDuplex_TransmitReceive
 1145              	.LVL68:
  85:../application/Src/mlx90393.c **** 	}
 1146              		.loc 1 85 3 view .LVU408
 1147 02d8 D9E7     		b	.L31
 1148              	.LVL69:
 1149              	.L40:
  85:../application/Src/mlx90393.c **** 	}
 1150              		.loc 1 85 3 view .LVU409
 1151              	.LBE85:
 1152              	.LBE88:
 1153              	.LBB89:
 1154              	.LBB76:
 112:../application/Src/mlx90393.c **** 	}
 1155              		.loc 1 112 3 is_stmt 1 view .LVU410
 1156 02da 0323     		movs	r3, #3
 1157 02dc 0522     		movs	r2, #5
 1158 02de 02A9     		add	r1, sp, #8
 1159              	.LVL70:
 112:../application/Src/mlx90393.c **** 	}
 1160              		.loc 1 112 3 is_stmt 0 view .LVU411
 1161 02e0 04A8     		add	r0, sp, #16
 1162 02e2 FFF7FEFF 		bl	SPI_FullDuplex_TransmitReceive
 1163              	.LVL71:
 112:../application/Src/mlx90393.c **** 	}
 1164              		.loc 1 112 3 view .LVU412
 1165 02e6 B3E7     		b	.L30
 1166              	.LVL72:
 1167              	.L39:
 112:../application/Src/mlx90393.c **** 	}
 1168              		.loc 1 112 3 view .LVU413
 1169              	.LBE76:
 1170              	.LBE89:
 1171              	.LBB90:
 1172              	.LBB67:
 139:../application/Src/mlx90393.c **** 	}
 1173              		.loc 1 139 3 is_stmt 1 view .LVU414
 1174 02e8 0323     		movs	r3, #3
 1175 02ea 0522     		movs	r2, #5
 1176 02ec 02A9     		add	r1, sp, #8
 1177              	.LVL73:
 139:../application/Src/mlx90393.c **** 	}
 1178              		.loc 1 139 3 is_stmt 0 view .LVU415
 1179 02ee 04A8     		add	r0, sp, #16
 1180 02f0 FFF7FEFF 		bl	SPI_FullDuplex_TransmitReceive
 1181              	.LVL74:
ARM GAS  /tmp/ccEyeU0G.s 			page 30


 139:../application/Src/mlx90393.c **** 	}
 1182              		.loc 1 139 3 view .LVU416
 1183 02f4 7BE7     		b	.L29
 1184              	.LVL75:
 1185              	.L38:
 139:../application/Src/mlx90393.c **** 	}
 1186              		.loc 1 139 3 view .LVU417
 1187              	.LBE67:
 1188              	.LBE90:
 1189              	.LBB91:
 1190              	.LBB61:
 112:../application/Src/mlx90393.c **** 	}
 1191              		.loc 1 112 3 is_stmt 1 view .LVU418
 1192 02f6 0323     		movs	r3, #3
 1193 02f8 0522     		movs	r2, #5
 1194 02fa 02A9     		add	r1, sp, #8
 1195              	.LVL76:
 112:../application/Src/mlx90393.c **** 	}
 1196              		.loc 1 112 3 is_stmt 0 view .LVU419
 1197 02fc 04A8     		add	r0, sp, #16
 1198 02fe FFF7FEFF 		bl	SPI_FullDuplex_TransmitReceive
 1199              	.LVL77:
 112:../application/Src/mlx90393.c **** 	}
 1200              		.loc 1 112 3 view .LVU420
 1201 0302 51E7     		b	.L28
 1202              	.LVL78:
 1203              	.L37:
 112:../application/Src/mlx90393.c **** 	}
 1204              		.loc 1 112 3 view .LVU421
 1205              	.LBE61:
 1206              	.LBE91:
 1207              	.LBB92:
 1208              	.LBB55:
 139:../application/Src/mlx90393.c **** 	}
 1209              		.loc 1 139 3 is_stmt 1 view .LVU422
 1210 0304 0323     		movs	r3, #3
 1211 0306 0522     		movs	r2, #5
 1212 0308 02A9     		add	r1, sp, #8
 1213              	.LVL79:
 139:../application/Src/mlx90393.c **** 	}
 1214              		.loc 1 139 3 is_stmt 0 view .LVU423
 1215 030a 04A8     		add	r0, sp, #16
 1216 030c FFF7FEFF 		bl	SPI_FullDuplex_TransmitReceive
 1217              	.LVL80:
 139:../application/Src/mlx90393.c **** 	}
 1218              		.loc 1 139 3 view .LVU424
 1219 0310 27E7     		b	.L27
 1220              	.LVL81:
 1221              	.L36:
 139:../application/Src/mlx90393.c **** 	}
 1222              		.loc 1 139 3 view .LVU425
 1223              	.LBE55:
 1224              	.LBE92:
 1225              	.LBB93:
 1226              	.LBB47:
 112:../application/Src/mlx90393.c **** 	}
 1227              		.loc 1 112 3 is_stmt 1 view .LVU426
ARM GAS  /tmp/ccEyeU0G.s 			page 31


 1228 0312 0323     		movs	r3, #3
 1229 0314 0522     		movs	r2, #5
 1230 0316 02A9     		add	r1, sp, #8
 1231              	.LVL82:
 112:../application/Src/mlx90393.c **** 	}
 1232              		.loc 1 112 3 is_stmt 0 view .LVU427
 1233 0318 04A8     		add	r0, sp, #16
 1234 031a FFF7FEFF 		bl	SPI_FullDuplex_TransmitReceive
 1235              	.LVL83:
 112:../application/Src/mlx90393.c **** 	}
 1236              		.loc 1 112 3 view .LVU428
 1237 031e FCE6     		b	.L26
 1238              	.LVL84:
 1239              	.L35:
 112:../application/Src/mlx90393.c **** 	}
 1240              		.loc 1 112 3 view .LVU429
 1241              	.LBE47:
 1242              	.LBE93:
 1243              	.LBB94:
 1244              	.LBB39:
 139:../application/Src/mlx90393.c **** 	}
 1245              		.loc 1 139 3 is_stmt 1 view .LVU430
 1246 0320 0323     		movs	r3, #3
 1247 0322 0522     		movs	r2, #5
 1248 0324 02A9     		add	r1, sp, #8
 1249              	.LVL85:
 139:../application/Src/mlx90393.c **** 	}
 1250              		.loc 1 139 3 is_stmt 0 view .LVU431
 1251 0326 04A8     		add	r0, sp, #16
 1252 0328 FFF7FEFF 		bl	SPI_FullDuplex_TransmitReceive
 1253              	.LVL86:
 139:../application/Src/mlx90393.c **** 	}
 1254              		.loc 1 139 3 view .LVU432
 1255 032c C8E6     		b	.L25
 1256              	.L43:
 1257 032e 00BF     		.align	2
 1258              	.L42:
 1259 0330 2000031C 		.word	469958688
 1260 0334 000C0140 		.word	1073810432
 1261 0338 00000000 		.word	pin_config
 1262 033c 60438004 		.word	75514720
 1263 0340 20000318 		.word	402849824
 1264              	.LVL87:
 1265              	.L34:
 139:../application/Src/mlx90393.c **** 	}
 1266              		.loc 1 139 3 view .LVU433
 1267              	.LBE39:
 1268              	.LBE94:
 1269              	.LBB95:
 1270              	.LBB34:
  62:../application/Src/mlx90393.c **** 	}
 1271              		.loc 1 62 3 is_stmt 1 view .LVU434
 1272 0344 0323     		movs	r3, #3
 1273 0346 0122     		movs	r2, #1
 1274 0348 02A9     		add	r1, sp, #8
 1275              	.LVL88:
  62:../application/Src/mlx90393.c **** 	}
ARM GAS  /tmp/ccEyeU0G.s 			page 32


 1276              		.loc 1 62 3 is_stmt 0 view .LVU435
 1277 034a 04A8     		add	r0, sp, #16
 1278 034c FFF7FEFF 		bl	SPI_FullDuplex_TransmitReceive
 1279              	.LVL89:
  62:../application/Src/mlx90393.c **** 	}
 1280              		.loc 1 62 3 view .LVU436
 1281 0350 93E6     		b	.L24
 1282              	.LBE34:
 1283              	.LBE95:
 1284              		.cfi_endproc
 1285              	.LFE34:
 1287 0352 00BF     		.section	.text.MLX90393_GetData,"ax",%progbits
 1288              		.align	1
 1289              		.p2align 2,,3
 1290              		.global	MLX90393_GetData
 1291              		.syntax unified
 1292              		.thumb
 1293              		.thumb_func
 1294              		.fpu softvfp
 1296              	MLX90393_GetData:
 1297              	.LVL90:
 1298              	.LFB35:
 246:../application/Src/mlx90393.c **** 
 247:../application/Src/mlx90393.c **** /**
 248:../application/Src/mlx90393.c ****   * @brief MLX90393 get measured data
 249:../application/Src/mlx90393.c ****   * @param data: variable for storing data
 250:../application/Src/mlx90393.c ****   * @param sensor: Sensor struct
 251:../application/Src/mlx90393.c ****   * @retval status
 252:../application/Src/mlx90393.c ****   */
 253:../application/Src/mlx90393.c **** int MLX90393_GetData(uint16_t * data, sensor_t * sensor, uint8_t channel)
 254:../application/Src/mlx90393.c **** {
 1299              		.loc 1 254 1 is_stmt 1 view -0
 1300              		.cfi_startproc
 1301              		@ args = 0, pretend = 0, frame = 0
 1302              		@ frame_needed = 0, uses_anonymous_args = 0
 1303              		@ link register save eliminated.
 255:../application/Src/mlx90393.c **** 	int ret = 0;
 1304              		.loc 1 255 2 view .LVU438
 256:../application/Src/mlx90393.c **** 	
 257:../application/Src/mlx90393.c **** 	if (sensor->data[1] & 0x10)	ret = -1;
 1305              		.loc 1 257 2 view .LVU439
 254:../application/Src/mlx90393.c **** 	int ret = 0;
 1306              		.loc 1 254 1 is_stmt 0 view .LVU440
 1307 0000 10B4     		push	{r4}
 1308              	.LCFI29:
 1309              		.cfi_def_cfa_offset 4
 1310              		.cfi_offset 4, -4
 1311              		.loc 1 257 5 view .LVU441
 1312 0002 CB7B     		ldrb	r3, [r1, #15]	@ zero_extendqisi2
 254:../application/Src/mlx90393.c **** 	int ret = 0;
 1313              		.loc 1 254 1 view .LVU442
 1314 0004 0446     		mov	r4, r0
 1315              		.loc 1 257 5 view .LVU443
 1316 0006 13F01000 		ands	r0, r3, #16
 1317              	.LVL91:
 1318              		.loc 1 257 5 view .LVU444
 1319 000a 09D1     		bne	.L46
ARM GAS  /tmp/ccEyeU0G.s 			page 33


 258:../application/Src/mlx90393.c **** 	else
 259:../application/Src/mlx90393.c **** 	{
 260:../application/Src/mlx90393.c **** 		*data = (sensor->data[2 + channel*2]<<8|sensor->data[3 + channel*2]);
 1320              		.loc 1 260 3 is_stmt 1 view .LVU445
 1321              		.loc 1 260 27 is_stmt 0 view .LVU446
 1322 000c 0132     		adds	r2, r2, #1
 1323              	.LVL92:
 1324              		.loc 1 260 24 view .LVU447
 1325 000e 01EB4201 		add	r1, r1, r2, lsl #1
 1326              	.LVL93:
 1327              		.loc 1 260 24 view .LVU448
 1328 0012 8A7B     		ldrb	r2, [r1, #14]	@ zero_extendqisi2
 1329              		.loc 1 260 55 view .LVU449
 1330 0014 CB7B     		ldrb	r3, [r1, #15]	@ zero_extendqisi2
 1331              		.loc 1 260 42 view .LVU450
 1332 0016 43EA0223 		orr	r3, r3, r2, lsl #8
 1333              		.loc 1 260 9 view .LVU451
 1334 001a 2380     		strh	r3, [r4]	@ movhi
 1335              	.LVL94:
 1336              	.L44:
 261:../application/Src/mlx90393.c **** 	}
 262:../application/Src/mlx90393.c **** 	return ret;
 263:../application/Src/mlx90393.c **** }
 1337              		.loc 1 263 1 view .LVU452
 1338 001c 10BC     		pop	{r4}
 1339              	.LCFI30:
 1340              		.cfi_remember_state
 1341              		.cfi_restore 4
 1342              		.cfi_def_cfa_offset 0
 1343              	.LVL95:
 1344              		.loc 1 263 1 view .LVU453
 1345 001e 7047     		bx	lr
 1346              	.LVL96:
 1347              	.L46:
 1348              	.LCFI31:
 1349              		.cfi_restore_state
 257:../application/Src/mlx90393.c **** 	else
 1350              		.loc 1 257 34 view .LVU454
 1351 0020 4FF0FF30 		mov	r0, #-1
 1352              	.LVL97:
 262:../application/Src/mlx90393.c **** }
 1353              		.loc 1 262 2 is_stmt 1 view .LVU455
 262:../application/Src/mlx90393.c **** }
 1354              		.loc 1 262 9 is_stmt 0 view .LVU456
 1355 0024 FAE7     		b	.L44
 1356              		.cfi_endproc
 1357              	.LFE35:
 1359 0026 00BF     		.section	.text.MLX90393_StartDMA,"ax",%progbits
 1360              		.align	1
 1361              		.p2align 2,,3
 1362              		.global	MLX90393_StartDMA
 1363              		.syntax unified
 1364              		.thumb
 1365              		.thumb_func
 1366              		.fpu softvfp
 1368              	MLX90393_StartDMA:
 1369              	.LVL98:
ARM GAS  /tmp/ccEyeU0G.s 			page 34


 1370              	.LFB36:
 264:../application/Src/mlx90393.c **** 
 265:../application/Src/mlx90393.c **** /**
 266:../application/Src/mlx90393.c ****   * @brief MLX90393 start processing with DMA
 267:../application/Src/mlx90393.c ****   * @param sensor: Sensor struct
 268:../application/Src/mlx90393.c ****   * @retval None
 269:../application/Src/mlx90393.c ****   */
 270:../application/Src/mlx90393.c **** void MLX90393_StartDMA(uint8_t mode, sensor_t * sensor)
 271:../application/Src/mlx90393.c **** {	
 1371              		.loc 1 271 1 is_stmt 1 view -0
 1372              		.cfi_startproc
 1373              		@ args = 0, pretend = 0, frame = 16
 1374              		@ frame_needed = 0, uses_anonymous_args = 0
 272:../application/Src/mlx90393.c **** 	uint8_t tmp_buf[8];
 1375              		.loc 1 272 2 view .LVU458
 273:../application/Src/mlx90393.c **** 	
 274:../application/Src/mlx90393.c **** 	sensor->rx_complete = 0;
 1376              		.loc 1 274 2 view .LVU459
 275:../application/Src/mlx90393.c **** 	sensor->tx_complete = 1;
 1377              		.loc 1 275 2 view .LVU460
 271:../application/Src/mlx90393.c **** 	uint8_t tmp_buf[8];
 1378              		.loc 1 271 1 is_stmt 0 view .LVU461
 1379 0000 10B5     		push	{r4, lr}
 1380              	.LCFI32:
 1381              		.cfi_def_cfa_offset 8
 1382              		.cfi_offset 4, -8
 1383              		.cfi_offset 14, -4
 276:../application/Src/mlx90393.c **** 
 277:../application/Src/mlx90393.c **** 	tmp_buf[0] = 0x4E;		// Read Meas. command
 1384              		.loc 1 277 13 view .LVU462
 1385 0002 4E22     		movs	r2, #78
 271:../application/Src/mlx90393.c **** 	uint8_t tmp_buf[8];
 1386              		.loc 1 271 1 view .LVU463
 1387 0004 0C46     		mov	r4, r1
 1388              		.loc 1 277 13 view .LVU464
 1389 0006 0023     		movs	r3, #0
 274:../application/Src/mlx90393.c **** 	sensor->tx_complete = 1;
 1390              		.loc 1 274 22 view .LVU465
 1391 0008 4FF48071 		mov	r1, #256
 1392              	.LVL99:
 271:../application/Src/mlx90393.c **** 	uint8_t tmp_buf[8];
 1393              		.loc 1 271 1 view .LVU466
 1394 000c 84B0     		sub	sp, sp, #16
 1395              	.LCFI33:
 1396              		.cfi_def_cfa_offset 24
 1397              		.loc 1 277 13 view .LVU467
 1398 000e CDE90223 		strd	r2, r3, [sp, #8]
 274:../application/Src/mlx90393.c **** 	sensor->tx_complete = 1;
 1399              		.loc 1 274 22 view .LVU468
 1400 0012 2181     		strh	r1, [r4, #8]	@ movhi
 1401              		.loc 1 277 2 is_stmt 1 view .LVU469
 278:../application/Src/mlx90393.c **** 	tmp_buf[1] = 0x00;		// Status
 1402              		.loc 1 278 2 view .LVU470
 279:../application/Src/mlx90393.c **** 	tmp_buf[2] = 0x00;		// X MSB
 1403              		.loc 1 279 2 view .LVU471
 280:../application/Src/mlx90393.c **** 	tmp_buf[3] = 0x00;		// X LSB
 1404              		.loc 1 280 2 view .LVU472
ARM GAS  /tmp/ccEyeU0G.s 			page 35


 281:../application/Src/mlx90393.c **** 	tmp_buf[4] = 0x00;		// Y MSB
 1405              		.loc 1 281 2 view .LVU473
 282:../application/Src/mlx90393.c **** 	tmp_buf[5] = 0x00;		// Y LSB
 1406              		.loc 1 282 2 view .LVU474
 283:../application/Src/mlx90393.c **** 	tmp_buf[6] = 0x00;		// Z MSB
 1407              		.loc 1 283 2 view .LVU475
 284:../application/Src/mlx90393.c **** 	tmp_buf[7] = 0x00;		// Z LSB
 1408              		.loc 1 284 2 view .LVU476
 285:../application/Src/mlx90393.c **** 	
 286:../application/Src/mlx90393.c **** 	if (mode == MLX_SPI)
 1409              		.loc 1 286 2 view .LVU477
 1410              		.loc 1 286 5 is_stmt 0 view .LVU478
 1411 0014 08B1     		cbz	r0, .L51
 287:../application/Src/mlx90393.c **** 	{
 288:../application/Src/mlx90393.c **** 		// Configure MOSI as open drain
 289:../application/Src/mlx90393.c **** 		GPIO_InitTypeDef GPIO_InitStructure;
 290:../application/Src/mlx90393.c **** 		GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 291:../application/Src/mlx90393.c **** 		GPIO_InitStructure.GPIO_Pin = GPIO_Pin_5;
 292:../application/Src/mlx90393.c **** 		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD;
 293:../application/Src/mlx90393.c **** 		GPIO_Init (GPIOB,&GPIO_InitStructure);
 294:../application/Src/mlx90393.c **** 		// CS low
 295:../application/Src/mlx90393.c **** 		pin_config[sensor->source].port->ODR &= ~pin_config[sensor->source].pin;
 296:../application/Src/mlx90393.c **** 		SPI_FullDuplex_TransmitReceive(tmp_buf, sensor->data, 8, MLX90393_SPI_MODE);
 297:../application/Src/mlx90393.c **** 	}
 298:../application/Src/mlx90393.c **** 	else if (mode == MLX_I2C)
 299:../application/Src/mlx90393.c **** 	{
 300:../application/Src/mlx90393.c **** 		
 301:../application/Src/mlx90393.c **** 	}
 302:../application/Src/mlx90393.c **** }
 1412              		.loc 1 302 1 view .LVU479
 1413 0016 04B0     		add	sp, sp, #16
 1414              	.LCFI34:
 1415              		.cfi_remember_state
 1416              		.cfi_def_cfa_offset 8
 1417              		@ sp needed
 1418 0018 10BD     		pop	{r4, pc}
 1419              	.LVL100:
 1420              	.L51:
 1421              	.LCFI35:
 1422              		.cfi_restore_state
 1423              	.LBB96:
 289:../application/Src/mlx90393.c **** 		GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 1424              		.loc 1 289 3 is_stmt 1 view .LVU480
 290:../application/Src/mlx90393.c **** 		GPIO_InitStructure.GPIO_Pin = GPIO_Pin_5;
 1425              		.loc 1 290 3 view .LVU481
 291:../application/Src/mlx90393.c **** 		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD;
 1426              		.loc 1 291 3 view .LVU482
 292:../application/Src/mlx90393.c **** 		GPIO_Init (GPIOB,&GPIO_InitStructure);
 1427              		.loc 1 292 3 view .LVU483
 291:../application/Src/mlx90393.c **** 		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD;
 1428              		.loc 1 291 31 is_stmt 0 view .LVU484
 1429 001a 0E4B     		ldr	r3, .L52
 293:../application/Src/mlx90393.c **** 		// CS low
 1430              		.loc 1 293 3 view .LVU485
 1431 001c 01A9     		add	r1, sp, #4
 1432 001e 0E48     		ldr	r0, .L52+4
 1433              	.LVL101:
ARM GAS  /tmp/ccEyeU0G.s 			page 36


 291:../application/Src/mlx90393.c **** 		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD;
 1434              		.loc 1 291 31 view .LVU486
 1435 0020 0193     		str	r3, [sp, #4]
 293:../application/Src/mlx90393.c **** 		// CS low
 1436              		.loc 1 293 3 is_stmt 1 view .LVU487
 1437 0022 FFF7FEFF 		bl	GPIO_Init
 1438              	.LVL102:
 295:../application/Src/mlx90393.c **** 		SPI_FullDuplex_TransmitReceive(tmp_buf, sensor->data, 8, MLX90393_SPI_MODE);
 1439              		.loc 1 295 3 view .LVU488
 295:../application/Src/mlx90393.c **** 		SPI_FullDuplex_TransmitReceive(tmp_buf, sensor->data, 8, MLX90393_SPI_MODE);
 1440              		.loc 1 295 20 is_stmt 0 view .LVU489
 1441 0026 94F90B20 		ldrsb	r2, [r4, #11]
 295:../application/Src/mlx90393.c **** 		SPI_FullDuplex_TransmitReceive(tmp_buf, sensor->data, 8, MLX90393_SPI_MODE);
 1442              		.loc 1 295 29 view .LVU490
 1443 002a 0C4B     		ldr	r3, .L52+8
 296:../application/Src/mlx90393.c **** 	}
 1444              		.loc 1 296 3 view .LVU491
 1445 002c 04F10E01 		add	r1, r4, #14
 295:../application/Src/mlx90393.c **** 		SPI_FullDuplex_TransmitReceive(tmp_buf, sensor->data, 8, MLX90393_SPI_MODE);
 1446              		.loc 1 295 29 view .LVU492
 1447 0030 53F83200 		ldr	r0, [r3, r2, lsl #3]
 295:../application/Src/mlx90393.c **** 		SPI_FullDuplex_TransmitReceive(tmp_buf, sensor->data, 8, MLX90393_SPI_MODE);
 1448              		.loc 1 295 70 view .LVU493
 1449 0034 03EBC203 		add	r3, r3, r2, lsl #3
 1450 0038 9C88     		ldrh	r4, [r3, #4]
 1451              	.LVL103:
 295:../application/Src/mlx90393.c **** 		SPI_FullDuplex_TransmitReceive(tmp_buf, sensor->data, 8, MLX90393_SPI_MODE);
 1452              		.loc 1 295 40 view .LVU494
 1453 003a C268     		ldr	r2, [r0, #12]
 296:../application/Src/mlx90393.c **** 	}
 1454              		.loc 1 296 3 view .LVU495
 1455 003c 0323     		movs	r3, #3
 295:../application/Src/mlx90393.c **** 		SPI_FullDuplex_TransmitReceive(tmp_buf, sensor->data, 8, MLX90393_SPI_MODE);
 1456              		.loc 1 295 40 view .LVU496
 1457 003e 22EA0402 		bic	r2, r2, r4
 1458 0042 C260     		str	r2, [r0, #12]
 296:../application/Src/mlx90393.c **** 	}
 1459              		.loc 1 296 3 is_stmt 1 view .LVU497
 1460 0044 0822     		movs	r2, #8
 1461 0046 0DEB0200 		add	r0, sp, r2
 1462 004a FFF7FEFF 		bl	SPI_FullDuplex_TransmitReceive
 1463              	.LVL104:
 296:../application/Src/mlx90393.c **** 	}
 1464              		.loc 1 296 3 is_stmt 0 view .LVU498
 1465              	.LBE96:
 301:../application/Src/mlx90393.c **** }
 1466              		.loc 1 301 2 is_stmt 1 view .LVU499
 1467              		.loc 1 302 1 is_stmt 0 view .LVU500
 1468 004e 04B0     		add	sp, sp, #16
 1469              	.LCFI36:
 1470              		.cfi_def_cfa_offset 8
 1471              		@ sp needed
 1472 0050 10BD     		pop	{r4, pc}
 1473              	.L53:
 1474 0052 00BF     		.align	2
 1475              	.L52:
 1476 0054 2000031C 		.word	469958688
ARM GAS  /tmp/ccEyeU0G.s 			page 37


 1477 0058 000C0140 		.word	1073810432
 1478 005c 00000000 		.word	pin_config
 1479              		.cfi_endproc
 1480              	.LFE36:
 1482              		.section	.text.MLX90393_StopDMA,"ax",%progbits
 1483              		.align	1
 1484              		.p2align 2,,3
 1485              		.global	MLX90393_StopDMA
 1486              		.syntax unified
 1487              		.thumb
 1488              		.thumb_func
 1489              		.fpu softvfp
 1491              	MLX90393_StopDMA:
 1492              	.LVL105:
 1493              	.LFB37:
 303:../application/Src/mlx90393.c **** 
 304:../application/Src/mlx90393.c **** void MLX90393_StopDMA(sensor_t * sensor)
 305:../application/Src/mlx90393.c **** {	
 1494              		.loc 1 305 1 is_stmt 1 view -0
 1495              		.cfi_startproc
 1496              		@ args = 0, pretend = 0, frame = 8
 1497              		@ frame_needed = 0, uses_anonymous_args = 0
 306:../application/Src/mlx90393.c **** 	DMA_Cmd(DMA1_Channel2, DISABLE);
 1498              		.loc 1 306 2 view .LVU502
 305:../application/Src/mlx90393.c **** 	DMA_Cmd(DMA1_Channel2, DISABLE);
 1499              		.loc 1 305 1 is_stmt 0 view .LVU503
 1500 0000 30B5     		push	{r4, r5, lr}
 1501              	.LCFI37:
 1502              		.cfi_def_cfa_offset 12
 1503              		.cfi_offset 4, -12
 1504              		.cfi_offset 5, -8
 1505              		.cfi_offset 14, -4
 1506 0002 0446     		mov	r4, r0
 1507 0004 83B0     		sub	sp, sp, #12
 1508              	.LCFI38:
 1509              		.cfi_def_cfa_offset 24
 1510              		.loc 1 306 2 view .LVU504
 1511 0006 0021     		movs	r1, #0
 1512 0008 0C48     		ldr	r0, .L56
 1513              	.LVL106:
 1514              		.loc 1 306 2 view .LVU505
 1515 000a FFF7FEFF 		bl	DMA_Cmd
 1516              	.LVL107:
 307:../application/Src/mlx90393.c **** 	// CS high
 308:../application/Src/mlx90393.c **** 	pin_config[sensor->source].port->ODR |= pin_config[sensor->source].pin;
 1517              		.loc 1 308 2 is_stmt 1 view .LVU506
 309:../application/Src/mlx90393.c **** 	sensor->rx_complete = 1;
 1518              		.loc 1 309 22 is_stmt 0 view .LVU507
 1519 000e 40F20110 		movw	r0, #257
 308:../application/Src/mlx90393.c **** 	sensor->rx_complete = 1;
 1520              		.loc 1 308 19 view .LVU508
 1521 0012 94F90B10 		ldrsb	r1, [r4, #11]
 308:../application/Src/mlx90393.c **** 	sensor->rx_complete = 1;
 1522              		.loc 1 308 28 view .LVU509
 1523 0016 0A4B     		ldr	r3, .L56+4
 310:../application/Src/mlx90393.c **** 	sensor->tx_complete = 1;
 311:../application/Src/mlx90393.c **** 	
ARM GAS  /tmp/ccEyeU0G.s 			page 38


 312:../application/Src/mlx90393.c **** 	// Set MOSI back to push-pull
 313:../application/Src/mlx90393.c **** 	GPIO_InitTypeDef GPIO_InitStructure;
 314:../application/Src/mlx90393.c **** 	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 315:../application/Src/mlx90393.c **** 	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_5;
 1524              		.loc 1 315 30 view .LVU510
 1525 0018 0A4D     		ldr	r5, .L56+8
 308:../application/Src/mlx90393.c **** 	sensor->rx_complete = 1;
 1526              		.loc 1 308 28 view .LVU511
 1527 001a 53F83120 		ldr	r2, [r3, r1, lsl #3]
 308:../application/Src/mlx90393.c **** 	sensor->rx_complete = 1;
 1528              		.loc 1 308 68 view .LVU512
 1529 001e 03EBC103 		add	r3, r3, r1, lsl #3
 1530 0022 9B88     		ldrh	r3, [r3, #4]
 308:../application/Src/mlx90393.c **** 	sensor->rx_complete = 1;
 1531              		.loc 1 308 39 view .LVU513
 1532 0024 D168     		ldr	r1, [r2, #12]
 1533              		.loc 1 315 30 view .LVU514
 1534 0026 0195     		str	r5, [sp, #4]
 308:../application/Src/mlx90393.c **** 	sensor->rx_complete = 1;
 1535              		.loc 1 308 39 view .LVU515
 1536 0028 0B43     		orrs	r3, r3, r1
 1537 002a D360     		str	r3, [r2, #12]
 309:../application/Src/mlx90393.c **** 	sensor->tx_complete = 1;
 1538              		.loc 1 309 2 is_stmt 1 view .LVU516
 310:../application/Src/mlx90393.c **** 	sensor->tx_complete = 1;
 1539              		.loc 1 310 2 view .LVU517
 316:../application/Src/mlx90393.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
 317:../application/Src/mlx90393.c **** 	GPIO_Init (GPIOB,&GPIO_InitStructure);
 1540              		.loc 1 317 2 is_stmt 0 view .LVU518
 1541 002c 01A9     		add	r1, sp, #4
 309:../application/Src/mlx90393.c **** 	sensor->tx_complete = 1;
 1542              		.loc 1 309 22 view .LVU519
 1543 002e 2081     		strh	r0, [r4, #8]	@ movhi
 313:../application/Src/mlx90393.c **** 	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 1544              		.loc 1 313 2 is_stmt 1 view .LVU520
 314:../application/Src/mlx90393.c **** 	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_5;
 1545              		.loc 1 314 2 view .LVU521
 315:../application/Src/mlx90393.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
 1546              		.loc 1 315 2 view .LVU522
 316:../application/Src/mlx90393.c **** 	GPIO_Init (GPIOB,&GPIO_InitStructure);
 1547              		.loc 1 316 2 view .LVU523
 1548              		.loc 1 317 2 view .LVU524
 1549 0030 0548     		ldr	r0, .L56+12
 1550 0032 FFF7FEFF 		bl	GPIO_Init
 1551              	.LVL108:
 318:../application/Src/mlx90393.c **** }
 1552              		.loc 1 318 1 is_stmt 0 view .LVU525
 1553 0036 03B0     		add	sp, sp, #12
 1554              	.LCFI39:
 1555              		.cfi_def_cfa_offset 12
 1556              		@ sp needed
 1557 0038 30BD     		pop	{r4, r5, pc}
 1558              	.LVL109:
 1559              	.L57:
 1560              		.loc 1 318 1 view .LVU526
 1561 003a 00BF     		.align	2
 1562              	.L56:
ARM GAS  /tmp/ccEyeU0G.s 			page 39


 1563 003c 1C000240 		.word	1073872924
 1564 0040 00000000 		.word	pin_config
 1565 0044 20000318 		.word	402849824
 1566 0048 000C0140 		.word	1073810432
 1567              		.cfi_endproc
 1568              	.LFE37:
 1570              		.text
 1571              	.Letext0:
 1572              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 1573              		.file 3 "../application/Inc/common_types.h"
 1574              		.file 4 "../Drivers/CMSIS/CM3/CoreSupport/core_cm3.h"
 1575              		.file 5 "../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.h"
 1576              		.file 6 "../Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/stm32f10x.h"
 1577              		.file 7 "../Drivers/STM32F10x_StdPeriph_Driver/inc/stm32f10x_gpio.h"
 1578              		.file 8 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 1579              		.file 9 "/usr/include/newlib/sys/_types.h"
 1580              		.file 10 "/usr/include/newlib/sys/reent.h"
 1581              		.file 11 "/usr/include/newlib/sys/lock.h"
 1582              		.file 12 "../application/Inc/periphery.h"
 1583              		.file 13 "/usr/include/newlib/math.h"
 1584              		.file 14 "../Drivers/STM32F10x_StdPeriph_Driver/inc/stm32f10x_dma.h"
 1585              		.file 15 "../application/Inc/spi.h"
ARM GAS  /tmp/ccEyeU0G.s 			page 40


DEFINED SYMBOLS
                            *ABS*:0000000000000000 mlx90393.c
     /tmp/ccEyeU0G.s:16     .text.MLX90393_NOP:0000000000000000 $t
     /tmp/ccEyeU0G.s:25     .text.MLX90393_NOP:0000000000000000 MLX90393_NOP
     /tmp/ccEyeU0G.s:79     .text.MLX90393_Reset:0000000000000000 $t
     /tmp/ccEyeU0G.s:87     .text.MLX90393_Reset:0000000000000000 MLX90393_Reset
     /tmp/ccEyeU0G.s:140    .text.MLX90393_WriteCommand:0000000000000000 $t
     /tmp/ccEyeU0G.s:148    .text.MLX90393_WriteCommand:0000000000000000 MLX90393_WriteCommand
     /tmp/ccEyeU0G.s:209    .text.MLX90393_WriteRegister:0000000000000000 $t
     /tmp/ccEyeU0G.s:217    .text.MLX90393_WriteRegister:0000000000000000 MLX90393_WriteRegister
     /tmp/ccEyeU0G.s:298    .text.MLX90393_ReadRegister:0000000000000000 $t
     /tmp/ccEyeU0G.s:306    .text.MLX90393_ReadRegister:0000000000000000 MLX90393_ReadRegister
     /tmp/ccEyeU0G.s:381    .text.MLX90393_Start:0000000000000000 $t
     /tmp/ccEyeU0G.s:389    .text.MLX90393_Start:0000000000000000 MLX90393_Start
     /tmp/ccEyeU0G.s:1259   .text.MLX90393_Start:0000000000000330 $d
     /tmp/ccEyeU0G.s:1272   .text.MLX90393_Start:0000000000000344 $t
     /tmp/ccEyeU0G.s:1288   .text.MLX90393_GetData:0000000000000000 $t
     /tmp/ccEyeU0G.s:1296   .text.MLX90393_GetData:0000000000000000 MLX90393_GetData
     /tmp/ccEyeU0G.s:1360   .text.MLX90393_StartDMA:0000000000000000 $t
     /tmp/ccEyeU0G.s:1368   .text.MLX90393_StartDMA:0000000000000000 MLX90393_StartDMA
     /tmp/ccEyeU0G.s:1476   .text.MLX90393_StartDMA:0000000000000054 $d
     /tmp/ccEyeU0G.s:1483   .text.MLX90393_StopDMA:0000000000000000 $t
     /tmp/ccEyeU0G.s:1491   .text.MLX90393_StopDMA:0000000000000000 MLX90393_StopDMA
     /tmp/ccEyeU0G.s:1563   .text.MLX90393_StopDMA:000000000000003c $d

UNDEFINED SYMBOLS
SPI_FullDuplex_TransmitReceive
GPIO_Init
Delay_us
Delay_ms
pin_config
DMA_Cmd
